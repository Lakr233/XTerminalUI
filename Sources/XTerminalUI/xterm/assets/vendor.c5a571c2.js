const ur={},di=(k,x)=>k===x,sr=Symbol("solid-proxy"),Nr={equals:di};let ei=ni;const pr={},Be=1,kr=2,ti={owned:null,cleanups:null,context:null,owner:null};var se=null;let vr=null,re=null,gr=null,le=null,ve=null,Hr=0;function _i(k,x){const C=re,H=se,D=k.length===0?ti:{owned:null,cleanups:null,context:null,owner:x||H};se=D,re=null;try{return Ur(()=>k(()=>qr(D)),!0)}finally{re=C,se=H}}function gi(k,x){x=x?Object.assign({},Nr,x):Nr;const C={value:k,observers:null,observerSlots:null,pending:pr,comparator:x.equals||void 0},H=D=>(typeof D=="function"&&(D=D(C.pending!==pr?C.pending:C.value)),Fr(C,D));return[pi.bind(C),H]}function wn(k,x,C){const H=jr(k,x,!0,Be);yr(H)}function ar(k,x,C){const H=jr(k,x,!1,Be);yr(H)}function bi(k,x,C){ei=mi;const H=jr(k,x,!1,Be);H.user=!0,ve?ve.push(H):queueMicrotask(()=>yr(H))}function ri(k){if(gr)return k();let x;const C=gr=[];try{x=k()}finally{gr=null}return Ur(()=>{for(let H=0;H<C.length;H+=1){const D=C[H];if(D.pending!==pr){const i=D.pending;D.pending=pr,Fr(D,i)}}},!1),x}function Wr(k){let x,C=re;return re=null,x=k(),re=C,x}function kn(k){bi(()=>Wr(k))}function Ln(k){return se===null||(se.cleanups===null?se.cleanups=[k]:se.cleanups.push(k)),k}function ii(){return re}function pi(){const k=vr;if(this.sources&&(this.state||k)){const x=le;le=null,this.state===Be||k?yr(this):Lr(this),le=x}if(re){const x=this.observers?this.observers.length:0;re.sources?(re.sources.push(this),re.sourceSlots.push(x)):(re.sources=[this],re.sourceSlots=[x]),this.observers?(this.observers.push(re),this.observerSlots.push(re.sources.length-1)):(this.observers=[re],this.observerSlots=[re.sources.length-1])}return this.value}function Fr(k,x,C){if(k.comparator&&k.comparator(k.value,x))return x;if(gr)return k.pending===pr&&gr.push(k),k.pending=x,x;let H=!1;return k.value=x,k.observers&&k.observers.length&&Ur(()=>{for(let D=0;D<k.observers.length;D+=1){const i=k.observers[D];H&&vr.disposed.has(i),(H&&!i.tState||!H&&!i.state)&&(i.pure?le.push(i):ve.push(i),i.observers&&oi(i)),H||(i.state=Be)}if(le.length>1e6)throw le=[],new Error},!1),x}function yr(k){if(!k.fn)return;qr(k);const x=se,C=re,H=Hr;re=se=k,vi(k,k.value,H),re=C,se=x}function vi(k,x,C){let H;try{H=k.fn(x)}catch(D){si(D)}(!k.updatedAt||k.updatedAt<=C)&&(k.observers&&k.observers.length?Fr(k,H):k.value=H,k.updatedAt=C)}function jr(k,x,C,H=Be,D){const i={fn:k,state:H,updatedAt:null,owned:null,sources:null,sourceSlots:null,cleanups:null,value:x,owner:se,context:null,pure:C};return se===null||se!==ti&&(se.owned?se.owned.push(i):se.owned=[i]),i}function br(k){const x=vr;if(k.state===0||x)return;if(k.state===kr||x)return Lr(k);if(k.suspense&&Wr(k.suspense.inFallback))return k.suspense.effects.push(k);const C=[k];for(;(k=k.owner)&&(!k.updatedAt||k.updatedAt<Hr);)(k.state||x)&&C.push(k);for(let H=C.length-1;H>=0;H--)if(k=C[H],k.state===Be||x)yr(k);else if(k.state===kr||x){const D=le;le=null,Lr(k,C[0]),le=D}}function Ur(k,x){if(le)return k();let C=!1;x||(le=[]),ve?C=!0:ve=[],Hr++;try{return k()}catch(H){si(H)}finally{yi(C)}}function yi(k){le&&(ni(le),le=null),!k&&(ve.length?ri(()=>{ei(ve),ve=null}):ve=null)}function ni(k){for(let x=0;x<k.length;x++)br(k[x])}function mi(k){let x,C=0;for(x=0;x<k.length;x++){const D=k[x];D.user?k[C++]=D:br(D)}const H=k.length;for(x=0;x<C;x++)br(k[x]);for(x=H;x<k.length;x++)br(k[x])}function Lr(k,x){const C=vr;k.state=0;for(let H=0;H<k.sources.length;H+=1){const D=k.sources[H];D.sources&&(D.state===Be||C?D!==x&&br(D):(D.state===kr||C)&&Lr(D,x))}}function oi(k){const x=vr;for(let C=0;C<k.observers.length;C+=1){const H=k.observers[C];(!H.state||x)&&(H.state=kr,H.pure?le.push(H):ve.push(H),H.observers&&oi(H))}}function qr(k){let x;if(k.sources)for(;k.sources.length;){const C=k.sources.pop(),H=k.sourceSlots.pop(),D=C.observers;if(D&&D.length){const i=D.pop(),g=C.observerSlots.pop();H<D.length&&(i.sourceSlots[g]=H,D[H]=i,C.observerSlots[H]=g)}}if(k.owned){for(x=0;x<k.owned.length;x++)qr(k.owned[x]);k.owned=null}if(k.cleanups){for(x=0;x<k.cleanups.length;x++)k.cleanups[x]();k.cleanups=null}k.state=0,k.context=null}function si(k){throw k}function En(k,x){return Wr(()=>k(x))}const Ci=["allowfullscreen","async","autofocus","autoplay","checked","controls","default","disabled","formnovalidate","hidden","indeterminate","ismap","loop","multiple","muted","nomodule","novalidate","open","playsinline","readonly","required","reversed","seamless","selected"],Si=new Set(["className","value","readOnly","formNoValidate","isMap","noModule","playsInline",...Ci]),wi=new Set(["innerHTML","textContent","innerText","children"]),ki={className:"class",htmlFor:"for"},Gr={class:"className",formnovalidate:"formNoValidate",ismap:"isMap",nomodule:"noModule",playsinline:"playsInline",readonly:"readOnly"},Li=new Set(["beforeinput","click","dblclick","contextmenu","focusin","focusout","input","keydown","keyup","mousedown","mousemove","mouseout","mouseover","mouseup","pointerdown","pointermove","pointerout","pointerover","pointerup","touchend","touchmove","touchstart"]),Ei={xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace"};function Mi(k,x,C){let H=C.length,D=x.length,i=H,g=0,a=0,h=x[D-1].nextSibling,u=null;for(;g<D||a<i;){if(x[g]===C[a]){g++,a++;continue}for(;x[D-1]===C[i-1];)D--,i--;if(D===g){const f=i<H?a?C[a-1].nextSibling:C[i-a]:h;for(;a<i;)k.insertBefore(C[a++],f)}else if(i===a)for(;g<D;)(!u||!u.has(x[g]))&&x[g].remove(),g++;else if(x[g]===C[i-1]&&C[a]===x[D-1]){const f=x[--D].nextSibling;k.insertBefore(C[a++],x[g++].nextSibling),k.insertBefore(C[--i],f),x[D]=C[i]}else{if(!u){u=new Map;let v=a;for(;v<i;)u.set(C[v],v++)}const f=u.get(x[g]);if(f!=null)if(a<f&&f<i){let v=g,b=1,o;for(;++v<D&&v<i&&!((o=u.get(x[v]))==null||o!==f+b);)b++;if(b>f-a){const c=x[g];for(;a<f;)k.insertBefore(C[a++],c)}else k.replaceChild(C[a++],x[g++])}else g++;else x[g++].remove()}}}const Yr="_$DX_DELEGATE";function Mn(k,x,C){let H;return _i(D=>{H=D,x===document?k():Di(x,k(),x.firstChild?null:void 0,C)}),()=>{H(),x.textContent=""}}function Bn(k,x,C){const H=document.createElement("template");H.innerHTML=k;let D=H.content.firstChild;return C&&(D=D.firstChild),D}function Bi(k,x=window.document){const C=x[Yr]||(x[Yr]=new Set);for(let H=0,D=k.length;H<D;H++){const i=k[H];C.has(i)||(C.add(i),x.addEventListener(i,Hi))}}function Ri(k,x,C){C==null?k.removeAttribute(x):k.setAttribute(x,C)}function xi(k,x,C,H){H==null?k.removeAttributeNS(x,C):k.setAttributeNS(x,C,H)}function Ai(k,x,C,H){H?Array.isArray(C)?(k[`$$${x}`]=C[0],k[`$$${x}Data`]=C[1]):k[`$$${x}`]=C:Array.isArray(C)?k.addEventListener(x,D=>C[0](C[1],D)):k.addEventListener(x,C)}function Oi(k,x,C={}){const H=Object.keys(x||{}),D=Object.keys(C);let i,g;for(i=0,g=D.length;i<g;i++){const a=D[i];!a||a==="undefined"||x[a]||(zr(k,a,!1),delete C[a])}for(i=0,g=H.length;i<g;i++){const a=H[i],h=!!x[a];!a||a==="undefined"||C[a]===h||!h||(zr(k,a,!0),C[a]=h)}return C}function Ti(k,x,C={}){const H=k.style;if(x==null||typeof x=="string")return H.cssText=x;typeof C=="string"&&(C={});let D,i;for(i in C)x[i]==null&&H.removeProperty(i),delete C[i];for(i in x)D=x[i],D!==C[i]&&(H.setProperty(i,D),C[i]=D);return C}function Rn(k,x,C,H){typeof x=="function"?ar(D=>Vr(k,x(),D,C,H)):Vr(k,x,void 0,C,H)}function Di(k,x,C,H){if(C!==void 0&&!H&&(H=[]),typeof x!="function")return cr(k,x,H,C);ar(D=>cr(k,x(),D,C),H)}function Pi(k,x,C,H,D={}){for(const i in D)if(!(i in x)){if(i==="children")continue;Kr(k,i,null,D[i],C)}for(const i in x){if(i==="children"){H||cr(k,x.children);continue}const g=x[i];D[i]=Kr(k,i,g,D[i],C)}}function Ii(k){return k.toLowerCase().replace(/-([a-z])/g,(x,C)=>C.toUpperCase())}function zr(k,x,C){const H=x.trim().split(/\s+/);for(let D=0,i=H.length;D<i;D++)k.classList.toggle(H[D],C)}function Kr(k,x,C,H,D){let i,g,a;if(x==="style")return Ti(k,C,H);if(x==="classList")return Oi(k,C,H);if(C===H)return H;if(x==="ref")C(k);else if(x.slice(0,3)==="on:")k.addEventListener(x.slice(3),C);else if(x.slice(0,10)==="oncapture:")k.addEventListener(x.slice(10),C,!0);else if(x.slice(0,2)==="on"){const h=x.slice(2).toLowerCase(),u=Li.has(h);Ai(k,h,C,u),u&&Bi([h])}else if((a=wi.has(x))||!D&&(Gr[x]||(g=Si.has(x)))||(i=k.nodeName.includes("-")))i&&!g&&!a?k[Ii(x)]=C:k[Gr[x]||x]=C;else{const h=D&&x.indexOf(":")>-1&&Ei[x.split(":")[0]];h?xi(k,h,x,C):Ri(k,ki[x]||x,C)}return C}function Hi(k){const x=`$$${k.type}`;let C=k.composedPath&&k.composedPath()[0]||k.target;for(k.target!==C&&Object.defineProperty(k,"target",{configurable:!0,value:C}),Object.defineProperty(k,"currentTarget",{configurable:!0,get(){return C||document}});C!==null;){const H=C[x];if(H&&!C.disabled){const D=C[`${x}Data`];if(D!==void 0?H(D,k):H(k),k.cancelBubble)return}C=C.host&&C.host!==C&&C.host instanceof Node?C.host:C.parentNode}}function Vr(k,x,C={},H,D){return!D&&"children"in x&&ar(()=>C.children=cr(k,x.children,C.children)),ar(()=>Pi(k,x,H,!0,C)),C}function cr(k,x,C,H,D){for(ur.context&&!C&&(C=[...k.childNodes]);typeof C=="function";)C=C();if(x===C)return C;const i=typeof x,g=H!==void 0;if(k=g&&C[0]&&C[0].parentNode||k,i==="string"||i==="number"){if(ur.context)return C;if(i==="number"&&(x=x.toString()),g){let a=C[0];a&&a.nodeType===3?a.data=x:a=document.createTextNode(x),C=or(k,C,H,a)}else C!==""&&typeof C=="string"?C=k.firstChild.data=x:C=k.textContent=x}else if(x==null||i==="boolean"){if(ur.context)return C;C=or(k,C,H)}else{if(i==="function")return ar(()=>{let a=x();for(;typeof a=="function";)a=a();C=cr(k,a,C,H)}),()=>C;if(Array.isArray(x)){const a=[];if(Dr(a,x,D))return ar(()=>C=cr(k,a,C,H,!0)),()=>C;if(ur.context){for(let h=0;h<a.length;h++)if(a[h].parentNode)return C=a}if(a.length===0){if(C=or(k,C,H),g)return C}else Array.isArray(C)?C.length===0?Xr(k,a,H):Mi(k,C,a):(C&&or(k),Xr(k,a));C=a}else if(x instanceof Node){if(ur.context&&x.parentNode)return C=g?[x]:x;if(Array.isArray(C)){if(g)return C=or(k,C,H,x);or(k,C,null,x)}else C==null||C===""||!k.firstChild?k.appendChild(x):k.replaceChild(x,k.firstChild);C=x}}return C}function Dr(k,x,C){let H=!1;for(let D=0,i=x.length;D<i;D++){let g=x[D],a;if(g instanceof Node)k.push(g);else if(!(g==null||g===!0||g===!1))if(Array.isArray(g))H=Dr(k,g)||H;else if((a=typeof g)=="string")k.push(document.createTextNode(g));else if(a==="function")if(C){for(;typeof g=="function";)g=g();H=Dr(k,Array.isArray(g)?g:[g])||H}else k.push(g),H=!0;else k.push(document.createTextNode(g.toString()))}return H}function Xr(k,x,C){for(let H=0,D=x.length;H<D;H++)k.insertBefore(x[H],C)}function or(k,x,C,H){if(C===void 0)return k.textContent="";const D=H||document.createTextNode("");if(x.length){let i=!1;for(let g=x.length-1;g>=0;g--){const a=x[g];if(D!==a){const h=a.parentNode===k;!i&&!g?h?k.replaceChild(D,a):k.insertBefore(D,C):h&&a.remove()}else i=!0}}else k.insertBefore(D,C);return[D]}var Wi=typeof global=="object"&&global&&global.Object===Object&&global,Fi=Wi,ji=typeof self=="object"&&self&&self.Object===Object&&self,Ui=Fi||ji||Function("return this")(),ai=Ui,qi=ai.Symbol,Er=qi,ci=Object.prototype,Ni=ci.hasOwnProperty,Gi=ci.toString,dr=Er?Er.toStringTag:void 0;function Yi(k){var x=Ni.call(k,dr),C=k[dr];try{k[dr]=void 0;var H=!0}catch{}var D=Gi.call(k);return H&&(x?k[dr]=C:delete k[dr]),D}var zi=Object.prototype,Ki=zi.toString;function Vi(k){return Ki.call(k)}var Xi="[object Null]",Ji="[object Undefined]",Jr=Er?Er.toStringTag:void 0;function Zi(k){return k==null?k===void 0?Ji:Xi:Jr&&Jr in Object(k)?Yi(k):Vi(k)}function $i(k){return k!=null&&typeof k=="object"}var Qi="[object Symbol]";function en(k){return typeof k=="symbol"||$i(k)&&Zi(k)==Qi}var tn=/\s/;function rn(k){for(var x=k.length;x--&&tn.test(k.charAt(x)););return x}var nn=/^\s+/;function on(k){return k&&k.slice(0,rn(k)+1).replace(nn,"")}function Pr(k){var x=typeof k;return k!=null&&(x=="object"||x=="function")}var Zr=0/0,sn=/^[-+]0x[0-9a-f]+$/i,an=/^0b[01]+$/i,cn=/^0o[0-7]+$/i,ln=parseInt;function $r(k){if(typeof k=="number")return k;if(en(k))return Zr;if(Pr(k)){var x=typeof k.valueOf=="function"?k.valueOf():k;k=Pr(x)?x+"":x}if(typeof k!="string")return k===0?k:+k;k=on(k);var C=an.test(k);return C||cn.test(k)?ln(k.slice(2),C?2:8):sn.test(k)?Zr:+k}var hn=function(){return ai.Date.now()},Tr=hn,fn="Expected a function",un=Math.max,dn=Math.min;function xn(k,x,C){var H,D,i,g,a,h,u=0,f=!1,v=!1,b=!0;if(typeof k!="function")throw new TypeError(fn);x=$r(x)||0,Pr(C)&&(f=!!C.leading,v="maxWait"in C,i=v?un($r(C.maxWait)||0,x):i,b="trailing"in C?!!C.trailing:b);function o(_){var p=H,w=D;return H=D=void 0,u=_,g=k.apply(w,p),g}function c(_){return u=_,a=setTimeout(t,x),f?o(_):g}function d(_){var p=_-h,w=_-u,S=x-p;return v?dn(S,i-w):S}function n(_){var p=_-h,w=_-u;return h===void 0||p>=x||p<0||v&&w>=i}function t(){var _=Tr();if(n(_))return e(_);a=setTimeout(t,d(_))}function e(_){return a=void 0,b&&H?o(_):(H=D=void 0,g)}function r(){a!==void 0&&clearTimeout(a),u=0,H=h=D=a=void 0}function s(){return a===void 0?g:e(Tr())}function l(){var _=Tr(),p=n(_);if(H=arguments,D=this,h=_,p){if(a===void 0)return c(h);if(v)return clearTimeout(a),a=setTimeout(t,x),o(h)}return a===void 0&&(a=setTimeout(t,x)),g}return l.cancel=r,l.flush=s,l}var _n=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},gn={exports:{}};(function(k,x){(function(C,H){k.exports=H()})(self,function(){return(()=>{var C={4567:function(D,i,g){var a,h=this&&this.__extends||(a=function(t,e){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,s){r.__proto__=s}||function(r,s){for(var l in s)Object.prototype.hasOwnProperty.call(s,l)&&(r[l]=s[l])},a(t,e)},function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}a(t,e),t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(i,"__esModule",{value:!0}),i.AccessibilityManager=void 0;var u=g(9042),f=g(6114),v=g(9924),b=g(3656),o=g(844),c=g(5596),d=g(9631),n=function(t){function e(r,s){var l=t.call(this)||this;l._terminal=r,l._renderService=s,l._liveRegionLineCount=0,l._charsToConsume=[],l._charsToAnnounce="",l._accessibilityTreeRoot=document.createElement("div"),l._accessibilityTreeRoot.classList.add("xterm-accessibility"),l._accessibilityTreeRoot.tabIndex=0,l._rowContainer=document.createElement("div"),l._rowContainer.setAttribute("role","list"),l._rowContainer.classList.add("xterm-accessibility-tree"),l._rowElements=[];for(var _=0;_<l._terminal.rows;_++)l._rowElements[_]=l._createAccessibilityTreeNode(),l._rowContainer.appendChild(l._rowElements[_]);if(l._topBoundaryFocusListener=function(p){return l._onBoundaryFocus(p,0)},l._bottomBoundaryFocusListener=function(p){return l._onBoundaryFocus(p,1)},l._rowElements[0].addEventListener("focus",l._topBoundaryFocusListener),l._rowElements[l._rowElements.length-1].addEventListener("focus",l._bottomBoundaryFocusListener),l._refreshRowsDimensions(),l._accessibilityTreeRoot.appendChild(l._rowContainer),l._renderRowsDebouncer=new v.TimeBasedDebouncer(l._renderRows.bind(l)),l._refreshRows(),l._liveRegion=document.createElement("div"),l._liveRegion.classList.add("live-region"),l._liveRegion.setAttribute("aria-live","assertive"),l._accessibilityTreeRoot.appendChild(l._liveRegion),!l._terminal.element)throw new Error("Cannot enable accessibility before Terminal.open");return l._terminal.element.insertAdjacentElement("afterbegin",l._accessibilityTreeRoot),l.register(l._renderRowsDebouncer),l.register(l._terminal.onResize(function(p){return l._onResize(p.rows)})),l.register(l._terminal.onRender(function(p){return l._refreshRows(p.start,p.end)})),l.register(l._terminal.onScroll(function(){return l._refreshRows()})),l.register(l._terminal.onA11yChar(function(p){return l._onChar(p)})),l.register(l._terminal.onLineFeed(function(){return l._onChar(`
`)})),l.register(l._terminal.onA11yTab(function(p){return l._onTab(p)})),l.register(l._terminal.onKey(function(p){return l._onKey(p.key)})),l.register(l._terminal.onBlur(function(){return l._clearLiveRegion()})),l.register(l._renderService.onDimensionsChange(function(){return l._refreshRowsDimensions()})),l._screenDprMonitor=new c.ScreenDprMonitor,l.register(l._screenDprMonitor),l._screenDprMonitor.setListener(function(){return l._refreshRowsDimensions()}),l.register((0,b.addDisposableDomListener)(window,"resize",function(){return l._refreshRowsDimensions()})),l}return h(e,t),e.prototype.dispose=function(){t.prototype.dispose.call(this),(0,d.removeElementFromParent)(this._accessibilityTreeRoot),this._rowElements.length=0},e.prototype._onBoundaryFocus=function(r,s){var l=r.target,_=this._rowElements[s===0?1:this._rowElements.length-2];if(l.getAttribute("aria-posinset")!==(s===0?"1":""+this._terminal.buffer.lines.length)&&r.relatedTarget===_){var p,w;if(s===0?(p=l,w=this._rowElements.pop(),this._rowContainer.removeChild(w)):(p=this._rowElements.shift(),w=l,this._rowContainer.removeChild(p)),p.removeEventListener("focus",this._topBoundaryFocusListener),w.removeEventListener("focus",this._bottomBoundaryFocusListener),s===0){var S=this._createAccessibilityTreeNode();this._rowElements.unshift(S),this._rowContainer.insertAdjacentElement("afterbegin",S)}else S=this._createAccessibilityTreeNode(),this._rowElements.push(S),this._rowContainer.appendChild(S);this._rowElements[0].addEventListener("focus",this._topBoundaryFocusListener),this._rowElements[this._rowElements.length-1].addEventListener("focus",this._bottomBoundaryFocusListener),this._terminal.scrollLines(s===0?-1:1),this._rowElements[s===0?1:this._rowElements.length-2].focus(),r.preventDefault(),r.stopImmediatePropagation()}},e.prototype._onResize=function(r){this._rowElements[this._rowElements.length-1].removeEventListener("focus",this._bottomBoundaryFocusListener);for(var s=this._rowContainer.children.length;s<this._terminal.rows;s++)this._rowElements[s]=this._createAccessibilityTreeNode(),this._rowContainer.appendChild(this._rowElements[s]);for(;this._rowElements.length>r;)this._rowContainer.removeChild(this._rowElements.pop());this._rowElements[this._rowElements.length-1].addEventListener("focus",this._bottomBoundaryFocusListener),this._refreshRowsDimensions()},e.prototype._createAccessibilityTreeNode=function(){var r=document.createElement("div");return r.setAttribute("role","listitem"),r.tabIndex=-1,this._refreshRowDimensions(r),r},e.prototype._onTab=function(r){for(var s=0;s<r;s++)this._onChar(" ")},e.prototype._onChar=function(r){var s=this;this._liveRegionLineCount<21&&(this._charsToConsume.length>0?this._charsToConsume.shift()!==r&&(this._charsToAnnounce+=r):this._charsToAnnounce+=r,r===`
`&&(this._liveRegionLineCount++,this._liveRegionLineCount===21&&(this._liveRegion.textContent+=u.tooMuchOutput)),f.isMac&&this._liveRegion.textContent&&this._liveRegion.textContent.length>0&&!this._liveRegion.parentNode&&setTimeout(function(){s._accessibilityTreeRoot.appendChild(s._liveRegion)},0))},e.prototype._clearLiveRegion=function(){this._liveRegion.textContent="",this._liveRegionLineCount=0,f.isMac&&(0,d.removeElementFromParent)(this._liveRegion)},e.prototype._onKey=function(r){this._clearLiveRegion(),this._charsToConsume.push(r)},e.prototype._refreshRows=function(r,s){this._renderRowsDebouncer.refresh(r,s,this._terminal.rows)},e.prototype._renderRows=function(r,s){for(var l=this._terminal.buffer,_=l.lines.length.toString(),p=r;p<=s;p++){var w=l.translateBufferLineToString(l.ydisp+p,!0),S=(l.ydisp+p+1).toString(),y=this._rowElements[p];y&&(w.length===0?y.innerText="\xA0":y.textContent=w,y.setAttribute("aria-posinset",S),y.setAttribute("aria-setsize",_))}this._announceCharacters()},e.prototype._refreshRowsDimensions=function(){if(this._renderService.dimensions.actualCellHeight){this._rowElements.length!==this._terminal.rows&&this._onResize(this._terminal.rows);for(var r=0;r<this._terminal.rows;r++)this._refreshRowDimensions(this._rowElements[r])}},e.prototype._refreshRowDimensions=function(r){r.style.height=this._renderService.dimensions.actualCellHeight+"px"},e.prototype._announceCharacters=function(){this._charsToAnnounce.length!==0&&(this._liveRegion.textContent+=this._charsToAnnounce,this._charsToAnnounce="")},e}(o.Disposable);i.AccessibilityManager=n},3614:(D,i)=>{function g(f){return f.replace(/\r?\n/g,"\r")}function a(f,v){return v?"\x1B[200~"+f+"\x1B[201~":f}function h(f,v,b){f=a(f=g(f),b.decPrivateModes.bracketedPasteMode),b.triggerDataEvent(f,!0),v.value=""}function u(f,v,b){var o=b.getBoundingClientRect(),c=f.clientX-o.left-10,d=f.clientY-o.top-10;v.style.width="20px",v.style.height="20px",v.style.left=c+"px",v.style.top=d+"px",v.style.zIndex="1000",v.focus()}Object.defineProperty(i,"__esModule",{value:!0}),i.rightClickHandler=i.moveTextAreaUnderMouseCursor=i.paste=i.handlePasteEvent=i.copyHandler=i.bracketTextForPaste=i.prepareTextForTerminal=void 0,i.prepareTextForTerminal=g,i.bracketTextForPaste=a,i.copyHandler=function(f,v){f.clipboardData&&f.clipboardData.setData("text/plain",v.selectionText),f.preventDefault()},i.handlePasteEvent=function(f,v,b){f.stopPropagation(),f.clipboardData&&h(f.clipboardData.getData("text/plain"),v,b)},i.paste=h,i.moveTextAreaUnderMouseCursor=u,i.rightClickHandler=function(f,v,b,o,c){u(f,v,b),c&&o.rightClickSelect(f),v.value=o.selectionText,v.select()}},4774:(D,i)=>{var g,a,h,u;function f(b){var o=b.toString(16);return o.length<2?"0"+o:o}function v(b,o){return b<o?(o+.05)/(b+.05):(b+.05)/(o+.05)}Object.defineProperty(i,"__esModule",{value:!0}),i.contrastRatio=i.toPaddedHex=i.rgba=i.rgb=i.css=i.color=i.channels=void 0,function(b){b.toCss=function(o,c,d,n){return n!==void 0?"#"+f(o)+f(c)+f(d)+f(n):"#"+f(o)+f(c)+f(d)},b.toRgba=function(o,c,d,n){return n===void 0&&(n=255),(o<<24|c<<16|d<<8|n)>>>0}}(g=i.channels||(i.channels={})),(a=i.color||(i.color={})).blend=function(b,o){var c=(255&o.rgba)/255;if(c===1)return{css:o.css,rgba:o.rgba};var d=o.rgba>>24&255,n=o.rgba>>16&255,t=o.rgba>>8&255,e=b.rgba>>24&255,r=b.rgba>>16&255,s=b.rgba>>8&255,l=e+Math.round((d-e)*c),_=r+Math.round((n-r)*c),p=s+Math.round((t-s)*c);return{css:g.toCss(l,_,p),rgba:g.toRgba(l,_,p)}},a.isOpaque=function(b){return(255&b.rgba)==255},a.ensureContrastRatio=function(b,o,c){var d=u.ensureContrastRatio(b.rgba,o.rgba,c);if(d)return u.toColor(d>>24&255,d>>16&255,d>>8&255)},a.opaque=function(b){var o=(255|b.rgba)>>>0,c=u.toChannels(o),d=c[0],n=c[1],t=c[2];return{css:g.toCss(d,n,t),rgba:o}},a.opacity=function(b,o){var c=Math.round(255*o),d=u.toChannels(b.rgba),n=d[0],t=d[1],e=d[2];return{css:g.toCss(n,t,e,c),rgba:g.toRgba(n,t,e,c)}},a.toColorRGB=function(b){return[b.rgba>>24&255,b.rgba>>16&255,b.rgba>>8&255]},(i.css||(i.css={})).toColor=function(b){switch(b.length){case 7:return{css:b,rgba:(parseInt(b.slice(1),16)<<8|255)>>>0};case 9:return{css:b,rgba:parseInt(b.slice(1),16)>>>0}}throw new Error("css.toColor: Unsupported css format")},function(b){function o(c,d,n){var t=c/255,e=d/255,r=n/255;return .2126*(t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4))+.7152*(e<=.03928?e/12.92:Math.pow((e+.055)/1.055,2.4))+.0722*(r<=.03928?r/12.92:Math.pow((r+.055)/1.055,2.4))}b.relativeLuminance=function(c){return o(c>>16&255,c>>8&255,255&c)},b.relativeLuminance2=o}(h=i.rgb||(i.rgb={})),function(b){function o(d,n,t){for(var e=d>>24&255,r=d>>16&255,s=d>>8&255,l=n>>24&255,_=n>>16&255,p=n>>8&255,w=v(h.relativeLuminance2(l,p,_),h.relativeLuminance2(e,r,s));w<t&&(l>0||_>0||p>0);)l-=Math.max(0,Math.ceil(.1*l)),_-=Math.max(0,Math.ceil(.1*_)),p-=Math.max(0,Math.ceil(.1*p)),w=v(h.relativeLuminance2(l,p,_),h.relativeLuminance2(e,r,s));return(l<<24|_<<16|p<<8|255)>>>0}function c(d,n,t){for(var e=d>>24&255,r=d>>16&255,s=d>>8&255,l=n>>24&255,_=n>>16&255,p=n>>8&255,w=v(h.relativeLuminance2(l,p,_),h.relativeLuminance2(e,r,s));w<t&&(l<255||_<255||p<255);)l=Math.min(255,l+Math.ceil(.1*(255-l))),_=Math.min(255,_+Math.ceil(.1*(255-_))),p=Math.min(255,p+Math.ceil(.1*(255-p))),w=v(h.relativeLuminance2(l,p,_),h.relativeLuminance2(e,r,s));return(l<<24|_<<16|p<<8|255)>>>0}b.ensureContrastRatio=function(d,n,t){var e=h.relativeLuminance(d>>8),r=h.relativeLuminance(n>>8);if(v(e,r)<t)return r<e?o(d,n,t):c(d,n,t)},b.reduceLuminance=o,b.increaseLuminance=c,b.toChannels=function(d){return[d>>24&255,d>>16&255,d>>8&255,255&d]},b.toColor=function(d,n,t){return{css:g.toCss(d,n,t),rgba:g.toRgba(d,n,t)}}}(u=i.rgba||(i.rgba={})),i.toPaddedHex=f,i.contrastRatio=v},7239:(D,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.ColorContrastCache=void 0;var g=function(){function a(){this._color={},this._rgba={}}return a.prototype.clear=function(){this._color={},this._rgba={}},a.prototype.setCss=function(h,u,f){this._rgba[h]||(this._rgba[h]={}),this._rgba[h][u]=f},a.prototype.getCss=function(h,u){return this._rgba[h]?this._rgba[h][u]:void 0},a.prototype.setColor=function(h,u,f){this._color[h]||(this._color[h]={}),this._color[h][u]=f},a.prototype.getColor=function(h,u){return this._color[h]?this._color[h][u]:void 0},a}();i.ColorContrastCache=g},5680:function(D,i,g){var a=this&&this.__spreadArray||function(n,t,e){if(e||arguments.length===2)for(var r,s=0,l=t.length;s<l;s++)!r&&s in t||(r||(r=Array.prototype.slice.call(t,0,s)),r[s]=t[s]);return n.concat(r||Array.prototype.slice.call(t))};Object.defineProperty(i,"__esModule",{value:!0}),i.ColorManager=i.DEFAULT_ANSI_COLORS=void 0;var h=g(4774),u=g(7239),f=h.css.toColor("#ffffff"),v=h.css.toColor("#000000"),b=h.css.toColor("#ffffff"),o=h.css.toColor("#000000"),c={css:"rgba(255, 255, 255, 0.3)",rgba:4294967117};i.DEFAULT_ANSI_COLORS=Object.freeze(function(){for(var n=[h.css.toColor("#2e3436"),h.css.toColor("#cc0000"),h.css.toColor("#4e9a06"),h.css.toColor("#c4a000"),h.css.toColor("#3465a4"),h.css.toColor("#75507b"),h.css.toColor("#06989a"),h.css.toColor("#d3d7cf"),h.css.toColor("#555753"),h.css.toColor("#ef2929"),h.css.toColor("#8ae234"),h.css.toColor("#fce94f"),h.css.toColor("#729fcf"),h.css.toColor("#ad7fa8"),h.css.toColor("#34e2e2"),h.css.toColor("#eeeeec")],t=[0,95,135,175,215,255],e=0;e<216;e++){var r=t[e/36%6|0],s=t[e/6%6|0],l=t[e%6];n.push({css:h.channels.toCss(r,s,l),rgba:h.channels.toRgba(r,s,l)})}for(e=0;e<24;e++){var _=8+10*e;n.push({css:h.channels.toCss(_,_,_),rgba:h.channels.toRgba(_,_,_)})}return n}());var d=function(){function n(t,e){this.allowTransparency=e;var r=t.createElement("canvas");r.width=1,r.height=1;var s=r.getContext("2d");if(!s)throw new Error("Could not get rendering context");this._ctx=s,this._ctx.globalCompositeOperation="copy",this._litmusColor=this._ctx.createLinearGradient(0,0,1,1),this._contrastCache=new u.ColorContrastCache,this.colors={foreground:f,background:v,cursor:b,cursorAccent:o,selectionTransparent:c,selectionOpaque:h.color.blend(v,c),ansi:i.DEFAULT_ANSI_COLORS.slice(),contrastCache:this._contrastCache},this._updateRestoreColors()}return n.prototype.onOptionsChange=function(t){t==="minimumContrastRatio"&&this._contrastCache.clear()},n.prototype.setTheme=function(t){t===void 0&&(t={}),this.colors.foreground=this._parseColor(t.foreground,f),this.colors.background=this._parseColor(t.background,v),this.colors.cursor=this._parseColor(t.cursor,b,!0),this.colors.cursorAccent=this._parseColor(t.cursorAccent,o,!0),this.colors.selectionTransparent=this._parseColor(t.selection,c,!0),this.colors.selectionOpaque=h.color.blend(this.colors.background,this.colors.selectionTransparent),h.color.isOpaque(this.colors.selectionTransparent)&&(this.colors.selectionTransparent=h.color.opacity(this.colors.selectionTransparent,.3)),this.colors.ansi[0]=this._parseColor(t.black,i.DEFAULT_ANSI_COLORS[0]),this.colors.ansi[1]=this._parseColor(t.red,i.DEFAULT_ANSI_COLORS[1]),this.colors.ansi[2]=this._parseColor(t.green,i.DEFAULT_ANSI_COLORS[2]),this.colors.ansi[3]=this._parseColor(t.yellow,i.DEFAULT_ANSI_COLORS[3]),this.colors.ansi[4]=this._parseColor(t.blue,i.DEFAULT_ANSI_COLORS[4]),this.colors.ansi[5]=this._parseColor(t.magenta,i.DEFAULT_ANSI_COLORS[5]),this.colors.ansi[6]=this._parseColor(t.cyan,i.DEFAULT_ANSI_COLORS[6]),this.colors.ansi[7]=this._parseColor(t.white,i.DEFAULT_ANSI_COLORS[7]),this.colors.ansi[8]=this._parseColor(t.brightBlack,i.DEFAULT_ANSI_COLORS[8]),this.colors.ansi[9]=this._parseColor(t.brightRed,i.DEFAULT_ANSI_COLORS[9]),this.colors.ansi[10]=this._parseColor(t.brightGreen,i.DEFAULT_ANSI_COLORS[10]),this.colors.ansi[11]=this._parseColor(t.brightYellow,i.DEFAULT_ANSI_COLORS[11]),this.colors.ansi[12]=this._parseColor(t.brightBlue,i.DEFAULT_ANSI_COLORS[12]),this.colors.ansi[13]=this._parseColor(t.brightMagenta,i.DEFAULT_ANSI_COLORS[13]),this.colors.ansi[14]=this._parseColor(t.brightCyan,i.DEFAULT_ANSI_COLORS[14]),this.colors.ansi[15]=this._parseColor(t.brightWhite,i.DEFAULT_ANSI_COLORS[15]),this._contrastCache.clear(),this._updateRestoreColors()},n.prototype.restoreColor=function(t){if(t!==void 0)switch(t){case 256:this.colors.foreground=this._restoreColors.foreground;break;case 257:this.colors.background=this._restoreColors.background;break;case 258:this.colors.cursor=this._restoreColors.cursor;break;default:this.colors.ansi[t]=this._restoreColors.ansi[t]}else for(var e=0;e<this._restoreColors.ansi.length;++e)this.colors.ansi[e]=this._restoreColors.ansi[e]},n.prototype._updateRestoreColors=function(){this._restoreColors={foreground:this.colors.foreground,background:this.colors.background,cursor:this.colors.cursor,ansi:a([],this.colors.ansi,!0)}},n.prototype._parseColor=function(t,e,r){if(r===void 0&&(r=this.allowTransparency),t===void 0)return e;if(this._ctx.fillStyle=this._litmusColor,this._ctx.fillStyle=t,typeof this._ctx.fillStyle!="string")return console.warn("Color: "+t+" is invalid using fallback "+e.css),e;this._ctx.fillRect(0,0,1,1);var s=this._ctx.getImageData(0,0,1,1).data;if(s[3]!==255){if(!r)return console.warn("Color: "+t+" is using transparency, but allowTransparency is false. Using fallback "+e.css+"."),e;var l=this._ctx.fillStyle.substring(5,this._ctx.fillStyle.length-1).split(",").map(function(m){return Number(m)}),_=l[0],p=l[1],w=l[2],S=l[3],y=Math.round(255*S);return{rgba:h.channels.toRgba(_,p,w,y),css:t}}return{css:this._ctx.fillStyle,rgba:h.channels.toRgba(s[0],s[1],s[2],s[3])}},n}();i.ColorManager=d},9631:(D,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.removeElementFromParent=void 0,i.removeElementFromParent=function(){for(var g,a=[],h=0;h<arguments.length;h++)a[h]=arguments[h];for(var u=0,f=a;u<f.length;u++){var v=f[u];(g=v?.parentElement)===null||g===void 0||g.removeChild(v)}}},3656:(D,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.addDisposableDomListener=void 0,i.addDisposableDomListener=function(g,a,h,u){g.addEventListener(a,h,u);var f=!1;return{dispose:function(){f||(f=!0,g.removeEventListener(a,h,u))}}}},3551:function(D,i,g){var a=this&&this.__decorate||function(o,c,d,n){var t,e=arguments.length,r=e<3?c:n===null?n=Object.getOwnPropertyDescriptor(c,d):n;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(o,c,d,n);else for(var s=o.length-1;s>=0;s--)(t=o[s])&&(r=(e<3?t(r):e>3?t(c,d,r):t(c,d))||r);return e>3&&r&&Object.defineProperty(c,d,r),r},h=this&&this.__param||function(o,c){return function(d,n){c(d,n,o)}};Object.defineProperty(i,"__esModule",{value:!0}),i.MouseZone=i.Linkifier=void 0;var u=g(8460),f=g(2585),v=function(){function o(c,d,n){this._bufferService=c,this._logService=d,this._unicodeService=n,this._linkMatchers=[],this._nextLinkMatcherId=0,this._onShowLinkUnderline=new u.EventEmitter,this._onHideLinkUnderline=new u.EventEmitter,this._onLinkTooltip=new u.EventEmitter,this._rowsToLinkify={start:void 0,end:void 0}}return Object.defineProperty(o.prototype,"onShowLinkUnderline",{get:function(){return this._onShowLinkUnderline.event},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"onHideLinkUnderline",{get:function(){return this._onHideLinkUnderline.event},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"onLinkTooltip",{get:function(){return this._onLinkTooltip.event},enumerable:!1,configurable:!0}),o.prototype.attachToDom=function(c,d){this._element=c,this._mouseZoneManager=d},o.prototype.linkifyRows=function(c,d){var n=this;this._mouseZoneManager&&(this._rowsToLinkify.start===void 0||this._rowsToLinkify.end===void 0?(this._rowsToLinkify.start=c,this._rowsToLinkify.end=d):(this._rowsToLinkify.start=Math.min(this._rowsToLinkify.start,c),this._rowsToLinkify.end=Math.max(this._rowsToLinkify.end,d)),this._mouseZoneManager.clearAll(c,d),this._rowsTimeoutId&&clearTimeout(this._rowsTimeoutId),this._rowsTimeoutId=setTimeout(function(){return n._linkifyRows()},o._timeBeforeLatency))},o.prototype._linkifyRows=function(){this._rowsTimeoutId=void 0;var c=this._bufferService.buffer;if(this._rowsToLinkify.start!==void 0&&this._rowsToLinkify.end!==void 0){var d=c.ydisp+this._rowsToLinkify.start;if(!(d>=c.lines.length)){for(var n=c.ydisp+Math.min(this._rowsToLinkify.end,this._bufferService.rows)+1,t=Math.ceil(2e3/this._bufferService.cols),e=this._bufferService.buffer.iterator(!1,d,n,t,t);e.hasNext();)for(var r=e.next(),s=0;s<this._linkMatchers.length;s++)this._doLinkifyRow(r.range.first,r.content,this._linkMatchers[s]);this._rowsToLinkify.start=void 0,this._rowsToLinkify.end=void 0}}else this._logService.debug("_rowToLinkify was unset before _linkifyRows was called")},o.prototype.registerLinkMatcher=function(c,d,n){if(n===void 0&&(n={}),!d)throw new Error("handler must be defined");var t={id:this._nextLinkMatcherId++,regex:c,handler:d,matchIndex:n.matchIndex,validationCallback:n.validationCallback,hoverTooltipCallback:n.tooltipCallback,hoverLeaveCallback:n.leaveCallback,willLinkActivate:n.willLinkActivate,priority:n.priority||0};return this._addLinkMatcherToList(t),t.id},o.prototype._addLinkMatcherToList=function(c){if(this._linkMatchers.length!==0){for(var d=this._linkMatchers.length-1;d>=0;d--)if(c.priority<=this._linkMatchers[d].priority)return void this._linkMatchers.splice(d+1,0,c);this._linkMatchers.splice(0,0,c)}else this._linkMatchers.push(c)},o.prototype.deregisterLinkMatcher=function(c){for(var d=0;d<this._linkMatchers.length;d++)if(this._linkMatchers[d].id===c)return this._linkMatchers.splice(d,1),!0;return!1},o.prototype._doLinkifyRow=function(c,d,n){for(var t,e=this,r=new RegExp(n.regex.source,(n.regex.flags||"")+"g"),s=-1,l=function(){var p=t[typeof n.matchIndex!="number"?0:n.matchIndex];if(!p)return _._logService.debug("match found without corresponding matchIndex",t,n),"break";if(s=d.indexOf(p,s+1),r.lastIndex=s+p.length,s<0)return"break";var w=_._bufferService.buffer.stringIndexToBufferIndex(c,s);if(w[0]<0)return"break";var S=_._bufferService.buffer.lines.get(w[0]);if(!S)return"break";var y=S.getFg(w[1]),m=y?y>>9&511:void 0;n.validationCallback?n.validationCallback(p,function(M){e._rowsTimeoutId||M&&e._addLink(w[1],w[0]-e._bufferService.buffer.ydisp,p,n,m)}):_._addLink(w[1],w[0]-_._bufferService.buffer.ydisp,p,n,m)},_=this;(t=r.exec(d))!==null&&l()!=="break";);},o.prototype._addLink=function(c,d,n,t,e){var r=this;if(this._mouseZoneManager&&this._element){var s=this._unicodeService.getStringCellWidth(n),l=c%this._bufferService.cols,_=d+Math.floor(c/this._bufferService.cols),p=(l+s)%this._bufferService.cols,w=_+Math.floor((l+s)/this._bufferService.cols);p===0&&(p=this._bufferService.cols,w--),this._mouseZoneManager.add(new b(l+1,_+1,p+1,w+1,function(S){if(t.handler)return t.handler(S,n);var y=window.open();y?(y.opener=null,y.location.href=n):console.warn("Opening link blocked as opener could not be cleared")},function(){r._onShowLinkUnderline.fire(r._createLinkHoverEvent(l,_,p,w,e)),r._element.classList.add("xterm-cursor-pointer")},function(S){r._onLinkTooltip.fire(r._createLinkHoverEvent(l,_,p,w,e)),t.hoverTooltipCallback&&t.hoverTooltipCallback(S,n,{start:{x:l,y:_},end:{x:p,y:w}})},function(){r._onHideLinkUnderline.fire(r._createLinkHoverEvent(l,_,p,w,e)),r._element.classList.remove("xterm-cursor-pointer"),t.hoverLeaveCallback&&t.hoverLeaveCallback()},function(S){return!t.willLinkActivate||t.willLinkActivate(S,n)}))}},o.prototype._createLinkHoverEvent=function(c,d,n,t,e){return{x1:c,y1:d,x2:n,y2:t,cols:this._bufferService.cols,fg:e}},o._timeBeforeLatency=200,o=a([h(0,f.IBufferService),h(1,f.ILogService),h(2,f.IUnicodeService)],o)}();i.Linkifier=v;var b=function(o,c,d,n,t,e,r,s,l){this.x1=o,this.y1=c,this.x2=d,this.y2=n,this.clickCallback=t,this.hoverCallback=e,this.tooltipCallback=r,this.leaveCallback=s,this.willLinkActivate=l};i.MouseZone=b},6465:function(D,i,g){var a,h=this&&this.__extends||(a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])},a(n,t)},function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=n}a(n,t),n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}),u=this&&this.__decorate||function(n,t,e,r){var s,l=arguments.length,_=l<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")_=Reflect.decorate(n,t,e,r);else for(var p=n.length-1;p>=0;p--)(s=n[p])&&(_=(l<3?s(_):l>3?s(t,e,_):s(t,e))||_);return l>3&&_&&Object.defineProperty(t,e,_),_},f=this&&this.__param||function(n,t){return function(e,r){t(e,r,n)}};Object.defineProperty(i,"__esModule",{value:!0}),i.Linkifier2=void 0;var v=g(2585),b=g(8460),o=g(844),c=g(3656),d=function(n){function t(e){var r=n.call(this)||this;return r._bufferService=e,r._linkProviders=[],r._linkCacheDisposables=[],r._isMouseOut=!0,r._activeLine=-1,r._onShowLinkUnderline=r.register(new b.EventEmitter),r._onHideLinkUnderline=r.register(new b.EventEmitter),r.register((0,o.getDisposeArrayDisposable)(r._linkCacheDisposables)),r}return h(t,n),Object.defineProperty(t.prototype,"currentLink",{get:function(){return this._currentLink},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"onShowLinkUnderline",{get:function(){return this._onShowLinkUnderline.event},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"onHideLinkUnderline",{get:function(){return this._onHideLinkUnderline.event},enumerable:!1,configurable:!0}),t.prototype.registerLinkProvider=function(e){var r=this;return this._linkProviders.push(e),{dispose:function(){var s=r._linkProviders.indexOf(e);s!==-1&&r._linkProviders.splice(s,1)}}},t.prototype.attachToDom=function(e,r,s){var l=this;this._element=e,this._mouseService=r,this._renderService=s,this.register((0,c.addDisposableDomListener)(this._element,"mouseleave",function(){l._isMouseOut=!0,l._clearCurrentLink()})),this.register((0,c.addDisposableDomListener)(this._element,"mousemove",this._onMouseMove.bind(this))),this.register((0,c.addDisposableDomListener)(this._element,"click",this._onClick.bind(this)))},t.prototype._onMouseMove=function(e){if(this._lastMouseEvent=e,this._element&&this._mouseService){var r=this._positionFromMouseEvent(e,this._element,this._mouseService);if(r){this._isMouseOut=!1;for(var s=e.composedPath(),l=0;l<s.length;l++){var _=s[l];if(_.classList.contains("xterm"))break;if(_.classList.contains("xterm-hover"))return}this._lastBufferCell&&r.x===this._lastBufferCell.x&&r.y===this._lastBufferCell.y||(this._onHover(r),this._lastBufferCell=r)}}},t.prototype._onHover=function(e){if(this._activeLine!==e.y)return this._clearCurrentLink(),void this._askForLink(e,!1);this._currentLink&&this._linkAtPosition(this._currentLink.link,e)||(this._clearCurrentLink(),this._askForLink(e,!0))},t.prototype._askForLink=function(e,r){var s,l=this;this._activeProviderReplies&&r||((s=this._activeProviderReplies)===null||s===void 0||s.forEach(function(p){p?.forEach(function(w){w.link.dispose&&w.link.dispose()})}),this._activeProviderReplies=new Map,this._activeLine=e.y);var _=!1;this._linkProviders.forEach(function(p,w){var S;r?!((S=l._activeProviderReplies)===null||S===void 0)&&S.get(w)&&(_=l._checkLinkProviderResult(w,e,_)):p.provideLinks(e.y,function(y){var m,M;if(!l._isMouseOut){var E=y?.map(function(W){return{link:W}});(m=l._activeProviderReplies)===null||m===void 0||m.set(w,E),_=l._checkLinkProviderResult(w,e,_),((M=l._activeProviderReplies)===null||M===void 0?void 0:M.size)===l._linkProviders.length&&l._removeIntersectingLinks(e.y,l._activeProviderReplies)}})})},t.prototype._removeIntersectingLinks=function(e,r){for(var s=new Set,l=0;l<r.size;l++){var _=r.get(l);if(_)for(var p=0;p<_.length;p++)for(var w=_[p],S=w.link.range.start.y<e?0:w.link.range.start.x,y=w.link.range.end.y>e?this._bufferService.cols:w.link.range.end.x,m=S;m<=y;m++){if(s.has(m)){_.splice(p--,1);break}s.add(m)}}},t.prototype._checkLinkProviderResult=function(e,r,s){var l,_=this;if(!this._activeProviderReplies)return s;for(var p=this._activeProviderReplies.get(e),w=!1,S=0;S<e;S++)this._activeProviderReplies.has(S)&&!this._activeProviderReplies.get(S)||(w=!0);if(!w&&p){var y=p.find(function(M){return _._linkAtPosition(M.link,r)});y&&(s=!0,this._handleNewLink(y))}if(this._activeProviderReplies.size===this._linkProviders.length&&!s)for(S=0;S<this._activeProviderReplies.size;S++){var m=(l=this._activeProviderReplies.get(S))===null||l===void 0?void 0:l.find(function(M){return _._linkAtPosition(M.link,r)});if(m){s=!0,this._handleNewLink(m);break}}return s},t.prototype._onClick=function(e){if(this._element&&this._mouseService&&this._currentLink){var r=this._positionFromMouseEvent(e,this._element,this._mouseService);r&&this._linkAtPosition(this._currentLink.link,r)&&this._currentLink.link.activate(e,this._currentLink.link.text)}},t.prototype._clearCurrentLink=function(e,r){this._element&&this._currentLink&&this._lastMouseEvent&&(!e||!r||this._currentLink.link.range.start.y>=e&&this._currentLink.link.range.end.y<=r)&&(this._linkLeave(this._element,this._currentLink.link,this._lastMouseEvent),this._currentLink=void 0,(0,o.disposeArray)(this._linkCacheDisposables))},t.prototype._handleNewLink=function(e){var r=this;if(this._element&&this._lastMouseEvent&&this._mouseService){var s=this._positionFromMouseEvent(this._lastMouseEvent,this._element,this._mouseService);s&&this._linkAtPosition(e.link,s)&&(this._currentLink=e,this._currentLink.state={decorations:{underline:e.link.decorations===void 0||e.link.decorations.underline,pointerCursor:e.link.decorations===void 0||e.link.decorations.pointerCursor},isHovered:!0},this._linkHover(this._element,e.link,this._lastMouseEvent),e.link.decorations={},Object.defineProperties(e.link.decorations,{pointerCursor:{get:function(){var l,_;return(_=(l=r._currentLink)===null||l===void 0?void 0:l.state)===null||_===void 0?void 0:_.decorations.pointerCursor},set:function(l){var _,p;((_=r._currentLink)===null||_===void 0?void 0:_.state)&&r._currentLink.state.decorations.pointerCursor!==l&&(r._currentLink.state.decorations.pointerCursor=l,r._currentLink.state.isHovered&&((p=r._element)===null||p===void 0||p.classList.toggle("xterm-cursor-pointer",l)))}},underline:{get:function(){var l,_;return(_=(l=r._currentLink)===null||l===void 0?void 0:l.state)===null||_===void 0?void 0:_.decorations.underline},set:function(l){var _,p,w;((_=r._currentLink)===null||_===void 0?void 0:_.state)&&((w=(p=r._currentLink)===null||p===void 0?void 0:p.state)===null||w===void 0?void 0:w.decorations.underline)!==l&&(r._currentLink.state.decorations.underline=l,r._currentLink.state.isHovered&&r._fireUnderlineEvent(e.link,l))}}}),this._renderService&&this._linkCacheDisposables.push(this._renderService.onRenderedBufferChange(function(l){var _=l.start===0?0:l.start+1+r._bufferService.buffer.ydisp;r._clearCurrentLink(_,l.end+1+r._bufferService.buffer.ydisp)})))}},t.prototype._linkHover=function(e,r,s){var l;!((l=this._currentLink)===null||l===void 0)&&l.state&&(this._currentLink.state.isHovered=!0,this._currentLink.state.decorations.underline&&this._fireUnderlineEvent(r,!0),this._currentLink.state.decorations.pointerCursor&&e.classList.add("xterm-cursor-pointer")),r.hover&&r.hover(s,r.text)},t.prototype._fireUnderlineEvent=function(e,r){var s=e.range,l=this._bufferService.buffer.ydisp,_=this._createLinkUnderlineEvent(s.start.x-1,s.start.y-l-1,s.end.x,s.end.y-l-1,void 0);(r?this._onShowLinkUnderline:this._onHideLinkUnderline).fire(_)},t.prototype._linkLeave=function(e,r,s){var l;!((l=this._currentLink)===null||l===void 0)&&l.state&&(this._currentLink.state.isHovered=!1,this._currentLink.state.decorations.underline&&this._fireUnderlineEvent(r,!1),this._currentLink.state.decorations.pointerCursor&&e.classList.remove("xterm-cursor-pointer")),r.leave&&r.leave(s,r.text)},t.prototype._linkAtPosition=function(e,r){var s=e.range.start.y===e.range.end.y,l=e.range.start.y<r.y,_=e.range.end.y>r.y;return(s&&e.range.start.x<=r.x&&e.range.end.x>=r.x||l&&e.range.end.x>=r.x||_&&e.range.start.x<=r.x||l&&_)&&e.range.start.y<=r.y&&e.range.end.y>=r.y},t.prototype._positionFromMouseEvent=function(e,r,s){var l=s.getCoords(e,r,this._bufferService.cols,this._bufferService.rows);if(l)return{x:l[0],y:l[1]+this._bufferService.buffer.ydisp}},t.prototype._createLinkUnderlineEvent=function(e,r,s,l,_){return{x1:e,y1:r,x2:s,y2:l,cols:this._bufferService.cols,fg:_}},u([f(0,v.IBufferService)],t)}(o.Disposable);i.Linkifier2=d},9042:(D,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.tooMuchOutput=i.promptLabel=void 0,i.promptLabel="Terminal input",i.tooMuchOutput="Too much output to announce, navigate to rows manually to read"},6954:function(D,i,g){var a,h=this&&this.__extends||(a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])},a(n,t)},function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=n}a(n,t),n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}),u=this&&this.__decorate||function(n,t,e,r){var s,l=arguments.length,_=l<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")_=Reflect.decorate(n,t,e,r);else for(var p=n.length-1;p>=0;p--)(s=n[p])&&(_=(l<3?s(_):l>3?s(t,e,_):s(t,e))||_);return l>3&&_&&Object.defineProperty(t,e,_),_},f=this&&this.__param||function(n,t){return function(e,r){t(e,r,n)}};Object.defineProperty(i,"__esModule",{value:!0}),i.MouseZoneManager=void 0;var v=g(844),b=g(3656),o=g(4725),c=g(2585),d=function(n){function t(e,r,s,l,_,p){var w=n.call(this)||this;return w._element=e,w._screenElement=r,w._bufferService=s,w._mouseService=l,w._selectionService=_,w._optionsService=p,w._zones=[],w._areZonesActive=!1,w._lastHoverCoords=[void 0,void 0],w._initialSelectionLength=0,w.register((0,b.addDisposableDomListener)(w._element,"mousedown",function(S){return w._onMouseDown(S)})),w._mouseMoveListener=function(S){return w._onMouseMove(S)},w._mouseLeaveListener=function(S){return w._onMouseLeave(S)},w._clickListener=function(S){return w._onClick(S)},w}return h(t,n),t.prototype.dispose=function(){n.prototype.dispose.call(this),this._deactivate()},t.prototype.add=function(e){this._zones.push(e),this._zones.length===1&&this._activate()},t.prototype.clearAll=function(e,r){if(this._zones.length!==0){e&&r||(e=0,r=this._bufferService.rows-1);for(var s=0;s<this._zones.length;s++){var l=this._zones[s];(l.y1>e&&l.y1<=r+1||l.y2>e&&l.y2<=r+1||l.y1<e&&l.y2>r+1)&&(this._currentZone&&this._currentZone===l&&(this._currentZone.leaveCallback(),this._currentZone=void 0),this._zones.splice(s--,1))}this._zones.length===0&&this._deactivate()}},t.prototype._activate=function(){this._areZonesActive||(this._areZonesActive=!0,this._element.addEventListener("mousemove",this._mouseMoveListener),this._element.addEventListener("mouseleave",this._mouseLeaveListener),this._element.addEventListener("click",this._clickListener))},t.prototype._deactivate=function(){this._areZonesActive&&(this._areZonesActive=!1,this._element.removeEventListener("mousemove",this._mouseMoveListener),this._element.removeEventListener("mouseleave",this._mouseLeaveListener),this._element.removeEventListener("click",this._clickListener))},t.prototype._onMouseMove=function(e){this._lastHoverCoords[0]===e.pageX&&this._lastHoverCoords[1]===e.pageY||(this._onHover(e),this._lastHoverCoords=[e.pageX,e.pageY])},t.prototype._onHover=function(e){var r=this,s=this._findZoneEventAt(e);s!==this._currentZone&&(this._currentZone&&(this._currentZone.leaveCallback(),this._currentZone=void 0,this._tooltipTimeout&&clearTimeout(this._tooltipTimeout)),s&&(this._currentZone=s,s.hoverCallback&&s.hoverCallback(e),this._tooltipTimeout=window.setTimeout(function(){return r._onTooltip(e)},this._optionsService.rawOptions.linkTooltipHoverDuration)))},t.prototype._onTooltip=function(e){this._tooltipTimeout=void 0;var r=this._findZoneEventAt(e);r?.tooltipCallback(e)},t.prototype._onMouseDown=function(e){if(this._initialSelectionLength=this._getSelectionLength(),this._areZonesActive){var r=this._findZoneEventAt(e);r?.willLinkActivate(e)&&(e.preventDefault(),e.stopImmediatePropagation())}},t.prototype._onMouseLeave=function(e){this._currentZone&&(this._currentZone.leaveCallback(),this._currentZone=void 0,this._tooltipTimeout&&clearTimeout(this._tooltipTimeout))},t.prototype._onClick=function(e){var r=this._findZoneEventAt(e),s=this._getSelectionLength();r&&s===this._initialSelectionLength&&(r.clickCallback(e),e.preventDefault(),e.stopImmediatePropagation())},t.prototype._getSelectionLength=function(){var e=this._selectionService.selectionText;return e?e.length:0},t.prototype._findZoneEventAt=function(e){var r=this._mouseService.getCoords(e,this._screenElement,this._bufferService.cols,this._bufferService.rows);if(r)for(var s=r[0],l=r[1],_=0;_<this._zones.length;_++){var p=this._zones[_];if(p.y1===p.y2){if(l===p.y1&&s>=p.x1&&s<p.x2)return p}else if(l===p.y1&&s>=p.x1||l===p.y2&&s<p.x2||l>p.y1&&l<p.y2)return p}},u([f(2,c.IBufferService),f(3,o.IMouseService),f(4,o.ISelectionService),f(5,c.IOptionsService)],t)}(v.Disposable);i.MouseZoneManager=d},6193:(D,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.RenderDebouncer=void 0;var g=function(){function a(h){this._renderCallback=h}return a.prototype.dispose=function(){this._animationFrame&&(window.cancelAnimationFrame(this._animationFrame),this._animationFrame=void 0)},a.prototype.refresh=function(h,u,f){var v=this;this._rowCount=f,h=h!==void 0?h:0,u=u!==void 0?u:this._rowCount-1,this._rowStart=this._rowStart!==void 0?Math.min(this._rowStart,h):h,this._rowEnd=this._rowEnd!==void 0?Math.max(this._rowEnd,u):u,this._animationFrame||(this._animationFrame=window.requestAnimationFrame(function(){return v._innerRefresh()}))},a.prototype._innerRefresh=function(){if(this._rowStart!==void 0&&this._rowEnd!==void 0&&this._rowCount!==void 0){var h=Math.max(this._rowStart,0),u=Math.min(this._rowEnd,this._rowCount-1);this._rowStart=void 0,this._rowEnd=void 0,this._animationFrame=void 0,this._renderCallback(h,u)}},a}();i.RenderDebouncer=g},5596:function(D,i,g){var a,h=this&&this.__extends||(a=function(f,v){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,o){b.__proto__=o}||function(b,o){for(var c in o)Object.prototype.hasOwnProperty.call(o,c)&&(b[c]=o[c])},a(f,v)},function(f,v){if(typeof v!="function"&&v!==null)throw new TypeError("Class extends value "+String(v)+" is not a constructor or null");function b(){this.constructor=f}a(f,v),f.prototype=v===null?Object.create(v):(b.prototype=v.prototype,new b)});Object.defineProperty(i,"__esModule",{value:!0}),i.ScreenDprMonitor=void 0;var u=function(f){function v(){var b=f!==null&&f.apply(this,arguments)||this;return b._currentDevicePixelRatio=window.devicePixelRatio,b}return h(v,f),v.prototype.setListener=function(b){var o=this;this._listener&&this.clearListener(),this._listener=b,this._outerListener=function(){o._listener&&(o._listener(window.devicePixelRatio,o._currentDevicePixelRatio),o._updateDpr())},this._updateDpr()},v.prototype.dispose=function(){f.prototype.dispose.call(this),this.clearListener()},v.prototype._updateDpr=function(){var b;this._outerListener&&((b=this._resolutionMediaMatchList)===null||b===void 0||b.removeListener(this._outerListener),this._currentDevicePixelRatio=window.devicePixelRatio,this._resolutionMediaMatchList=window.matchMedia("screen and (resolution: "+window.devicePixelRatio+"dppx)"),this._resolutionMediaMatchList.addListener(this._outerListener))},v.prototype.clearListener=function(){this._resolutionMediaMatchList&&this._listener&&this._outerListener&&(this._resolutionMediaMatchList.removeListener(this._outerListener),this._resolutionMediaMatchList=void 0,this._listener=void 0,this._outerListener=void 0)},v}(g(844).Disposable);i.ScreenDprMonitor=u},3236:function(D,i,g){var a,h=this&&this.__extends||(a=function(R,q){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(T,P){T.__proto__=P}||function(T,P){for(var O in P)Object.prototype.hasOwnProperty.call(P,O)&&(T[O]=P[O])},a(R,q)},function(R,q){if(typeof q!="function"&&q!==null)throw new TypeError("Class extends value "+String(q)+" is not a constructor or null");function T(){this.constructor=R}a(R,q),R.prototype=q===null?Object.create(q):(T.prototype=q.prototype,new T)});Object.defineProperty(i,"__esModule",{value:!0}),i.Terminal=void 0;var u=g(2950),f=g(1680),v=g(3614),b=g(2584),o=g(5435),c=g(3525),d=g(3551),n=g(9312),t=g(6114),e=g(3656),r=g(9042),s=g(357),l=g(6954),_=g(4567),p=g(1296),w=g(7399),S=g(8460),y=g(8437),m=g(5680),M=g(3230),E=g(4725),W=g(428),A=g(8934),L=g(6465),B=g(5114),I=g(8969),F=g(4774),N=g(4269),G=g(5941),J=g(7641),V=typeof window<"u"?window.document:null,Z=function(R){function q(T){T===void 0&&(T={});var P=R.call(this,T)||this;return P.browser=t,P._keyDownHandled=!1,P._keyPressHandled=!1,P._unprocessedDeadKey=!1,P._onCursorMove=new S.EventEmitter,P._onKey=new S.EventEmitter,P._onRender=new S.EventEmitter,P._onSelectionChange=new S.EventEmitter,P._onTitleChange=new S.EventEmitter,P._onBell=new S.EventEmitter,P._onFocus=new S.EventEmitter,P._onBlur=new S.EventEmitter,P._onA11yCharEmitter=new S.EventEmitter,P._onA11yTabEmitter=new S.EventEmitter,P._setup(),P.linkifier=P._instantiationService.createInstance(d.Linkifier),P.linkifier2=P.register(P._instantiationService.createInstance(L.Linkifier2)),P.decorationService=P.register(P._instantiationService.createInstance(J.DecorationService)),P.register(P._inputHandler.onRequestBell(function(){return P.bell()})),P.register(P._inputHandler.onRequestRefreshRows(function(O,z){return P.refresh(O,z)})),P.register(P._inputHandler.onRequestSendFocus(function(){return P._reportFocus()})),P.register(P._inputHandler.onRequestReset(function(){return P.reset()})),P.register(P._inputHandler.onRequestWindowsOptionsReport(function(O){return P._reportWindowsOptions(O)})),P.register(P._inputHandler.onColor(function(O){return P._handleColorEvent(O)})),P.register((0,S.forwardEvent)(P._inputHandler.onCursorMove,P._onCursorMove)),P.register((0,S.forwardEvent)(P._inputHandler.onTitleChange,P._onTitleChange)),P.register((0,S.forwardEvent)(P._inputHandler.onA11yChar,P._onA11yCharEmitter)),P.register((0,S.forwardEvent)(P._inputHandler.onA11yTab,P._onA11yTabEmitter)),P.register(P._bufferService.onResize(function(O){return P._afterResize(O.cols,O.rows)})),P}return h(q,R),Object.defineProperty(q.prototype,"onCursorMove",{get:function(){return this._onCursorMove.event},enumerable:!1,configurable:!0}),Object.defineProperty(q.prototype,"onKey",{get:function(){return this._onKey.event},enumerable:!1,configurable:!0}),Object.defineProperty(q.prototype,"onRender",{get:function(){return this._onRender.event},enumerable:!1,configurable:!0}),Object.defineProperty(q.prototype,"onSelectionChange",{get:function(){return this._onSelectionChange.event},enumerable:!1,configurable:!0}),Object.defineProperty(q.prototype,"onTitleChange",{get:function(){return this._onTitleChange.event},enumerable:!1,configurable:!0}),Object.defineProperty(q.prototype,"onBell",{get:function(){return this._onBell.event},enumerable:!1,configurable:!0}),Object.defineProperty(q.prototype,"onFocus",{get:function(){return this._onFocus.event},enumerable:!1,configurable:!0}),Object.defineProperty(q.prototype,"onBlur",{get:function(){return this._onBlur.event},enumerable:!1,configurable:!0}),Object.defineProperty(q.prototype,"onA11yChar",{get:function(){return this._onA11yCharEmitter.event},enumerable:!1,configurable:!0}),Object.defineProperty(q.prototype,"onA11yTab",{get:function(){return this._onA11yTabEmitter.event},enumerable:!1,configurable:!0}),q.prototype._handleColorEvent=function(T){var P,O;if(this._colorManager){for(var z=0,K=T;z<K.length;z++){var X=K[z],$=void 0,Q="";switch(X.index){case 256:$="foreground",Q="10";break;case 257:$="background",Q="11";break;case 258:$="cursor",Q="12";break;default:$="ansi",Q="4;"+X.index}if($)switch(X.type){case 0:var he=F.color.toColorRGB($==="ansi"?this._colorManager.colors.ansi[X.index]:this._colorManager.colors[$]);this.coreService.triggerDataEvent(b.C0.ESC+"]"+Q+";"+(0,G.toRgbString)(he)+b.C0.BEL);break;case 1:$==="ansi"?this._colorManager.colors.ansi[X.index]=F.rgba.toColor.apply(F.rgba,X.color):this._colorManager.colors[$]=F.rgba.toColor.apply(F.rgba,X.color);break;case 2:this._colorManager.restoreColor(X.index)}}(P=this._renderService)===null||P===void 0||P.setColors(this._colorManager.colors),(O=this.viewport)===null||O===void 0||O.onThemeChange(this._colorManager.colors)}},q.prototype.dispose=function(){var T,P,O;this._isDisposed||(R.prototype.dispose.call(this),(T=this._renderService)===null||T===void 0||T.dispose(),this._customKeyEventHandler=void 0,this.write=function(){},(O=(P=this.element)===null||P===void 0?void 0:P.parentNode)===null||O===void 0||O.removeChild(this.element))},q.prototype._setup=function(){R.prototype._setup.call(this),this._customKeyEventHandler=void 0},Object.defineProperty(q.prototype,"buffer",{get:function(){return this.buffers.active},enumerable:!1,configurable:!0}),q.prototype.focus=function(){this.textarea&&this.textarea.focus({preventScroll:!0})},q.prototype._updateOptions=function(T){var P,O,z,K;switch(R.prototype._updateOptions.call(this,T),T){case"fontFamily":case"fontSize":(P=this._renderService)===null||P===void 0||P.clear(),(O=this._charSizeService)===null||O===void 0||O.measure();break;case"cursorBlink":case"cursorStyle":this.refresh(this.buffer.y,this.buffer.y);break;case"customGlyphs":case"drawBoldTextInBrightColors":case"letterSpacing":case"lineHeight":case"fontWeight":case"fontWeightBold":case"minimumContrastRatio":this._renderService&&(this._renderService.clear(),this._renderService.onResize(this.cols,this.rows),this.refresh(0,this.rows-1));break;case"rendererType":this._renderService&&(this._renderService.setRenderer(this._createRenderer()),this._renderService.onResize(this.cols,this.rows));break;case"scrollback":(z=this.viewport)===null||z===void 0||z.syncScrollArea();break;case"screenReaderMode":this.optionsService.rawOptions.screenReaderMode?!this._accessibilityManager&&this._renderService&&(this._accessibilityManager=new _.AccessibilityManager(this,this._renderService)):((K=this._accessibilityManager)===null||K===void 0||K.dispose(),this._accessibilityManager=void 0);break;case"tabStopWidth":this.buffers.setupTabStops();break;case"theme":this._setTheme(this.optionsService.rawOptions.theme)}},q.prototype._onTextAreaFocus=function(T){this.coreService.decPrivateModes.sendFocus&&this.coreService.triggerDataEvent(b.C0.ESC+"[I"),this.updateCursorStyle(T),this.element.classList.add("focus"),this._showCursor(),this._onFocus.fire()},q.prototype.blur=function(){var T;return(T=this.textarea)===null||T===void 0?void 0:T.blur()},q.prototype._onTextAreaBlur=function(){this.textarea.value="",this.refresh(this.buffer.y,this.buffer.y),this.coreService.decPrivateModes.sendFocus&&this.coreService.triggerDataEvent(b.C0.ESC+"[O"),this.element.classList.remove("focus"),this._onBlur.fire()},q.prototype._syncTextArea=function(){if(this.textarea&&this.buffer.isCursorInViewport&&!this._compositionHelper.isComposing&&this._renderService){var T=this.buffer.ybase+this.buffer.y,P=this.buffer.lines.get(T);if(P){var O=Math.min(this.buffer.x,this.cols-1),z=this._renderService.dimensions.actualCellHeight,K=P.getWidth(O),X=this._renderService.dimensions.actualCellWidth*K,$=this.buffer.y*this._renderService.dimensions.actualCellHeight,Q=O*this._renderService.dimensions.actualCellWidth;this.textarea.style.left=Q+"px",this.textarea.style.top=$+"px",this.textarea.style.width=X+"px",this.textarea.style.height=z+"px",this.textarea.style.lineHeight=z+"px",this.textarea.style.zIndex="-5"}}},q.prototype._initGlobal=function(){var T=this;this._bindKeys(),this.register((0,e.addDisposableDomListener)(this.element,"copy",function(O){T.hasSelection()&&(0,v.copyHandler)(O,T._selectionService)}));var P=function(O){return(0,v.handlePasteEvent)(O,T.textarea,T.coreService)};this.register((0,e.addDisposableDomListener)(this.textarea,"paste",P)),this.register((0,e.addDisposableDomListener)(this.element,"paste",P)),t.isFirefox?this.register((0,e.addDisposableDomListener)(this.element,"mousedown",function(O){O.button===2&&(0,v.rightClickHandler)(O,T.textarea,T.screenElement,T._selectionService,T.options.rightClickSelectsWord)})):this.register((0,e.addDisposableDomListener)(this.element,"contextmenu",function(O){(0,v.rightClickHandler)(O,T.textarea,T.screenElement,T._selectionService,T.options.rightClickSelectsWord)})),t.isLinux&&this.register((0,e.addDisposableDomListener)(this.element,"auxclick",function(O){O.button===1&&(0,v.moveTextAreaUnderMouseCursor)(O,T.textarea,T.screenElement)}))},q.prototype._bindKeys=function(){var T=this;this.register((0,e.addDisposableDomListener)(this.textarea,"keyup",function(P){return T._keyUp(P)},!0)),this.register((0,e.addDisposableDomListener)(this.textarea,"keydown",function(P){return T._keyDown(P)},!0)),this.register((0,e.addDisposableDomListener)(this.textarea,"keypress",function(P){return T._keyPress(P)},!0)),this.register((0,e.addDisposableDomListener)(this.textarea,"compositionstart",function(){return T._compositionHelper.compositionstart()})),this.register((0,e.addDisposableDomListener)(this.textarea,"compositionupdate",function(P){return T._compositionHelper.compositionupdate(P)})),this.register((0,e.addDisposableDomListener)(this.textarea,"compositionend",function(){return T._compositionHelper.compositionend()})),this.register((0,e.addDisposableDomListener)(this.textarea,"input",function(P){return T._inputEvent(P)},!0)),this.register(this.onRender(function(){return T._compositionHelper.updateCompositionElements()})),this.register(this.onRender(function(P){return T._queueLinkification(P.start,P.end)}))},q.prototype.open=function(T){var P=this;if(!T)throw new Error("Terminal requires a parent element.");T.isConnected||this._logService.debug("Terminal.open was called on an element that was not attached to the DOM"),this._document=T.ownerDocument,this.element=this._document.createElement("div"),this.element.dir="ltr",this.element.classList.add("terminal"),this.element.classList.add("xterm"),this.element.setAttribute("tabindex","0"),T.appendChild(this.element);var O=V.createDocumentFragment();this._viewportElement=V.createElement("div"),this._viewportElement.classList.add("xterm-viewport"),O.appendChild(this._viewportElement),this._viewportScrollArea=V.createElement("div"),this._viewportScrollArea.classList.add("xterm-scroll-area"),this._viewportElement.appendChild(this._viewportScrollArea),this.screenElement=V.createElement("div"),this.screenElement.classList.add("xterm-screen"),this._helperContainer=V.createElement("div"),this._helperContainer.classList.add("xterm-helpers"),this.screenElement.appendChild(this._helperContainer),O.appendChild(this.screenElement),this.textarea=V.createElement("textarea"),this.textarea.classList.add("xterm-helper-textarea"),this.textarea.setAttribute("aria-label",r.promptLabel),this.textarea.setAttribute("aria-multiline","false"),this.textarea.setAttribute("autocorrect","off"),this.textarea.setAttribute("autocapitalize","off"),this.textarea.setAttribute("spellcheck","false"),this.textarea.tabIndex=0,this.register((0,e.addDisposableDomListener)(this.textarea,"focus",function(X){return P._onTextAreaFocus(X)})),this.register((0,e.addDisposableDomListener)(this.textarea,"blur",function(){return P._onTextAreaBlur()})),this._helperContainer.appendChild(this.textarea);var z=this._instantiationService.createInstance(B.CoreBrowserService,this.textarea);this._instantiationService.setService(E.ICoreBrowserService,z),this._charSizeService=this._instantiationService.createInstance(W.CharSizeService,this._document,this._helperContainer),this._instantiationService.setService(E.ICharSizeService,this._charSizeService),this._theme=this.options.theme||this._theme,this._colorManager=new m.ColorManager(V,this.options.allowTransparency),this.register(this.optionsService.onOptionChange(function(X){return P._colorManager.onOptionsChange(X)})),this._colorManager.setTheme(this._theme),this._characterJoinerService=this._instantiationService.createInstance(N.CharacterJoinerService),this._instantiationService.setService(E.ICharacterJoinerService,this._characterJoinerService);var K=this._createRenderer();this._renderService=this.register(this._instantiationService.createInstance(M.RenderService,K,this.rows,this.screenElement)),this._instantiationService.setService(E.IRenderService,this._renderService),this.register(this._renderService.onRenderedBufferChange(function(X){return P._onRender.fire(X)})),this.onResize(function(X){return P._renderService.resize(X.cols,X.rows)}),this._compositionView=V.createElement("div"),this._compositionView.classList.add("composition-view"),this._compositionHelper=this._instantiationService.createInstance(u.CompositionHelper,this.textarea,this._compositionView),this._helperContainer.appendChild(this._compositionView),this.element.appendChild(O),this._soundService=this._instantiationService.createInstance(s.SoundService),this._instantiationService.setService(E.ISoundService,this._soundService),this._mouseService=this._instantiationService.createInstance(A.MouseService),this._instantiationService.setService(E.IMouseService,this._mouseService),this.viewport=this._instantiationService.createInstance(f.Viewport,function(X){return P.scrollLines(X,!0,1)},this._viewportElement,this._viewportScrollArea,this.element),this.viewport.onThemeChange(this._colorManager.colors),this.register(this._inputHandler.onRequestSyncScrollBar(function(){return P.viewport.syncScrollArea()})),this.register(this.viewport),this.register(this.onCursorMove(function(){P._renderService.onCursorMove(),P._syncTextArea()})),this.register(this.onResize(function(){return P._renderService.onResize(P.cols,P.rows)})),this.register(this.onBlur(function(){return P._renderService.onBlur()})),this.register(this.onFocus(function(){return P._renderService.onFocus()})),this.register(this._renderService.onDimensionsChange(function(){return P.viewport.syncScrollArea()})),this._selectionService=this.register(this._instantiationService.createInstance(n.SelectionService,this.element,this.screenElement,this.linkifier2)),this._instantiationService.setService(E.ISelectionService,this._selectionService),this.register(this._selectionService.onRequestScrollLines(function(X){return P.scrollLines(X.amount,X.suppressScrollEvent)})),this.register(this._selectionService.onSelectionChange(function(){return P._onSelectionChange.fire()})),this.register(this._selectionService.onRequestRedraw(function(X){return P._renderService.onSelectionChanged(X.start,X.end,X.columnSelectMode)})),this.register(this._selectionService.onLinuxMouseSelection(function(X){P.textarea.value=X,P.textarea.focus(),P.textarea.select()})),this.register(this._onScroll.event(function(X){P.viewport.syncScrollArea(),P._selectionService.refresh()})),this.register((0,e.addDisposableDomListener)(this._viewportElement,"scroll",function(){return P._selectionService.refresh()})),this._mouseZoneManager=this._instantiationService.createInstance(l.MouseZoneManager,this.element,this.screenElement),this.register(this._mouseZoneManager),this.register(this.onScroll(function(){return P._mouseZoneManager.clearAll()})),this.linkifier.attachToDom(this.element,this._mouseZoneManager),this.linkifier2.attachToDom(this.screenElement,this._mouseService,this._renderService),this.decorationService.attachToDom(this.screenElement,this._renderService,this._bufferService),this.register((0,e.addDisposableDomListener)(this.element,"mousedown",function(X){return P._selectionService.onMouseDown(X)})),this.coreMouseService.areMouseEventsActive?(this._selectionService.disable(),this.element.classList.add("enable-mouse-events")):this._selectionService.enable(),this.options.screenReaderMode&&(this._accessibilityManager=new _.AccessibilityManager(this,this._renderService)),this._charSizeService.measure(),this.refresh(0,this.rows-1),this._initGlobal(),this.bindMouse()},q.prototype._createRenderer=function(){switch(this.options.rendererType){case"canvas":return this._instantiationService.createInstance(c.Renderer,this._colorManager.colors,this.screenElement,this.linkifier,this.linkifier2);case"dom":return this._instantiationService.createInstance(p.DomRenderer,this._colorManager.colors,this.element,this.screenElement,this._viewportElement,this.linkifier,this.linkifier2);default:throw new Error('Unrecognized rendererType "'+this.options.rendererType+'"')}},q.prototype._setTheme=function(T){var P,O,z;this._theme=T,(P=this._colorManager)===null||P===void 0||P.setTheme(T),(O=this._renderService)===null||O===void 0||O.setColors(this._colorManager.colors),(z=this.viewport)===null||z===void 0||z.onThemeChange(this._colorManager.colors)},q.prototype.bindMouse=function(){var T=this,P=this,O=this.element;function z(Y){var ie,ae,fe=P._mouseService.getRawByteCoords(Y,P.screenElement,P.cols,P.rows);if(!fe)return!1;switch(Y.overrideType||Y.type){case"mousemove":ae=32,Y.buttons===void 0?(ie=3,Y.button!==void 0&&(ie=Y.button<3?Y.button:3)):ie=1&Y.buttons?0:4&Y.buttons?1:2&Y.buttons?2:3;break;case"mouseup":ae=0,ie=Y.button<3?Y.button:3;break;case"mousedown":ae=1,ie=Y.button<3?Y.button:3;break;case"wheel":Y.deltaY!==0&&(ae=Y.deltaY<0?0:1),ie=4;break;default:return!1}return!(ae===void 0||ie===void 0||ie>4)&&P.coreMouseService.triggerMouseEvent({col:fe.x-33,row:fe.y-33,button:ie,action:ae,ctrl:Y.ctrlKey,alt:Y.altKey,shift:Y.shiftKey})}var K={mouseup:null,wheel:null,mousedrag:null,mousemove:null},X=function(Y){return z(Y),Y.buttons||(T._document.removeEventListener("mouseup",K.mouseup),K.mousedrag&&T._document.removeEventListener("mousemove",K.mousedrag)),T.cancel(Y)},$=function(Y){return z(Y),T.cancel(Y,!0)},Q=function(Y){Y.buttons&&z(Y)},he=function(Y){Y.buttons||z(Y)};this.register(this.coreMouseService.onProtocolChange(function(Y){Y?(T.optionsService.rawOptions.logLevel==="debug"&&T._logService.debug("Binding to mouse events:",T.coreMouseService.explainEvents(Y)),T.element.classList.add("enable-mouse-events"),T._selectionService.disable()):(T._logService.debug("Unbinding from mouse events."),T.element.classList.remove("enable-mouse-events"),T._selectionService.enable()),8&Y?K.mousemove||(O.addEventListener("mousemove",he),K.mousemove=he):(O.removeEventListener("mousemove",K.mousemove),K.mousemove=null),16&Y?K.wheel||(O.addEventListener("wheel",$,{passive:!1}),K.wheel=$):(O.removeEventListener("wheel",K.wheel),K.wheel=null),2&Y?K.mouseup||(K.mouseup=X):(T._document.removeEventListener("mouseup",K.mouseup),K.mouseup=null),4&Y?K.mousedrag||(K.mousedrag=Q):(T._document.removeEventListener("mousemove",K.mousedrag),K.mousedrag=null)})),this.coreMouseService.activeProtocol=this.coreMouseService.activeProtocol,this.register((0,e.addDisposableDomListener)(O,"mousedown",function(Y){if(Y.preventDefault(),T.focus(),T.coreMouseService.areMouseEventsActive&&!T._selectionService.shouldForceSelection(Y))return z(Y),K.mouseup&&T._document.addEventListener("mouseup",K.mouseup),K.mousedrag&&T._document.addEventListener("mousemove",K.mousedrag),T.cancel(Y)})),this.register((0,e.addDisposableDomListener)(O,"wheel",function(Y){if(!K.wheel){if(!T.buffer.hasScrollback){var ie=T.viewport.getLinesScrolled(Y);if(ie===0)return;for(var ae=b.C0.ESC+(T.coreService.decPrivateModes.applicationCursorKeys?"O":"[")+(Y.deltaY<0?"A":"B"),fe="",ye=0;ye<Math.abs(ie);ye++)fe+=ae;return T.coreService.triggerDataEvent(fe,!0),T.cancel(Y,!0)}return T.viewport.onWheel(Y)?T.cancel(Y):void 0}},{passive:!1})),this.register((0,e.addDisposableDomListener)(O,"touchstart",function(Y){if(!T.coreMouseService.areMouseEventsActive)return T.viewport.onTouchStart(Y),T.cancel(Y)},{passive:!0})),this.register((0,e.addDisposableDomListener)(O,"touchmove",function(Y){if(!T.coreMouseService.areMouseEventsActive)return T.viewport.onTouchMove(Y)?void 0:T.cancel(Y)},{passive:!1}))},q.prototype.refresh=function(T,P){var O;(O=this._renderService)===null||O===void 0||O.refreshRows(T,P)},q.prototype._queueLinkification=function(T,P){var O;(O=this.linkifier)===null||O===void 0||O.linkifyRows(T,P)},q.prototype.updateCursorStyle=function(T){var P;!((P=this._selectionService)===null||P===void 0)&&P.shouldColumnSelect(T)?this.element.classList.add("column-select"):this.element.classList.remove("column-select")},q.prototype._showCursor=function(){this.coreService.isCursorInitialized||(this.coreService.isCursorInitialized=!0,this.refresh(this.buffer.y,this.buffer.y))},q.prototype.scrollLines=function(T,P,O){O===void 0&&(O=0),R.prototype.scrollLines.call(this,T,P,O),this.refresh(0,this.rows-1)},q.prototype.paste=function(T){(0,v.paste)(T,this.textarea,this.coreService)},q.prototype.attachCustomKeyEventHandler=function(T){this._customKeyEventHandler=T},q.prototype.registerLinkMatcher=function(T,P,O){var z=this.linkifier.registerLinkMatcher(T,P,O);return this.refresh(0,this.rows-1),z},q.prototype.deregisterLinkMatcher=function(T){this.linkifier.deregisterLinkMatcher(T)&&this.refresh(0,this.rows-1)},q.prototype.registerLinkProvider=function(T){return this.linkifier2.registerLinkProvider(T)},q.prototype.registerCharacterJoiner=function(T){if(!this._characterJoinerService)throw new Error("Terminal must be opened first");var P=this._characterJoinerService.register(T);return this.refresh(0,this.rows-1),P},q.prototype.deregisterCharacterJoiner=function(T){if(!this._characterJoinerService)throw new Error("Terminal must be opened first");this._characterJoinerService.deregister(T)&&this.refresh(0,this.rows-1)},Object.defineProperty(q.prototype,"markers",{get:function(){return this.buffer.markers},enumerable:!1,configurable:!0}),q.prototype.addMarker=function(T){if(this.buffer===this.buffers.normal)return this.buffer.addMarker(this.buffer.ybase+this.buffer.y+T)},q.prototype.registerDecoration=function(T){return this.decorationService.registerDecoration(T)},q.prototype.hasSelection=function(){return!!this._selectionService&&this._selectionService.hasSelection},q.prototype.select=function(T,P,O){this._selectionService.setSelection(T,P,O)},q.prototype.getSelection=function(){return this._selectionService?this._selectionService.selectionText:""},q.prototype.getSelectionPosition=function(){if(this._selectionService&&this._selectionService.hasSelection)return{startColumn:this._selectionService.selectionStart[0],startRow:this._selectionService.selectionStart[1],endColumn:this._selectionService.selectionEnd[0],endRow:this._selectionService.selectionEnd[1]}},q.prototype.clearSelection=function(){var T;(T=this._selectionService)===null||T===void 0||T.clearSelection()},q.prototype.selectAll=function(){var T;(T=this._selectionService)===null||T===void 0||T.selectAll()},q.prototype.selectLines=function(T,P){var O;(O=this._selectionService)===null||O===void 0||O.selectLines(T,P)},q.prototype._keyDown=function(T){if(this._keyDownHandled=!1,this._customKeyEventHandler&&this._customKeyEventHandler(T)===!1)return!1;if(!this._compositionHelper.keydown(T))return this.buffer.ybase!==this.buffer.ydisp&&this._bufferService.scrollToBottom(),!1;T.key!=="Dead"&&T.key!=="AltGraph"||(this._unprocessedDeadKey=!0);var P=(0,w.evaluateKeyboardEvent)(T,this.coreService.decPrivateModes.applicationCursorKeys,this.browser.isMac,this.options.macOptionIsMeta);if(this.updateCursorStyle(T),P.type===3||P.type===2){var O=this.rows-1;return this.scrollLines(P.type===2?-O:O),this.cancel(T,!0)}return P.type===1&&this.selectAll(),!!this._isThirdLevelShift(this.browser,T)||(P.cancel&&this.cancel(T,!0),!P.key||(this._unprocessedDeadKey?(this._unprocessedDeadKey=!1,!0):(P.key!==b.C0.ETX&&P.key!==b.C0.CR||(this.textarea.value=""),this._onKey.fire({key:P.key,domEvent:T}),this._showCursor(),this.coreService.triggerDataEvent(P.key,!0),this.optionsService.rawOptions.screenReaderMode?void(this._keyDownHandled=!0):this.cancel(T,!0))))},q.prototype._isThirdLevelShift=function(T,P){var O=T.isMac&&!this.options.macOptionIsMeta&&P.altKey&&!P.ctrlKey&&!P.metaKey||T.isWindows&&P.altKey&&P.ctrlKey&&!P.metaKey||T.isWindows&&P.getModifierState("AltGraph");return P.type==="keypress"?O:O&&(!P.keyCode||P.keyCode>47)},q.prototype._keyUp=function(T){this._customKeyEventHandler&&this._customKeyEventHandler(T)===!1||(function(P){return P.keyCode===16||P.keyCode===17||P.keyCode===18}(T)||this.focus(),this.updateCursorStyle(T),this._keyPressHandled=!1)},q.prototype._keyPress=function(T){var P;if(this._keyPressHandled=!1,this._keyDownHandled||this._customKeyEventHandler&&this._customKeyEventHandler(T)===!1)return!1;if(this.cancel(T),T.charCode)P=T.charCode;else if(T.which===null||T.which===void 0)P=T.keyCode;else{if(T.which===0||T.charCode===0)return!1;P=T.which}return!(!P||(T.altKey||T.ctrlKey||T.metaKey)&&!this._isThirdLevelShift(this.browser,T)||(P=String.fromCharCode(P),this._onKey.fire({key:P,domEvent:T}),this._showCursor(),this.coreService.triggerDataEvent(P,!0),this._keyPressHandled=!0,this._unprocessedDeadKey=!1,0))},q.prototype._inputEvent=function(T){if(T.data&&T.inputType==="insertText"&&!T.composed&&!this.optionsService.rawOptions.screenReaderMode){if(this._keyPressHandled)return!1;this._unprocessedDeadKey=!1;var P=T.data;return this.coreService.triggerDataEvent(P,!0),this.cancel(T),!0}return!1},q.prototype.bell=function(){var T;this._soundBell()&&((T=this._soundService)===null||T===void 0||T.playBellSound()),this._onBell.fire()},q.prototype.resize=function(T,P){T!==this.cols||P!==this.rows?R.prototype.resize.call(this,T,P):this._charSizeService&&!this._charSizeService.hasValidSize&&this._charSizeService.measure()},q.prototype._afterResize=function(T,P){var O,z;(O=this._charSizeService)===null||O===void 0||O.measure(),(z=this.viewport)===null||z===void 0||z.syncScrollArea(!0)},q.prototype.clear=function(){if(this.buffer.ybase!==0||this.buffer.y!==0){this.buffer.clearMarkers(),this.buffer.lines.set(0,this.buffer.lines.get(this.buffer.ybase+this.buffer.y)),this.buffer.lines.length=1,this.buffer.ydisp=0,this.buffer.ybase=0,this.buffer.y=0;for(var T=1;T<this.rows;T++)this.buffer.lines.push(this.buffer.getBlankLine(y.DEFAULT_ATTR_DATA));this.refresh(0,this.rows-1),this._onScroll.fire({position:this.buffer.ydisp,source:0})}},q.prototype.reset=function(){var T,P;this.options.rows=this.rows,this.options.cols=this.cols;var O=this._customKeyEventHandler;this._setup(),R.prototype.reset.call(this),(T=this._selectionService)===null||T===void 0||T.reset(),this._customKeyEventHandler=O,this.refresh(0,this.rows-1),(P=this.viewport)===null||P===void 0||P.syncScrollArea()},q.prototype.clearTextureAtlas=function(){var T;(T=this._renderService)===null||T===void 0||T.clearTextureAtlas()},q.prototype._reportFocus=function(){var T;!((T=this.element)===null||T===void 0)&&T.classList.contains("focus")?this.coreService.triggerDataEvent(b.C0.ESC+"[I"):this.coreService.triggerDataEvent(b.C0.ESC+"[O")},q.prototype._reportWindowsOptions=function(T){if(this._renderService)switch(T){case o.WindowsOptionsReportType.GET_WIN_SIZE_PIXELS:var P=this._renderService.dimensions.scaledCanvasWidth.toFixed(0),O=this._renderService.dimensions.scaledCanvasHeight.toFixed(0);this.coreService.triggerDataEvent(b.C0.ESC+"[4;"+O+";"+P+"t");break;case o.WindowsOptionsReportType.GET_CELL_SIZE_PIXELS:var z=this._renderService.dimensions.scaledCellWidth.toFixed(0),K=this._renderService.dimensions.scaledCellHeight.toFixed(0);this.coreService.triggerDataEvent(b.C0.ESC+"[6;"+K+";"+z+"t")}},q.prototype.cancel=function(T,P){if(this.options.cancelEvents||P)return T.preventDefault(),T.stopPropagation(),!1},q.prototype._visualBell=function(){return!1},q.prototype._soundBell=function(){return this.options.bellStyle==="sound"},q}(I.CoreTerminal);i.Terminal=Z},9924:(D,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.TimeBasedDebouncer=void 0;var g=function(){function a(h,u){u===void 0&&(u=1e3),this._renderCallback=h,this._debounceThresholdMS=u,this._lastRefreshMs=0,this._additionalRefreshRequested=!1}return a.prototype.dispose=function(){this._refreshTimeoutID&&clearTimeout(this._refreshTimeoutID)},a.prototype.refresh=function(h,u,f){var v=this;this._rowCount=f,h=h!==void 0?h:0,u=u!==void 0?u:this._rowCount-1,this._rowStart=this._rowStart!==void 0?Math.min(this._rowStart,h):h,this._rowEnd=this._rowEnd!==void 0?Math.max(this._rowEnd,u):u;var b=Date.now();if(b-this._lastRefreshMs>=this._debounceThresholdMS)this._lastRefreshMs=b,this._innerRefresh();else if(!this._additionalRefreshRequested){var o=b-this._lastRefreshMs,c=this._debounceThresholdMS-o;this._additionalRefreshRequested=!0,this._refreshTimeoutID=window.setTimeout(function(){v._lastRefreshMs=Date.now(),v._innerRefresh(),v._additionalRefreshRequested=!1,v._refreshTimeoutID=void 0},c)}},a.prototype._innerRefresh=function(){if(this._rowStart!==void 0&&this._rowEnd!==void 0&&this._rowCount!==void 0){var h=Math.max(this._rowStart,0),u=Math.min(this._rowEnd,this._rowCount-1);this._rowStart=void 0,this._rowEnd=void 0,this._renderCallback(h,u)}},a}();i.TimeBasedDebouncer=g},1680:function(D,i,g){var a,h=this&&this.__extends||(a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])},a(n,t)},function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=n}a(n,t),n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}),u=this&&this.__decorate||function(n,t,e,r){var s,l=arguments.length,_=l<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")_=Reflect.decorate(n,t,e,r);else for(var p=n.length-1;p>=0;p--)(s=n[p])&&(_=(l<3?s(_):l>3?s(t,e,_):s(t,e))||_);return l>3&&_&&Object.defineProperty(t,e,_),_},f=this&&this.__param||function(n,t){return function(e,r){t(e,r,n)}};Object.defineProperty(i,"__esModule",{value:!0}),i.Viewport=void 0;var v=g(844),b=g(3656),o=g(4725),c=g(2585),d=function(n){function t(e,r,s,l,_,p,w,S){var y=n.call(this)||this;return y._scrollLines=e,y._viewportElement=r,y._scrollArea=s,y._element=l,y._bufferService=_,y._optionsService=p,y._charSizeService=w,y._renderService=S,y.scrollBarWidth=0,y._currentRowHeight=0,y._currentScaledCellHeight=0,y._lastRecordedBufferLength=0,y._lastRecordedViewportHeight=0,y._lastRecordedBufferHeight=0,y._lastTouchY=0,y._lastScrollTop=0,y._lastHadScrollBar=!1,y._wheelPartialScroll=0,y._refreshAnimationFrame=null,y._ignoreNextScrollEvent=!1,y.scrollBarWidth=y._viewportElement.offsetWidth-y._scrollArea.offsetWidth||15,y._lastHadScrollBar=!0,y.register((0,b.addDisposableDomListener)(y._viewportElement,"scroll",y._onScroll.bind(y))),y._activeBuffer=y._bufferService.buffer,y.register(y._bufferService.buffers.onBufferActivate(function(m){return y._activeBuffer=m.activeBuffer})),y._renderDimensions=y._renderService.dimensions,y.register(y._renderService.onDimensionsChange(function(m){return y._renderDimensions=m})),setTimeout(function(){return y.syncScrollArea()},0),y}return h(t,n),t.prototype.onThemeChange=function(e){this._viewportElement.style.backgroundColor=e.background.css},t.prototype._refresh=function(e){var r=this;if(e)return this._innerRefresh(),void(this._refreshAnimationFrame!==null&&cancelAnimationFrame(this._refreshAnimationFrame));this._refreshAnimationFrame===null&&(this._refreshAnimationFrame=requestAnimationFrame(function(){return r._innerRefresh()}))},t.prototype._innerRefresh=function(){if(this._charSizeService.height>0){this._currentRowHeight=this._renderService.dimensions.scaledCellHeight/window.devicePixelRatio,this._currentScaledCellHeight=this._renderService.dimensions.scaledCellHeight,this._lastRecordedViewportHeight=this._viewportElement.offsetHeight;var e=Math.round(this._currentRowHeight*this._lastRecordedBufferLength)+(this._lastRecordedViewportHeight-this._renderService.dimensions.canvasHeight);this._lastRecordedBufferHeight!==e&&(this._lastRecordedBufferHeight=e,this._scrollArea.style.height=this._lastRecordedBufferHeight+"px")}var r=this._bufferService.buffer.ydisp*this._currentRowHeight;this._viewportElement.scrollTop!==r&&(this._ignoreNextScrollEvent=!0,this._viewportElement.scrollTop=r),this._optionsService.rawOptions.scrollback===0?this.scrollBarWidth=0:this.scrollBarWidth=this._viewportElement.offsetWidth-this._scrollArea.offsetWidth||15,this._lastHadScrollBar=this.scrollBarWidth>0;var s=window.getComputedStyle(this._element),l=parseInt(s.paddingLeft)+parseInt(s.paddingRight);this._viewportElement.style.width=(this._renderService.dimensions.actualCellWidth*this._bufferService.cols+this.scrollBarWidth+(this._lastHadScrollBar?l:0)).toString()+"px",this._refreshAnimationFrame=null},t.prototype.syncScrollArea=function(e){if(e===void 0&&(e=!1),this._lastRecordedBufferLength!==this._bufferService.buffer.lines.length)return this._lastRecordedBufferLength=this._bufferService.buffer.lines.length,void this._refresh(e);this._lastRecordedViewportHeight===this._renderService.dimensions.canvasHeight&&this._lastScrollTop===this._activeBuffer.ydisp*this._currentRowHeight&&this._renderDimensions.scaledCellHeight===this._currentScaledCellHeight?this._lastHadScrollBar!==this._optionsService.rawOptions.scrollback>0&&this._refresh(e):this._refresh(e)},t.prototype._onScroll=function(e){if(this._lastScrollTop=this._viewportElement.scrollTop,this._viewportElement.offsetParent){if(this._ignoreNextScrollEvent)return this._ignoreNextScrollEvent=!1,void this._scrollLines(0);var r=Math.round(this._lastScrollTop/this._currentRowHeight)-this._bufferService.buffer.ydisp;this._scrollLines(r)}},t.prototype._bubbleScroll=function(e,r){var s=this._viewportElement.scrollTop+this._lastRecordedViewportHeight;return!(r<0&&this._viewportElement.scrollTop!==0||r>0&&s<this._lastRecordedBufferHeight)||(e.cancelable&&e.preventDefault(),!1)},t.prototype.onWheel=function(e){var r=this._getPixelsScrolled(e);return r!==0&&(this._viewportElement.scrollTop+=r,this._bubbleScroll(e,r))},t.prototype._getPixelsScrolled=function(e){if(e.deltaY===0||e.shiftKey)return 0;var r=this._applyScrollModifier(e.deltaY,e);return e.deltaMode===WheelEvent.DOM_DELTA_LINE?r*=this._currentRowHeight:e.deltaMode===WheelEvent.DOM_DELTA_PAGE&&(r*=this._currentRowHeight*this._bufferService.rows),r},t.prototype.getLinesScrolled=function(e){if(e.deltaY===0||e.shiftKey)return 0;var r=this._applyScrollModifier(e.deltaY,e);return e.deltaMode===WheelEvent.DOM_DELTA_PIXEL?(r/=this._currentRowHeight+0,this._wheelPartialScroll+=r,r=Math.floor(Math.abs(this._wheelPartialScroll))*(this._wheelPartialScroll>0?1:-1),this._wheelPartialScroll%=1):e.deltaMode===WheelEvent.DOM_DELTA_PAGE&&(r*=this._bufferService.rows),r},t.prototype._applyScrollModifier=function(e,r){var s=this._optionsService.rawOptions.fastScrollModifier;return s==="alt"&&r.altKey||s==="ctrl"&&r.ctrlKey||s==="shift"&&r.shiftKey?e*this._optionsService.rawOptions.fastScrollSensitivity*this._optionsService.rawOptions.scrollSensitivity:e*this._optionsService.rawOptions.scrollSensitivity},t.prototype.onTouchStart=function(e){this._lastTouchY=e.touches[0].pageY},t.prototype.onTouchMove=function(e){var r=this._lastTouchY-e.touches[0].pageY;return this._lastTouchY=e.touches[0].pageY,r!==0&&(this._viewportElement.scrollTop+=r,this._bubbleScroll(e,r))},u([f(4,c.IBufferService),f(5,c.IOptionsService),f(6,o.ICharSizeService),f(7,o.IRenderService)],t)}(v.Disposable);i.Viewport=d},2950:function(D,i,g){var a=this&&this.__decorate||function(b,o,c,d){var n,t=arguments.length,e=t<3?o:d===null?d=Object.getOwnPropertyDescriptor(o,c):d;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")e=Reflect.decorate(b,o,c,d);else for(var r=b.length-1;r>=0;r--)(n=b[r])&&(e=(t<3?n(e):t>3?n(o,c,e):n(o,c))||e);return t>3&&e&&Object.defineProperty(o,c,e),e},h=this&&this.__param||function(b,o){return function(c,d){o(c,d,b)}};Object.defineProperty(i,"__esModule",{value:!0}),i.CompositionHelper=void 0;var u=g(4725),f=g(2585),v=function(){function b(o,c,d,n,t,e){this._textarea=o,this._compositionView=c,this._bufferService=d,this._optionsService=n,this._coreService=t,this._renderService=e,this._isComposing=!1,this._isSendingComposition=!1,this._compositionPosition={start:0,end:0},this._dataAlreadySent=""}return Object.defineProperty(b.prototype,"isComposing",{get:function(){return this._isComposing},enumerable:!1,configurable:!0}),b.prototype.compositionstart=function(){this._isComposing=!0,this._compositionPosition.start=this._textarea.value.length,this._compositionView.textContent="",this._dataAlreadySent="",this._compositionView.classList.add("active")},b.prototype.compositionupdate=function(o){var c=this;this._compositionView.textContent=o.data,this.updateCompositionElements(),setTimeout(function(){c._compositionPosition.end=c._textarea.value.length},0)},b.prototype.compositionend=function(){this._finalizeComposition(!0)},b.prototype.keydown=function(o){if(this._isComposing||this._isSendingComposition){if(o.keyCode===229||o.keyCode===16||o.keyCode===17||o.keyCode===18)return!1;this._finalizeComposition(!1)}return o.keyCode!==229||(this._handleAnyTextareaChanges(),!1)},b.prototype._finalizeComposition=function(o){var c=this;if(this._compositionView.classList.remove("active"),this._isComposing=!1,o){var d={start:this._compositionPosition.start,end:this._compositionPosition.end};this._isSendingComposition=!0,setTimeout(function(){if(c._isSendingComposition){c._isSendingComposition=!1;var t;d.start+=c._dataAlreadySent.length,(t=c._isComposing?c._textarea.value.substring(d.start,d.end):c._textarea.value.substring(d.start)).length>0&&c._coreService.triggerDataEvent(t,!0)}},0)}else{this._isSendingComposition=!1;var n=this._textarea.value.substring(this._compositionPosition.start,this._compositionPosition.end);this._coreService.triggerDataEvent(n,!0)}},b.prototype._handleAnyTextareaChanges=function(){var o=this,c=this._textarea.value;setTimeout(function(){if(!o._isComposing){var d=o._textarea.value.replace(c,"");d.length>0&&(o._dataAlreadySent=d,o._coreService.triggerDataEvent(d,!0))}},0)},b.prototype.updateCompositionElements=function(o){var c=this;if(this._isComposing){if(this._bufferService.buffer.isCursorInViewport){var d=Math.min(this._bufferService.buffer.x,this._bufferService.cols-1),n=this._renderService.dimensions.actualCellHeight,t=this._bufferService.buffer.y*this._renderService.dimensions.actualCellHeight,e=d*this._renderService.dimensions.actualCellWidth;this._compositionView.style.left=e+"px",this._compositionView.style.top=t+"px",this._compositionView.style.height=n+"px",this._compositionView.style.lineHeight=n+"px",this._compositionView.style.fontFamily=this._optionsService.rawOptions.fontFamily,this._compositionView.style.fontSize=this._optionsService.rawOptions.fontSize+"px";var r=this._compositionView.getBoundingClientRect();this._textarea.style.left=e+"px",this._textarea.style.top=t+"px",this._textarea.style.width=Math.max(r.width,1)+"px",this._textarea.style.height=Math.max(r.height,1)+"px",this._textarea.style.lineHeight=r.height+"px"}o||setTimeout(function(){return c.updateCompositionElements(!0)},0)}},a([h(2,f.IBufferService),h(3,f.IOptionsService),h(4,f.ICoreService),h(5,u.IRenderService)],b)}();i.CompositionHelper=v},9806:(D,i)=>{function g(a,h){var u=h.getBoundingClientRect();return[a.clientX-u.left,a.clientY-u.top]}Object.defineProperty(i,"__esModule",{value:!0}),i.getRawByteCoords=i.getCoords=i.getCoordsRelativeToElement=void 0,i.getCoordsRelativeToElement=g,i.getCoords=function(a,h,u,f,v,b,o,c){if(v){var d=g(a,h);if(d)return d[0]=Math.ceil((d[0]+(c?b/2:0))/b),d[1]=Math.ceil(d[1]/o),d[0]=Math.min(Math.max(d[0],1),u+(c?1:0)),d[1]=Math.min(Math.max(d[1],1),f),d}},i.getRawByteCoords=function(a){if(a)return{x:a[0]+32,y:a[1]+32}}},9504:(D,i,g)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.moveToCellSequence=void 0;var a=g(2584);function h(c,d,n,t){var e=c-u(n,c),r=d-u(n,d),s=Math.abs(e-r)-function(l,_,p){for(var w=0,S=l-u(p,l),y=_-u(p,_),m=0;m<Math.abs(S-y);m++){var M=f(l,_)==="A"?-1:1,E=p.buffer.lines.get(S+M*m);E?.isWrapped&&w++}return w}(c,d,n);return o(s,b(f(c,d),t))}function u(c,d){for(var n=0,t=c.buffer.lines.get(d),e=t?.isWrapped;e&&d>=0&&d<c.rows;)n++,e=(t=c.buffer.lines.get(--d))==null?void 0:t.isWrapped;return n}function f(c,d){return c>d?"A":"B"}function v(c,d,n,t,e,r){for(var s=c,l=d,_="";s!==n||l!==t;)s+=e?1:-1,e&&s>r.cols-1?(_+=r.buffer.translateBufferLineToString(l,!1,c,s),s=0,c=0,l++):!e&&s<0&&(_+=r.buffer.translateBufferLineToString(l,!1,0,c+1),c=s=r.cols-1,l--);return _+r.buffer.translateBufferLineToString(l,!1,c,s)}function b(c,d){var n=d?"O":"[";return a.C0.ESC+n+c}function o(c,d){c=Math.floor(c);for(var n="",t=0;t<c;t++)n+=d;return n}i.moveToCellSequence=function(c,d,n,t){var e,r=n.buffer.x,s=n.buffer.y;if(!n.buffer.hasScrollback)return function(_,p,w,S,y,m){return h(p,S,y,m).length===0?"":o(v(_,p,_,p-u(y,p),!1,y).length,b("D",m))}(r,s,0,d,n,t)+h(s,d,n,t)+function(_,p,w,S,y,m){var M;M=h(p,S,y,m).length>0?S-u(y,S):p;var E=S,W=function(A,L,B,I,F,N){var G;return G=h(B,I,F,N).length>0?I-u(F,I):L,A<B&&G<=I||A>=B&&G<I?"C":"D"}(_,p,w,S,y,m);return o(v(_,M,w,E,W==="C",y).length,b(W,m))}(r,s,c,d,n,t);if(s===d)return e=r>c?"D":"C",o(Math.abs(r-c),b(e,t));e=s>d?"D":"C";var l=Math.abs(s-d);return o(function(_,p){return p.cols-_}(s>d?c:r,n)+(l-1)*n.cols+1+((s>d?r:c)-1),b(e,t))}},4389:function(D,i,g){var a=this&&this.__assign||function(){return a=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++)for(var s in t=arguments[e])Object.prototype.hasOwnProperty.call(t,s)&&(n[s]=t[s]);return n},a.apply(this,arguments)};Object.defineProperty(i,"__esModule",{value:!0}),i.Terminal=void 0;var h=g(3236),u=g(9042),f=g(7975),v=g(7090),b=g(5741),o=g(8285),c=["cols","rows"],d=function(){function n(t){var e=this;this._core=new h.Terminal(t),this._addonManager=new b.AddonManager,this._publicOptions=a({},this._core.options);var r=function(p){return e._core.options[p]},s=function(p,w){e._checkReadonlyOptions(p),e._core.options[p]=w};for(var l in this._core.options){var _={get:r.bind(this,l),set:s.bind(this,l)};Object.defineProperty(this._publicOptions,l,_)}}return n.prototype._checkReadonlyOptions=function(t){if(c.includes(t))throw new Error('Option "'+t+'" can only be set in the constructor')},n.prototype._checkProposedApi=function(){if(!this._core.optionsService.rawOptions.allowProposedApi)throw new Error("You must set the allowProposedApi option to true to use proposed API")},Object.defineProperty(n.prototype,"onBell",{get:function(){return this._core.onBell},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"onBinary",{get:function(){return this._core.onBinary},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"onCursorMove",{get:function(){return this._core.onCursorMove},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"onData",{get:function(){return this._core.onData},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"onKey",{get:function(){return this._core.onKey},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"onLineFeed",{get:function(){return this._core.onLineFeed},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"onRender",{get:function(){return this._core.onRender},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"onResize",{get:function(){return this._core.onResize},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"onScroll",{get:function(){return this._core.onScroll},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"onSelectionChange",{get:function(){return this._core.onSelectionChange},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"onTitleChange",{get:function(){return this._core.onTitleChange},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"element",{get:function(){return this._core.element},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"parser",{get:function(){return this._checkProposedApi(),this._parser||(this._parser=new f.ParserApi(this._core)),this._parser},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"unicode",{get:function(){return this._checkProposedApi(),new v.UnicodeApi(this._core)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"textarea",{get:function(){return this._core.textarea},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"rows",{get:function(){return this._core.rows},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"cols",{get:function(){return this._core.cols},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"buffer",{get:function(){return this._checkProposedApi(),this._buffer||(this._buffer=new o.BufferNamespaceApi(this._core)),this._buffer},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"markers",{get:function(){return this._checkProposedApi(),this._core.markers},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"modes",{get:function(){var t=this._core.coreService.decPrivateModes,e="none";switch(this._core.coreMouseService.activeProtocol){case"X10":e="x10";break;case"VT200":e="vt200";break;case"DRAG":e="drag";break;case"ANY":e="any"}return{applicationCursorKeysMode:t.applicationCursorKeys,applicationKeypadMode:t.applicationKeypad,bracketedPasteMode:t.bracketedPasteMode,insertMode:this._core.coreService.modes.insertMode,mouseTrackingMode:e,originMode:t.origin,reverseWraparoundMode:t.reverseWraparound,sendFocusMode:t.sendFocus,wraparoundMode:t.wraparound}},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"options",{get:function(){return this._publicOptions},set:function(t){for(var e in t)this._publicOptions[e]=t[e]},enumerable:!1,configurable:!0}),n.prototype.blur=function(){this._core.blur()},n.prototype.focus=function(){this._core.focus()},n.prototype.resize=function(t,e){this._verifyIntegers(t,e),this._core.resize(t,e)},n.prototype.open=function(t){this._core.open(t)},n.prototype.attachCustomKeyEventHandler=function(t){this._core.attachCustomKeyEventHandler(t)},n.prototype.registerLinkMatcher=function(t,e,r){return this._checkProposedApi(),this._core.registerLinkMatcher(t,e,r)},n.prototype.deregisterLinkMatcher=function(t){this._checkProposedApi(),this._core.deregisterLinkMatcher(t)},n.prototype.registerLinkProvider=function(t){return this._checkProposedApi(),this._core.registerLinkProvider(t)},n.prototype.registerCharacterJoiner=function(t){return this._checkProposedApi(),this._core.registerCharacterJoiner(t)},n.prototype.deregisterCharacterJoiner=function(t){this._checkProposedApi(),this._core.deregisterCharacterJoiner(t)},n.prototype.registerMarker=function(t){return t===void 0&&(t=0),this._checkProposedApi(),this._verifyIntegers(t),this._core.addMarker(t)},n.prototype.registerDecoration=function(t){var e,r,s;return this._checkProposedApi(),this._verifyPositiveIntegers((e=t.x)!==null&&e!==void 0?e:0,(r=t.width)!==null&&r!==void 0?r:0,(s=t.height)!==null&&s!==void 0?s:0),this._core.registerDecoration(t)},n.prototype.addMarker=function(t){return this.registerMarker(t)},n.prototype.hasSelection=function(){return this._core.hasSelection()},n.prototype.select=function(t,e,r){this._verifyIntegers(t,e,r),this._core.select(t,e,r)},n.prototype.getSelection=function(){return this._core.getSelection()},n.prototype.getSelectionPosition=function(){return this._core.getSelectionPosition()},n.prototype.clearSelection=function(){this._core.clearSelection()},n.prototype.selectAll=function(){this._core.selectAll()},n.prototype.selectLines=function(t,e){this._verifyIntegers(t,e),this._core.selectLines(t,e)},n.prototype.dispose=function(){this._addonManager.dispose(),this._core.dispose()},n.prototype.scrollLines=function(t){this._verifyIntegers(t),this._core.scrollLines(t)},n.prototype.scrollPages=function(t){this._verifyIntegers(t),this._core.scrollPages(t)},n.prototype.scrollToTop=function(){this._core.scrollToTop()},n.prototype.scrollToBottom=function(){this._core.scrollToBottom()},n.prototype.scrollToLine=function(t){this._verifyIntegers(t),this._core.scrollToLine(t)},n.prototype.clear=function(){this._core.clear()},n.prototype.write=function(t,e){this._core.write(t,e)},n.prototype.writeUtf8=function(t,e){this._core.write(t,e)},n.prototype.writeln=function(t,e){this._core.write(t),this._core.write(`\r
`,e)},n.prototype.paste=function(t){this._core.paste(t)},n.prototype.getOption=function(t){return this._core.optionsService.getOption(t)},n.prototype.setOption=function(t,e){this._checkReadonlyOptions(t),this._core.optionsService.setOption(t,e)},n.prototype.refresh=function(t,e){this._verifyIntegers(t,e),this._core.refresh(t,e)},n.prototype.reset=function(){this._core.reset()},n.prototype.clearTextureAtlas=function(){this._core.clearTextureAtlas()},n.prototype.loadAddon=function(t){return this._addonManager.loadAddon(this,t)},Object.defineProperty(n,"strings",{get:function(){return u},enumerable:!1,configurable:!0}),n.prototype._verifyIntegers=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var r=0,s=t;r<s.length;r++){var l=s[r];if(l===1/0||isNaN(l)||l%1!=0)throw new Error("This API only accepts integers")}},n.prototype._verifyPositiveIntegers=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var r=0,s=t;r<s.length;r++){var l=s[r];if(l&&(l===1/0||isNaN(l)||l%1!=0||l<0))throw new Error("This API only accepts positive integers")}},n}();i.Terminal=d},1546:(D,i,g)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.BaseRenderLayer=void 0;var a=g(643),h=g(8803),u=g(1420),f=g(3734),v=g(1752),b=g(4774),o=g(9631),c=g(8978),d=function(){function n(t,e,r,s,l,_,p,w){this._container=t,this._alpha=s,this._colors=l,this._rendererId=_,this._bufferService=p,this._optionsService=w,this._scaledCharWidth=0,this._scaledCharHeight=0,this._scaledCellWidth=0,this._scaledCellHeight=0,this._scaledCharLeft=0,this._scaledCharTop=0,this._currentGlyphIdentifier={chars:"",code:0,bg:0,fg:0,bold:!1,dim:!1,italic:!1},this._canvas=document.createElement("canvas"),this._canvas.classList.add("xterm-"+e+"-layer"),this._canvas.style.zIndex=r.toString(),this._initCanvas(),this._container.appendChild(this._canvas)}return n.prototype.dispose=function(){var t;(0,o.removeElementFromParent)(this._canvas),(t=this._charAtlas)===null||t===void 0||t.dispose()},n.prototype._initCanvas=function(){this._ctx=(0,v.throwIfFalsy)(this._canvas.getContext("2d",{alpha:this._alpha})),this._alpha||this._clearAll()},n.prototype.onOptionsChanged=function(){},n.prototype.onBlur=function(){},n.prototype.onFocus=function(){},n.prototype.onCursorMove=function(){},n.prototype.onGridChanged=function(t,e){},n.prototype.onSelectionChanged=function(t,e,r){},n.prototype.setColors=function(t){this._refreshCharAtlas(t)},n.prototype._setTransparency=function(t){if(t!==this._alpha){var e=this._canvas;this._alpha=t,this._canvas=this._canvas.cloneNode(),this._initCanvas(),this._container.replaceChild(this._canvas,e),this._refreshCharAtlas(this._colors),this.onGridChanged(0,this._bufferService.rows-1)}},n.prototype._refreshCharAtlas=function(t){this._scaledCharWidth<=0&&this._scaledCharHeight<=0||(this._charAtlas=(0,u.acquireCharAtlas)(this._optionsService.rawOptions,this._rendererId,t,this._scaledCharWidth,this._scaledCharHeight),this._charAtlas.warmUp())},n.prototype.resize=function(t){this._scaledCellWidth=t.scaledCellWidth,this._scaledCellHeight=t.scaledCellHeight,this._scaledCharWidth=t.scaledCharWidth,this._scaledCharHeight=t.scaledCharHeight,this._scaledCharLeft=t.scaledCharLeft,this._scaledCharTop=t.scaledCharTop,this._canvas.width=t.scaledCanvasWidth,this._canvas.height=t.scaledCanvasHeight,this._canvas.style.width=t.canvasWidth+"px",this._canvas.style.height=t.canvasHeight+"px",this._alpha||this._clearAll(),this._refreshCharAtlas(this._colors)},n.prototype.clearTextureAtlas=function(){var t;(t=this._charAtlas)===null||t===void 0||t.clear()},n.prototype._fillCells=function(t,e,r,s){this._ctx.fillRect(t*this._scaledCellWidth,e*this._scaledCellHeight,r*this._scaledCellWidth,s*this._scaledCellHeight)},n.prototype._fillMiddleLineAtCells=function(t,e,r){r===void 0&&(r=1);var s=Math.ceil(.5*this._scaledCellHeight);this._ctx.fillRect(t*this._scaledCellWidth,(e+1)*this._scaledCellHeight-s-window.devicePixelRatio,r*this._scaledCellWidth,window.devicePixelRatio)},n.prototype._fillBottomLineAtCells=function(t,e,r){r===void 0&&(r=1),this._ctx.fillRect(t*this._scaledCellWidth,(e+1)*this._scaledCellHeight-window.devicePixelRatio-1,r*this._scaledCellWidth,window.devicePixelRatio)},n.prototype._fillLeftLineAtCell=function(t,e,r){this._ctx.fillRect(t*this._scaledCellWidth,e*this._scaledCellHeight,window.devicePixelRatio*r,this._scaledCellHeight)},n.prototype._strokeRectAtCell=function(t,e,r,s){this._ctx.lineWidth=window.devicePixelRatio,this._ctx.strokeRect(t*this._scaledCellWidth+window.devicePixelRatio/2,e*this._scaledCellHeight+window.devicePixelRatio/2,r*this._scaledCellWidth-window.devicePixelRatio,s*this._scaledCellHeight-window.devicePixelRatio)},n.prototype._clearAll=function(){this._alpha?this._ctx.clearRect(0,0,this._canvas.width,this._canvas.height):(this._ctx.fillStyle=this._colors.background.css,this._ctx.fillRect(0,0,this._canvas.width,this._canvas.height))},n.prototype._clearCells=function(t,e,r,s){this._alpha?this._ctx.clearRect(t*this._scaledCellWidth,e*this._scaledCellHeight,r*this._scaledCellWidth,s*this._scaledCellHeight):(this._ctx.fillStyle=this._colors.background.css,this._ctx.fillRect(t*this._scaledCellWidth,e*this._scaledCellHeight,r*this._scaledCellWidth,s*this._scaledCellHeight))},n.prototype._fillCharTrueColor=function(t,e,r){this._ctx.font=this._getFont(!1,!1),this._ctx.textBaseline=h.TEXT_BASELINE,this._clipRow(r);var s=!1;this._optionsService.rawOptions.customGlyphs!==!1&&(s=(0,c.tryDrawCustomChar)(this._ctx,t.getChars(),e*this._scaledCellWidth,r*this._scaledCellHeight,this._scaledCellWidth,this._scaledCellHeight)),s||this._ctx.fillText(t.getChars(),e*this._scaledCellWidth+this._scaledCharLeft,r*this._scaledCellHeight+this._scaledCharTop+this._scaledCharHeight)},n.prototype._drawChars=function(t,e,r){var s,l,_,p=this._getContrastColor(t);p||t.isFgRGB()||t.isBgRGB()?this._drawUncachedChars(t,e,r,p):(t.isInverse()?(l=t.isBgDefault()?h.INVERTED_DEFAULT_COLOR:t.getBgColor(),_=t.isFgDefault()?h.INVERTED_DEFAULT_COLOR:t.getFgColor()):(_=t.isBgDefault()?a.DEFAULT_COLOR:t.getBgColor(),l=t.isFgDefault()?a.DEFAULT_COLOR:t.getFgColor()),l+=this._optionsService.rawOptions.drawBoldTextInBrightColors&&t.isBold()&&l<8?8:0,this._currentGlyphIdentifier.chars=t.getChars()||a.WHITESPACE_CELL_CHAR,this._currentGlyphIdentifier.code=t.getCode()||a.WHITESPACE_CELL_CODE,this._currentGlyphIdentifier.bg=_,this._currentGlyphIdentifier.fg=l,this._currentGlyphIdentifier.bold=!!t.isBold(),this._currentGlyphIdentifier.dim=!!t.isDim(),this._currentGlyphIdentifier.italic=!!t.isItalic(),!((s=this._charAtlas)===null||s===void 0)&&s.draw(this._ctx,this._currentGlyphIdentifier,e*this._scaledCellWidth+this._scaledCharLeft,r*this._scaledCellHeight+this._scaledCharTop)||this._drawUncachedChars(t,e,r))},n.prototype._drawUncachedChars=function(t,e,r,s){if(this._ctx.save(),this._ctx.font=this._getFont(!!t.isBold(),!!t.isItalic()),this._ctx.textBaseline=h.TEXT_BASELINE,t.isInverse())if(s)this._ctx.fillStyle=s.css;else if(t.isBgDefault())this._ctx.fillStyle=b.color.opaque(this._colors.background).css;else if(t.isBgRGB())this._ctx.fillStyle="rgb("+f.AttributeData.toColorRGB(t.getBgColor()).join(",")+")";else{var l=t.getBgColor();this._optionsService.rawOptions.drawBoldTextInBrightColors&&t.isBold()&&l<8&&(l+=8),this._ctx.fillStyle=this._colors.ansi[l].css}else if(s)this._ctx.fillStyle=s.css;else if(t.isFgDefault())this._ctx.fillStyle=this._colors.foreground.css;else if(t.isFgRGB())this._ctx.fillStyle="rgb("+f.AttributeData.toColorRGB(t.getFgColor()).join(",")+")";else{var _=t.getFgColor();this._optionsService.rawOptions.drawBoldTextInBrightColors&&t.isBold()&&_<8&&(_+=8),this._ctx.fillStyle=this._colors.ansi[_].css}this._clipRow(r),t.isDim()&&(this._ctx.globalAlpha=h.DIM_OPACITY);var p=!1;this._optionsService.rawOptions.customGlyphs!==!1&&(p=(0,c.tryDrawCustomChar)(this._ctx,t.getChars(),e*this._scaledCellWidth,r*this._scaledCellHeight,this._scaledCellWidth,this._scaledCellHeight)),p||this._ctx.fillText(t.getChars(),e*this._scaledCellWidth+this._scaledCharLeft,r*this._scaledCellHeight+this._scaledCharTop+this._scaledCharHeight),this._ctx.restore()},n.prototype._clipRow=function(t){this._ctx.beginPath(),this._ctx.rect(0,t*this._scaledCellHeight,this._bufferService.cols*this._scaledCellWidth,this._scaledCellHeight),this._ctx.clip()},n.prototype._getFont=function(t,e){return(e?"italic":"")+" "+(t?this._optionsService.rawOptions.fontWeightBold:this._optionsService.rawOptions.fontWeight)+" "+this._optionsService.rawOptions.fontSize*window.devicePixelRatio+"px "+this._optionsService.rawOptions.fontFamily},n.prototype._getContrastColor=function(t){if(this._optionsService.rawOptions.minimumContrastRatio!==1){var e=this._colors.contrastCache.getColor(t.bg,t.fg);if(e!==void 0)return e||void 0;var r=t.getFgColor(),s=t.getFgColorMode(),l=t.getBgColor(),_=t.getBgColorMode(),p=!!t.isInverse(),w=!!t.isInverse();if(p){var S=r;r=l,l=S;var y=s;s=_,_=y}var m=this._resolveBackgroundRgba(_,l,p),M=this._resolveForegroundRgba(s,r,p,w),E=b.rgba.ensureContrastRatio(m,M,this._optionsService.rawOptions.minimumContrastRatio);if(E){var W={css:b.channels.toCss(E>>24&255,E>>16&255,E>>8&255),rgba:E};return this._colors.contrastCache.setColor(t.bg,t.fg,W),W}this._colors.contrastCache.setColor(t.bg,t.fg,null)}},n.prototype._resolveBackgroundRgba=function(t,e,r){switch(t){case 16777216:case 33554432:return this._colors.ansi[e].rgba;case 50331648:return e<<8;default:return r?this._colors.foreground.rgba:this._colors.background.rgba}},n.prototype._resolveForegroundRgba=function(t,e,r,s){switch(t){case 16777216:case 33554432:return this._optionsService.rawOptions.drawBoldTextInBrightColors&&s&&e<8&&(e+=8),this._colors.ansi[e].rgba;case 50331648:return e<<8;default:return r?this._colors.background.rgba:this._colors.foreground.rgba}},n}();i.BaseRenderLayer=d},2512:function(D,i,g){var a,h=this&&this.__extends||(a=function(e,r){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var _ in l)Object.prototype.hasOwnProperty.call(l,_)&&(s[_]=l[_])},a(e,r)},function(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function s(){this.constructor=e}a(e,r),e.prototype=r===null?Object.create(r):(s.prototype=r.prototype,new s)}),u=this&&this.__decorate||function(e,r,s,l){var _,p=arguments.length,w=p<3?r:l===null?l=Object.getOwnPropertyDescriptor(r,s):l;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")w=Reflect.decorate(e,r,s,l);else for(var S=e.length-1;S>=0;S--)(_=e[S])&&(w=(p<3?_(w):p>3?_(r,s,w):_(r,s))||w);return p>3&&w&&Object.defineProperty(r,s,w),w},f=this&&this.__param||function(e,r){return function(s,l){r(s,l,e)}};Object.defineProperty(i,"__esModule",{value:!0}),i.CursorRenderLayer=void 0;var v=g(1546),b=g(511),o=g(2585),c=g(4725),d=600,n=function(e){function r(s,l,_,p,w,S,y,m,M){var E=e.call(this,s,"cursor",l,!0,_,p,S,y)||this;return E._onRequestRedraw=w,E._coreService=m,E._coreBrowserService=M,E._cell=new b.CellData,E._state={x:0,y:0,isFocused:!1,style:"",width:0},E._cursorRenderers={bar:E._renderBarCursor.bind(E),block:E._renderBlockCursor.bind(E),underline:E._renderUnderlineCursor.bind(E)},E}return h(r,e),r.prototype.dispose=function(){this._cursorBlinkStateManager&&(this._cursorBlinkStateManager.dispose(),this._cursorBlinkStateManager=void 0),e.prototype.dispose.call(this)},r.prototype.resize=function(s){e.prototype.resize.call(this,s),this._state={x:0,y:0,isFocused:!1,style:"",width:0}},r.prototype.reset=function(){var s;this._clearCursor(),(s=this._cursorBlinkStateManager)===null||s===void 0||s.restartBlinkAnimation(),this.onOptionsChanged()},r.prototype.onBlur=function(){var s;(s=this._cursorBlinkStateManager)===null||s===void 0||s.pause(),this._onRequestRedraw.fire({start:this._bufferService.buffer.y,end:this._bufferService.buffer.y})},r.prototype.onFocus=function(){var s;(s=this._cursorBlinkStateManager)===null||s===void 0||s.resume(),this._onRequestRedraw.fire({start:this._bufferService.buffer.y,end:this._bufferService.buffer.y})},r.prototype.onOptionsChanged=function(){var s,l=this;this._optionsService.rawOptions.cursorBlink?this._cursorBlinkStateManager||(this._cursorBlinkStateManager=new t(this._coreBrowserService.isFocused,function(){l._render(!0)})):((s=this._cursorBlinkStateManager)===null||s===void 0||s.dispose(),this._cursorBlinkStateManager=void 0),this._onRequestRedraw.fire({start:this._bufferService.buffer.y,end:this._bufferService.buffer.y})},r.prototype.onCursorMove=function(){var s;(s=this._cursorBlinkStateManager)===null||s===void 0||s.restartBlinkAnimation()},r.prototype.onGridChanged=function(s,l){!this._cursorBlinkStateManager||this._cursorBlinkStateManager.isPaused?this._render(!1):this._cursorBlinkStateManager.restartBlinkAnimation()},r.prototype._render=function(s){if(this._coreService.isCursorInitialized&&!this._coreService.isCursorHidden){var l=this._bufferService.buffer.ybase+this._bufferService.buffer.y,_=l-this._bufferService.buffer.ydisp;if(_<0||_>=this._bufferService.rows)this._clearCursor();else{var p=Math.min(this._bufferService.buffer.x,this._bufferService.cols-1);if(this._bufferService.buffer.lines.get(l).loadCell(p,this._cell),this._cell.content!==void 0){if(!this._coreBrowserService.isFocused){this._clearCursor(),this._ctx.save(),this._ctx.fillStyle=this._colors.cursor.css;var w=this._optionsService.rawOptions.cursorStyle;return w&&w!=="block"?this._cursorRenderers[w](p,_,this._cell):this._renderBlurCursor(p,_,this._cell),this._ctx.restore(),this._state.x=p,this._state.y=_,this._state.isFocused=!1,this._state.style=w,void(this._state.width=this._cell.getWidth())}if(!this._cursorBlinkStateManager||this._cursorBlinkStateManager.isCursorVisible){if(this._state){if(this._state.x===p&&this._state.y===_&&this._state.isFocused===this._coreBrowserService.isFocused&&this._state.style===this._optionsService.rawOptions.cursorStyle&&this._state.width===this._cell.getWidth())return;this._clearCursor()}this._ctx.save(),this._cursorRenderers[this._optionsService.rawOptions.cursorStyle||"block"](p,_,this._cell),this._ctx.restore(),this._state.x=p,this._state.y=_,this._state.isFocused=!1,this._state.style=this._optionsService.rawOptions.cursorStyle,this._state.width=this._cell.getWidth()}else this._clearCursor()}}}else this._clearCursor()},r.prototype._clearCursor=function(){this._state&&(window.devicePixelRatio<1?this._clearAll():this._clearCells(this._state.x,this._state.y,this._state.width,1),this._state={x:0,y:0,isFocused:!1,style:"",width:0})},r.prototype._renderBarCursor=function(s,l,_){this._ctx.save(),this._ctx.fillStyle=this._colors.cursor.css,this._fillLeftLineAtCell(s,l,this._optionsService.rawOptions.cursorWidth),this._ctx.restore()},r.prototype._renderBlockCursor=function(s,l,_){this._ctx.save(),this._ctx.fillStyle=this._colors.cursor.css,this._fillCells(s,l,_.getWidth(),1),this._ctx.fillStyle=this._colors.cursorAccent.css,this._fillCharTrueColor(_,s,l),this._ctx.restore()},r.prototype._renderUnderlineCursor=function(s,l,_){this._ctx.save(),this._ctx.fillStyle=this._colors.cursor.css,this._fillBottomLineAtCells(s,l),this._ctx.restore()},r.prototype._renderBlurCursor=function(s,l,_){this._ctx.save(),this._ctx.strokeStyle=this._colors.cursor.css,this._strokeRectAtCell(s,l,_.getWidth(),1),this._ctx.restore()},u([f(5,o.IBufferService),f(6,o.IOptionsService),f(7,o.ICoreService),f(8,c.ICoreBrowserService)],r)}(v.BaseRenderLayer);i.CursorRenderLayer=n;var t=function(){function e(r,s){this._renderCallback=s,this.isCursorVisible=!0,r&&this._restartInterval()}return Object.defineProperty(e.prototype,"isPaused",{get:function(){return!(this._blinkStartTimeout||this._blinkInterval)},enumerable:!1,configurable:!0}),e.prototype.dispose=function(){this._blinkInterval&&(window.clearInterval(this._blinkInterval),this._blinkInterval=void 0),this._blinkStartTimeout&&(window.clearTimeout(this._blinkStartTimeout),this._blinkStartTimeout=void 0),this._animationFrame&&(window.cancelAnimationFrame(this._animationFrame),this._animationFrame=void 0)},e.prototype.restartBlinkAnimation=function(){var r=this;this.isPaused||(this._animationTimeRestarted=Date.now(),this.isCursorVisible=!0,this._animationFrame||(this._animationFrame=window.requestAnimationFrame(function(){r._renderCallback(),r._animationFrame=void 0})))},e.prototype._restartInterval=function(r){var s=this;r===void 0&&(r=d),this._blinkInterval&&(window.clearInterval(this._blinkInterval),this._blinkInterval=void 0),this._blinkStartTimeout=window.setTimeout(function(){if(s._animationTimeRestarted){var l=d-(Date.now()-s._animationTimeRestarted);if(s._animationTimeRestarted=void 0,l>0)return void s._restartInterval(l)}s.isCursorVisible=!1,s._animationFrame=window.requestAnimationFrame(function(){s._renderCallback(),s._animationFrame=void 0}),s._blinkInterval=window.setInterval(function(){if(s._animationTimeRestarted){var _=d-(Date.now()-s._animationTimeRestarted);return s._animationTimeRestarted=void 0,void s._restartInterval(_)}s.isCursorVisible=!s.isCursorVisible,s._animationFrame=window.requestAnimationFrame(function(){s._renderCallback(),s._animationFrame=void 0})},d)},r)},e.prototype.pause=function(){this.isCursorVisible=!0,this._blinkInterval&&(window.clearInterval(this._blinkInterval),this._blinkInterval=void 0),this._blinkStartTimeout&&(window.clearTimeout(this._blinkStartTimeout),this._blinkStartTimeout=void 0),this._animationFrame&&(window.cancelAnimationFrame(this._animationFrame),this._animationFrame=void 0)},e.prototype.resume=function(){this.pause(),this._animationTimeRestarted=void 0,this._restartInterval(),this.restartBlinkAnimation()},e}()},8978:(D,i,g)=>{var a,h,u,f,v,b,o,c,d,n,t,e,r,s,l,_,p,w,S,y,m,M,E,W,A,L,B,I,F,N,G,J,V,Z,R,q,T,P,O,z,K,X,$,Q,he,Y,ie,ae,fe,ye,xt,At,Ot,Tt,Dt,Pt,It,Ht,Wt,Ft,jt,Ut,Re,xe,Ae,Oe,Te,De,Pe,Ie,He,We,Fe,je,Ue,qe,Ne,Ge,Ye,ze,Ke,Ve,Xe,Je,Ze,$e,Qe,et,tt,rt,it,nt,ot,st,at,ct,lt,ht,ft,ut,dt,_t,gt,bt,pt,vt,yt,mt,Ct,St,wt,kt,qt,Nt,Gt,Yt,zt,Kt,Vt,Xt,Jt,Zt,$t,Qt,er,tr,rr,ir;Object.defineProperty(i,"__esModule",{value:!0}),i.tryDrawCustomChar=i.boxDrawingDefinitions=i.blockElementDefinitions=void 0;var lr=g(1752);i.blockElementDefinitions={"\u2580":[{x:0,y:0,w:8,h:4}],"\u2581":[{x:0,y:7,w:8,h:1}],"\u2582":[{x:0,y:6,w:8,h:2}],"\u2583":[{x:0,y:5,w:8,h:3}],"\u2584":[{x:0,y:4,w:8,h:4}],"\u2585":[{x:0,y:3,w:8,h:5}],"\u2586":[{x:0,y:2,w:8,h:6}],"\u2587":[{x:0,y:1,w:8,h:7}],"\u2588":[{x:0,y:0,w:8,h:8}],"\u2589":[{x:0,y:0,w:7,h:8}],"\u258A":[{x:0,y:0,w:6,h:8}],"\u258B":[{x:0,y:0,w:5,h:8}],"\u258C":[{x:0,y:0,w:4,h:8}],"\u258D":[{x:0,y:0,w:3,h:8}],"\u258E":[{x:0,y:0,w:2,h:8}],"\u258F":[{x:0,y:0,w:1,h:8}],"\u2590":[{x:4,y:0,w:4,h:8}],"\u2594":[{x:0,y:0,w:9,h:1}],"\u2595":[{x:7,y:0,w:1,h:8}],"\u2596":[{x:0,y:4,w:4,h:4}],"\u2597":[{x:4,y:4,w:4,h:4}],"\u2598":[{x:0,y:0,w:4,h:4}],"\u2599":[{x:0,y:0,w:4,h:8},{x:0,y:4,w:8,h:4}],"\u259A":[{x:0,y:0,w:4,h:4},{x:4,y:4,w:4,h:4}],"\u259B":[{x:0,y:0,w:4,h:8},{x:0,y:0,w:4,h:8}],"\u259C":[{x:0,y:0,w:8,h:4},{x:4,y:0,w:4,h:8}],"\u259D":[{x:4,y:0,w:4,h:4}],"\u259E":[{x:4,y:0,w:4,h:4},{x:0,y:4,w:4,h:4}],"\u259F":[{x:4,y:0,w:4,h:8},{x:0,y:4,w:8,h:4}],"\u{1FB70}":[{x:1,y:0,w:1,h:8}],"\u{1FB71}":[{x:2,y:0,w:1,h:8}],"\u{1FB72}":[{x:3,y:0,w:1,h:8}],"\u{1FB73}":[{x:4,y:0,w:1,h:8}],"\u{1FB74}":[{x:5,y:0,w:1,h:8}],"\u{1FB75}":[{x:6,y:0,w:1,h:8}],"\u{1FB76}":[{x:0,y:1,w:8,h:1}],"\u{1FB77}":[{x:0,y:2,w:8,h:1}],"\u{1FB78}":[{x:0,y:3,w:8,h:1}],"\u{1FB79}":[{x:0,y:4,w:8,h:1}],"\u{1FB7A}":[{x:0,y:5,w:8,h:1}],"\u{1FB7B}":[{x:0,y:6,w:8,h:1}],"\u{1FB7C}":[{x:0,y:0,w:1,h:8},{x:0,y:7,w:8,h:1}],"\u{1FB7D}":[{x:0,y:0,w:1,h:8},{x:0,y:0,w:8,h:1}],"\u{1FB7E}":[{x:7,y:0,w:1,h:8},{x:0,y:0,w:8,h:1}],"\u{1FB7F}":[{x:7,y:0,w:1,h:8},{x:0,y:7,w:8,h:1}],"\u{1FB80}":[{x:0,y:0,w:8,h:1},{x:0,y:7,w:8,h:1}],"\u{1FB81}":[{x:0,y:0,w:8,h:1},{x:0,y:2,w:8,h:1},{x:0,y:4,w:8,h:1},{x:0,y:7,w:8,h:1}],"\u{1FB82}":[{x:0,y:0,w:8,h:2}],"\u{1FB83}":[{x:0,y:0,w:8,h:3}],"\u{1FB84}":[{x:0,y:0,w:8,h:5}],"\u{1FB85}":[{x:0,y:0,w:8,h:6}],"\u{1FB86}":[{x:0,y:0,w:8,h:7}],"\u{1FB87}":[{x:6,y:0,w:2,h:8}],"\u{1FB88}":[{x:5,y:0,w:3,h:8}],"\u{1FB89}":[{x:3,y:0,w:5,h:8}],"\u{1FB8A}":[{x:2,y:0,w:6,h:8}],"\u{1FB8B}":[{x:1,y:0,w:7,h:8}],"\u{1FB95}":[{x:0,y:0,w:2,h:2},{x:4,y:0,w:2,h:2},{x:2,y:2,w:2,h:2},{x:6,y:2,w:2,h:2},{x:0,y:4,w:2,h:2},{x:4,y:4,w:2,h:2},{x:2,y:6,w:2,h:2},{x:6,y:6,w:2,h:2}],"\u{1FB96}":[{x:2,y:0,w:2,h:2},{x:6,y:0,w:2,h:2},{x:0,y:2,w:2,h:2},{x:4,y:2,w:2,h:2},{x:2,y:4,w:2,h:2},{x:6,y:4,w:2,h:2},{x:0,y:6,w:2,h:2},{x:4,y:6,w:2,h:2}],"\u{1FB97}":[{x:0,y:2,w:8,h:2},{x:0,y:6,w:8,h:2}]};var mr={"\u2591":[[1,0,0,0],[0,0,0,0],[0,0,1,0],[0,0,0,0]],"\u2592":[[1,0],[0,0],[0,1],[0,0]],"\u2593":[[0,1],[1,1],[1,0],[1,1]]};i.boxDrawingDefinitions={"\u2500":(a={},a[1]="M0,.5 L1,.5",a),"\u2501":(h={},h[3]="M0,.5 L1,.5",h),"\u2502":(u={},u[1]="M.5,0 L.5,1",u),"\u2503":(f={},f[3]="M.5,0 L.5,1",f),"\u250C":(v={},v[1]="M0.5,1 L.5,.5 L1,.5",v),"\u250F":(b={},b[3]="M0.5,1 L.5,.5 L1,.5",b),"\u2510":(o={},o[1]="M0,.5 L.5,.5 L.5,1",o),"\u2513":(c={},c[3]="M0,.5 L.5,.5 L.5,1",c),"\u2514":(d={},d[1]="M.5,0 L.5,.5 L1,.5",d),"\u2517":(n={},n[3]="M.5,0 L.5,.5 L1,.5",n),"\u2518":(t={},t[1]="M.5,0 L.5,.5 L0,.5",t),"\u251B":(e={},e[3]="M.5,0 L.5,.5 L0,.5",e),"\u251C":(r={},r[1]="M.5,0 L.5,1 M.5,.5 L1,.5",r),"\u2523":(s={},s[3]="M.5,0 L.5,1 M.5,.5 L1,.5",s),"\u2524":(l={},l[1]="M.5,0 L.5,1 M.5,.5 L0,.5",l),"\u252B":(_={},_[3]="M.5,0 L.5,1 M.5,.5 L0,.5",_),"\u252C":(p={},p[1]="M0,.5 L1,.5 M.5,.5 L.5,1",p),"\u2533":(w={},w[3]="M0,.5 L1,.5 M.5,.5 L.5,1",w),"\u2534":(S={},S[1]="M0,.5 L1,.5 M.5,.5 L.5,0",S),"\u253B":(y={},y[3]="M0,.5 L1,.5 M.5,.5 L.5,0",y),"\u253C":(m={},m[1]="M0,.5 L1,.5 M.5,0 L.5,1",m),"\u254B":(M={},M[3]="M0,.5 L1,.5 M.5,0 L.5,1",M),"\u2574":(E={},E[1]="M.5,.5 L0,.5",E),"\u2578":(W={},W[3]="M.5,.5 L0,.5",W),"\u2575":(A={},A[1]="M.5,.5 L.5,0",A),"\u2579":(L={},L[3]="M.5,.5 L.5,0",L),"\u2576":(B={},B[1]="M.5,.5 L1,.5",B),"\u257A":(I={},I[3]="M.5,.5 L1,.5",I),"\u2577":(F={},F[1]="M.5,.5 L.5,1",F),"\u257B":(N={},N[3]="M.5,.5 L.5,1",N),"\u2550":(G={},G[1]=function(U,j){return"M0,"+(.5-j)+" L1,"+(.5-j)+" M0,"+(.5+j)+" L1,"+(.5+j)},G),"\u2551":(J={},J[1]=function(U,j){return"M"+(.5-U)+",0 L"+(.5-U)+",1 M"+(.5+U)+",0 L"+(.5+U)+",1"},J),"\u2552":(V={},V[1]=function(U,j){return"M.5,1 L.5,"+(.5-j)+" L1,"+(.5-j)+" M.5,"+(.5+j)+" L1,"+(.5+j)},V),"\u2553":(Z={},Z[1]=function(U,j){return"M"+(.5-U)+",1 L"+(.5-U)+",.5 L1,.5 M"+(.5+U)+",.5 L"+(.5+U)+",1"},Z),"\u2554":(R={},R[1]=function(U,j){return"M1,"+(.5-j)+" L"+(.5-U)+","+(.5-j)+" L"+(.5-U)+",1 M1,"+(.5+j)+" L"+(.5+U)+","+(.5+j)+" L"+(.5+U)+",1"},R),"\u2555":(q={},q[1]=function(U,j){return"M0,"+(.5-j)+" L.5,"+(.5-j)+" L.5,1 M0,"+(.5+j)+" L.5,"+(.5+j)},q),"\u2556":(T={},T[1]=function(U,j){return"M"+(.5+U)+",1 L"+(.5+U)+",.5 L0,.5 M"+(.5-U)+",.5 L"+(.5-U)+",1"},T),"\u2557":(P={},P[1]=function(U,j){return"M0,"+(.5+j)+" L"+(.5-U)+","+(.5+j)+" L"+(.5-U)+",1 M0,"+(.5-j)+" L"+(.5+U)+","+(.5-j)+" L"+(.5+U)+",1"},P),"\u2558":(O={},O[1]=function(U,j){return"M.5,0 L.5,"+(.5+j)+" L1,"+(.5+j)+" M.5,"+(.5-j)+" L1,"+(.5-j)},O),"\u2559":(z={},z[1]=function(U,j){return"M1,.5 L"+(.5-U)+",.5 L"+(.5-U)+",0 M"+(.5+U)+",.5 L"+(.5+U)+",0"},z),"\u255A":(K={},K[1]=function(U,j){return"M1,"+(.5-j)+" L"+(.5+U)+","+(.5-j)+" L"+(.5+U)+",0 M1,"+(.5+j)+" L"+(.5-U)+","+(.5+j)+" L"+(.5-U)+",0"},K),"\u255B":(X={},X[1]=function(U,j){return"M0,"+(.5+j)+" L.5,"+(.5+j)+" L.5,0 M0,"+(.5-j)+" L.5,"+(.5-j)},X),"\u255C":($={},$[1]=function(U,j){return"M0,.5 L"+(.5+U)+",.5 L"+(.5+U)+",0 M"+(.5-U)+",.5 L"+(.5-U)+",0"},$),"\u255D":(Q={},Q[1]=function(U,j){return"M0,"+(.5-j)+" L"+(.5-U)+","+(.5-j)+" L"+(.5-U)+",0 M0,"+(.5+j)+" L"+(.5+U)+","+(.5+j)+" L"+(.5+U)+",0"},Q),"\u255E":(he={},he[1]=function(U,j){return"M.5,0 L.5,1 M.5,"+(.5-j)+" L1,"+(.5-j)+" M.5,"+(.5+j)+" L1,"+(.5+j)},he),"\u255F":(Y={},Y[1]=function(U,j){return"M"+(.5-U)+",0 L"+(.5-U)+",1 M"+(.5+U)+",0 L"+(.5+U)+",1 M"+(.5+U)+",.5 L1,.5"},Y),"\u2560":(ie={},ie[1]=function(U,j){return"M"+(.5-U)+",0 L"+(.5-U)+",1 M1,"+(.5+j)+" L"+(.5+U)+","+(.5+j)+" L"+(.5+U)+",1 M1,"+(.5-j)+" L"+(.5+U)+","+(.5-j)+" L"+(.5+U)+",0"},ie),"\u2561":(ae={},ae[1]=function(U,j){return"M.5,0 L.5,1 M0,"+(.5-j)+" L.5,"+(.5-j)+" M0,"+(.5+j)+" L.5,"+(.5+j)},ae),"\u2562":(fe={},fe[1]=function(U,j){return"M0,.5 L"+(.5-U)+",.5 M"+(.5-U)+",0 L"+(.5-U)+",1 M"+(.5+U)+",0 L"+(.5+U)+",1"},fe),"\u2563":(ye={},ye[1]=function(U,j){return"M"+(.5+U)+",0 L"+(.5+U)+",1 M0,"+(.5+j)+" L"+(.5-U)+","+(.5+j)+" L"+(.5-U)+",1 M0,"+(.5-j)+" L"+(.5-U)+","+(.5-j)+" L"+(.5-U)+",0"},ye),"\u2564":(xt={},xt[1]=function(U,j){return"M0,"+(.5-j)+" L1,"+(.5-j)+" M0,"+(.5+j)+" L1,"+(.5+j)+" M.5,"+(.5+j)+" L.5,1"},xt),"\u2565":(At={},At[1]=function(U,j){return"M0,.5 L1,.5 M"+(.5-U)+",.5 L"+(.5-U)+",1 M"+(.5+U)+",.5 L"+(.5+U)+",1"},At),"\u2566":(Ot={},Ot[1]=function(U,j){return"M0,"+(.5-j)+" L1,"+(.5-j)+" M0,"+(.5+j)+" L"+(.5-U)+","+(.5+j)+" L"+(.5-U)+",1 M1,"+(.5+j)+" L"+(.5+U)+","+(.5+j)+" L"+(.5+U)+",1"},Ot),"\u2567":(Tt={},Tt[1]=function(U,j){return"M.5,0 L.5,"+(.5-j)+" M0,"+(.5-j)+" L1,"+(.5-j)+" M0,"+(.5+j)+" L1,"+(.5+j)},Tt),"\u2568":(Dt={},Dt[1]=function(U,j){return"M0,.5 L1,.5 M"+(.5-U)+",.5 L"+(.5-U)+",0 M"+(.5+U)+",.5 L"+(.5+U)+",0"},Dt),"\u2569":(Pt={},Pt[1]=function(U,j){return"M0,"+(.5+j)+" L1,"+(.5+j)+" M0,"+(.5-j)+" L"+(.5-U)+","+(.5-j)+" L"+(.5-U)+",0 M1,"+(.5-j)+" L"+(.5+U)+","+(.5-j)+" L"+(.5+U)+",0"},Pt),"\u256A":(It={},It[1]=function(U,j){return"M.5,0 L.5,1 M0,"+(.5-j)+" L1,"+(.5-j)+" M0,"+(.5+j)+" L1,"+(.5+j)},It),"\u256B":(Ht={},Ht[1]=function(U,j){return"M0,.5 L1,.5 M"+(.5-U)+",0 L"+(.5-U)+",1 M"+(.5+U)+",0 L"+(.5+U)+",1"},Ht),"\u256C":(Wt={},Wt[1]=function(U,j){return"M0,"+(.5+j)+" L"+(.5-U)+","+(.5+j)+" L"+(.5-U)+",1 M1,"+(.5+j)+" L"+(.5+U)+","+(.5+j)+" L"+(.5+U)+",1 M0,"+(.5-j)+" L"+(.5-U)+","+(.5-j)+" L"+(.5-U)+",0 M1,"+(.5-j)+" L"+(.5+U)+","+(.5-j)+" L"+(.5+U)+",0"},Wt),"\u2571":(Ft={},Ft[1]="M1,0 L0,1",Ft),"\u2572":(jt={},jt[1]="M0,0 L1,1",jt),"\u2573":(Ut={},Ut[1]="M1,0 L0,1 M0,0 L1,1",Ut),"\u257C":(Re={},Re[1]="M.5,.5 L0,.5",Re[3]="M.5,.5 L1,.5",Re),"\u257D":(xe={},xe[1]="M.5,.5 L.5,0",xe[3]="M.5,.5 L.5,1",xe),"\u257E":(Ae={},Ae[1]="M.5,.5 L1,.5",Ae[3]="M.5,.5 L0,.5",Ae),"\u257F":(Oe={},Oe[1]="M.5,.5 L.5,1",Oe[3]="M.5,.5 L.5,0",Oe),"\u250D":(Te={},Te[1]="M.5,.5 L.5,1",Te[3]="M.5,.5 L1,.5",Te),"\u250E":(De={},De[1]="M.5,.5 L1,.5",De[3]="M.5,.5 L.5,1",De),"\u2511":(Pe={},Pe[1]="M.5,.5 L.5,1",Pe[3]="M.5,.5 L0,.5",Pe),"\u2512":(Ie={},Ie[1]="M.5,.5 L0,.5",Ie[3]="M.5,.5 L.5,1",Ie),"\u2515":(He={},He[1]="M.5,.5 L.5,0",He[3]="M.5,.5 L1,.5",He),"\u2516":(We={},We[1]="M.5,.5 L1,.5",We[3]="M.5,.5 L.5,0",We),"\u2519":(Fe={},Fe[1]="M.5,.5 L.5,0",Fe[3]="M.5,.5 L0,.5",Fe),"\u251A":(je={},je[1]="M.5,.5 L0,.5",je[3]="M.5,.5 L.5,0",je),"\u251D":(Ue={},Ue[1]="M.5,0 L.5,1",Ue[3]="M.5,.5 L1,.5",Ue),"\u251E":(qe={},qe[1]="M0.5,1 L.5,.5 L1,.5",qe[3]="M.5,.5 L.5,0",qe),"\u251F":(Ne={},Ne[1]="M.5,0 L.5,.5 L1,.5",Ne[3]="M.5,.5 L.5,1",Ne),"\u2520":(Ge={},Ge[1]="M.5,.5 L1,.5",Ge[3]="M.5,0 L.5,1",Ge),"\u2521":(Ye={},Ye[1]="M.5,.5 L.5,1",Ye[3]="M.5,0 L.5,.5 L1,.5",Ye),"\u2522":(ze={},ze[1]="M.5,.5 L.5,0",ze[3]="M0.5,1 L.5,.5 L1,.5",ze),"\u2525":(Ke={},Ke[1]="M.5,0 L.5,1",Ke[3]="M.5,.5 L0,.5",Ke),"\u2526":(Ve={},Ve[1]="M0,.5 L.5,.5 L.5,1",Ve[3]="M.5,.5 L.5,0",Ve),"\u2527":(Xe={},Xe[1]="M.5,0 L.5,.5 L0,.5",Xe[3]="M.5,.5 L.5,1",Xe),"\u2528":(Je={},Je[1]="M.5,.5 L0,.5",Je[3]="M.5,0 L.5,1",Je),"\u2529":(Ze={},Ze[1]="M.5,.5 L.5,1",Ze[3]="M.5,0 L.5,.5 L0,.5",Ze),"\u252A":($e={},$e[1]="M.5,.5 L.5,0",$e[3]="M0,.5 L.5,.5 L.5,1",$e),"\u252D":(Qe={},Qe[1]="M0.5,1 L.5,.5 L1,.5",Qe[3]="M.5,.5 L0,.5",Qe),"\u252E":(et={},et[1]="M0,.5 L.5,.5 L.5,1",et[3]="M.5,.5 L1,.5",et),"\u252F":(tt={},tt[1]="M.5,.5 L.5,1",tt[3]="M0,.5 L1,.5",tt),"\u2530":(rt={},rt[1]="M0,.5 L1,.5",rt[3]="M.5,.5 L.5,1",rt),"\u2531":(it={},it[1]="M.5,.5 L1,.5",it[3]="M0,.5 L.5,.5 L.5,1",it),"\u2532":(nt={},nt[1]="M.5,.5 L0,.5",nt[3]="M0.5,1 L.5,.5 L1,.5",nt),"\u2535":(ot={},ot[1]="M.5,0 L.5,.5 L1,.5",ot[3]="M.5,.5 L0,.5",ot),"\u2536":(st={},st[1]="M.5,0 L.5,.5 L0,.5",st[3]="M.5,.5 L1,.5",st),"\u2537":(at={},at[1]="M.5,.5 L.5,0",at[3]="M0,.5 L1,.5",at),"\u2538":(ct={},ct[1]="M0,.5 L1,.5",ct[3]="M.5,.5 L.5,0",ct),"\u2539":(lt={},lt[1]="M.5,.5 L1,.5",lt[3]="M.5,0 L.5,.5 L0,.5",lt),"\u253A":(ht={},ht[1]="M.5,.5 L0,.5",ht[3]="M.5,0 L.5,.5 L1,.5",ht),"\u253D":(ft={},ft[1]="M.5,0 L.5,1 M.5,.5 L1,.5",ft[3]="M.5,.5 L0,.5",ft),"\u253E":(ut={},ut[1]="M.5,0 L.5,1 M.5,.5 L0,.5",ut[3]="M.5,.5 L1,.5",ut),"\u253F":(dt={},dt[1]="M.5,0 L.5,1",dt[3]="M0,.5 L1,.5",dt),"\u2540":(_t={},_t[1]="M0,.5 L1,.5 M.5,.5 L.5,1",_t[3]="M.5,.5 L.5,0",_t),"\u2541":(gt={},gt[1]="M.5,.5 L.5,0 M0,.5 L1,.5",gt[3]="M.5,.5 L.5,1",gt),"\u2542":(bt={},bt[1]="M0,.5 L1,.5",bt[3]="M.5,0 L.5,1",bt),"\u2543":(pt={},pt[1]="M0.5,1 L.5,.5 L1,.5",pt[3]="M.5,0 L.5,.5 L0,.5",pt),"\u2544":(vt={},vt[1]="M0,.5 L.5,.5 L.5,1",vt[3]="M.5,0 L.5,.5 L1,.5",vt),"\u2545":(yt={},yt[1]="M.5,0 L.5,.5 L1,.5",yt[3]="M0,.5 L.5,.5 L.5,1",yt),"\u2546":(mt={},mt[1]="M.5,0 L.5,.5 L0,.5",mt[3]="M0.5,1 L.5,.5 L1,.5",mt),"\u2547":(Ct={},Ct[1]="M.5,.5 L.5,1",Ct[3]="M.5,.5 L.5,0 M0,.5 L1,.5",Ct),"\u2548":(St={},St[1]="M.5,.5 L.5,0",St[3]="M0,.5 L1,.5 M.5,.5 L.5,1",St),"\u2549":(wt={},wt[1]="M.5,.5 L1,.5",wt[3]="M.5,0 L.5,1 M.5,.5 L0,.5",wt),"\u254A":(kt={},kt[1]="M.5,.5 L0,.5",kt[3]="M.5,0 L.5,1 M.5,.5 L1,.5",kt),"\u254C":(qt={},qt[1]="M.1,.5 L.4,.5 M.6,.5 L.9,.5",qt),"\u254D":(Nt={},Nt[3]="M.1,.5 L.4,.5 M.6,.5 L.9,.5",Nt),"\u2504":(Gt={},Gt[1]="M.0667,.5 L.2667,.5 M.4,.5 L.6,.5 M.7333,.5 L.9333,.5",Gt),"\u2505":(Yt={},Yt[3]="M.0667,.5 L.2667,.5 M.4,.5 L.6,.5 M.7333,.5 L.9333,.5",Yt),"\u2508":(zt={},zt[1]="M.05,.5 L.2,.5 M.3,.5 L.45,.5 M.55,.5 L.7,.5 M.8,.5 L.95,.5",zt),"\u2509":(Kt={},Kt[3]="M.05,.5 L.2,.5 M.3,.5 L.45,.5 M.55,.5 L.7,.5 M.8,.5 L.95,.5",Kt),"\u254E":(Vt={},Vt[1]="M.5,.1 L.5,.4 M.5,.6 L.5,.9",Vt),"\u254F":(Xt={},Xt[3]="M.5,.1 L.5,.4 M.5,.6 L.5,.9",Xt),"\u2506":(Jt={},Jt[1]="M.5,.0667 L.5,.2667 M.5,.4 L.5,.6 M.5,.7333 L.5,.9333",Jt),"\u2507":(Zt={},Zt[3]="M.5,.0667 L.5,.2667 M.5,.4 L.5,.6 M.5,.7333 L.5,.9333",Zt),"\u250A":($t={},$t[1]="M.5,.05 L.5,.2 M.5,.3 L.5,.45 L.5,.55 M.5,.7 L.5,.95",$t),"\u250B":(Qt={},Qt[3]="M.5,.05 L.5,.2 M.5,.3 L.5,.45 L.5,.55 M.5,.7 L.5,.95",Qt),"\u256D":(er={},er[1]="C.5,1,.5,.5,1,.5",er),"\u256E":(tr={},tr[1]="C.5,1,.5,.5,0,.5",tr),"\u256F":(rr={},rr[1]="C.5,0,.5,.5,0,.5",rr),"\u2570":(ir={},ir[1]="C.5,0,.5,.5,1,.5",ir)},i.tryDrawCustomChar=function(U,j,ue,Se,we,te){var de=i.blockElementDefinitions[j];if(de)return function(ne,ge,Le,Ee,me,Ce){for(var ce=0;ce<ge.length;ce++){var oe=ge[ce],ee=me/8,be=Ce/8;ne.fillRect(Le+oe.x*ee,Ee+oe.y*be,oe.w*ee,oe.h*be)}}(U,de,ue,Se,we,te),!0;var _e=mr[j];if(_e)return function(ne,ge,Le,Ee,me,Ce){var ce,oe=hr.get(ge);oe||(oe=new Map,hr.set(ge,oe));var ee=ne.fillStyle;if(typeof ee!="string")throw new Error('Unexpected fillStyle type "'+ee+'"');var be=oe.get(ee);if(!be){var pe=ge[0].length,Lt=ge.length,Et=document.createElement("canvas");Et.width=pe,Et.height=Lt;var wr=(0,lr.throwIfFalsy)(Et.getContext("2d")),Me=new ImageData(pe,Lt),nr=void 0,Mt=void 0,Ar=void 0,Or=void 0;if(ee.startsWith("#"))nr=parseInt(ee.substr(1,2),16),Mt=parseInt(ee.substr(3,2),16),Ar=parseInt(ee.substr(5,2),16),Or=ee.length>7&&parseInt(ee.substr(7,2),16)||1;else{if(!ee.startsWith("rgba"))throw new Error('Unexpected fillStyle color format "'+ee+'" when drawing pattern glyph');nr=(ce=ee.substring(5,ee.length-1).split(",").map(function(ui){return parseFloat(ui)}))[0],Mt=ce[1],Ar=ce[2],Or=ce[3]}for(var Bt=0;Bt<Lt;Bt++)for(var Rt=0;Rt<pe;Rt++)Me.data[4*(Bt*pe+Rt)]=nr,Me.data[4*(Bt*pe+Rt)+1]=Mt,Me.data[4*(Bt*pe+Rt)+2]=Ar,Me.data[4*(Bt*pe+Rt)+3]=ge[Bt][Rt]*(255*Or);wr.putImageData(Me,0,0),be=(0,lr.throwIfFalsy)(ne.createPattern(Et,null)),oe.set(ee,be)}ne.fillStyle=be,ne.fillRect(Le,Ee,me,Ce)}(U,_e,ue,Se,we,te),!0;var ke=i.boxDrawingDefinitions[j];return!!ke&&(function(ne,ge,Le,Ee,me,Ce){ne.strokeStyle=ne.fillStyle;for(var ce=0,oe=Object.entries(ge);ce<oe.length;ce++){var ee=oe[ce],be=ee[0],pe=ee[1];ne.beginPath(),ne.lineWidth=window.devicePixelRatio*Number.parseInt(be);for(var Lt=0,Et=(typeof pe=="function"?pe(.15,.15/Ce*me):pe).split(" ");Lt<Et.length;Lt++){var wr=Et[Lt],Me=wr[0],nr=Cr[Me];if(nr){var Mt=wr.substring(1).split(",");Mt[0]&&Mt[1]&&nr(ne,Sr(Mt,me,Ce,Le,Ee))}else console.error('Could not find drawing instructions for "'+Me+'"')}ne.stroke(),ne.closePath()}}(U,ke,ue,Se,we,te),!0)};var hr=new Map;function fr(U,j,ue){return ue===void 0&&(ue=0),Math.max(Math.min(U,j),ue)}var Cr={C:function(U,j){return U.bezierCurveTo(j[0],j[1],j[2],j[3],j[4],j[5])},L:function(U,j){return U.lineTo(j[0],j[1])},M:function(U,j){return U.moveTo(j[0],j[1])}};function Sr(U,j,ue,Se,we){var te=U.map(function(ke){return parseFloat(ke)||parseInt(ke)});if(te.length<2)throw new Error("Too few arguments for instruction");for(var de=0;de<te.length;de+=2)te[de]*=j,te[de]!==0&&(te[de]=fr(Math.round(te[de]+.5)-.5,j,0)),te[de]+=Se;for(var _e=1;_e<te.length;_e+=2)te[_e]*=ue,te[_e]!==0&&(te[_e]=fr(Math.round(te[_e]+.5)-.5,ue,0)),te[_e]+=we;return te}},3700:(D,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.GridCache=void 0;var g=function(){function a(){this.cache=[]}return a.prototype.resize=function(h,u){for(var f=0;f<h;f++){this.cache.length<=f&&this.cache.push([]);for(var v=this.cache[f].length;v<u;v++)this.cache[f].push(void 0);this.cache[f].length=u}this.cache.length=h},a.prototype.clear=function(){for(var h=0;h<this.cache.length;h++)for(var u=0;u<this.cache[h].length;u++)this.cache[h][u]=void 0},a}();i.GridCache=g},5098:function(D,i,g){var a,h=this&&this.__extends||(a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])},a(n,t)},function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=n}a(n,t),n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}),u=this&&this.__decorate||function(n,t,e,r){var s,l=arguments.length,_=l<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")_=Reflect.decorate(n,t,e,r);else for(var p=n.length-1;p>=0;p--)(s=n[p])&&(_=(l<3?s(_):l>3?s(t,e,_):s(t,e))||_);return l>3&&_&&Object.defineProperty(t,e,_),_},f=this&&this.__param||function(n,t){return function(e,r){t(e,r,n)}};Object.defineProperty(i,"__esModule",{value:!0}),i.LinkRenderLayer=void 0;var v=g(1546),b=g(8803),o=g(2040),c=g(2585),d=function(n){function t(e,r,s,l,_,p,w,S){var y=n.call(this,e,"link",r,!0,s,l,w,S)||this;return _.onShowLinkUnderline(function(m){return y._onShowLinkUnderline(m)}),_.onHideLinkUnderline(function(m){return y._onHideLinkUnderline(m)}),p.onShowLinkUnderline(function(m){return y._onShowLinkUnderline(m)}),p.onHideLinkUnderline(function(m){return y._onHideLinkUnderline(m)}),y}return h(t,n),t.prototype.resize=function(e){n.prototype.resize.call(this,e),this._state=void 0},t.prototype.reset=function(){this._clearCurrentLink()},t.prototype._clearCurrentLink=function(){if(this._state){this._clearCells(this._state.x1,this._state.y1,this._state.cols-this._state.x1,1);var e=this._state.y2-this._state.y1-1;e>0&&this._clearCells(0,this._state.y1+1,this._state.cols,e),this._clearCells(0,this._state.y2,this._state.x2,1),this._state=void 0}},t.prototype._onShowLinkUnderline=function(e){if(e.fg===b.INVERTED_DEFAULT_COLOR?this._ctx.fillStyle=this._colors.background.css:e.fg&&(0,o.is256Color)(e.fg)?this._ctx.fillStyle=this._colors.ansi[e.fg].css:this._ctx.fillStyle=this._colors.foreground.css,e.y1===e.y2)this._fillBottomLineAtCells(e.x1,e.y1,e.x2-e.x1);else{this._fillBottomLineAtCells(e.x1,e.y1,e.cols-e.x1);for(var r=e.y1+1;r<e.y2;r++)this._fillBottomLineAtCells(0,r,e.cols);this._fillBottomLineAtCells(0,e.y2,e.x2)}this._state=e},t.prototype._onHideLinkUnderline=function(e){this._clearCurrentLink()},u([f(6,c.IBufferService),f(7,c.IOptionsService)],t)}(v.BaseRenderLayer);i.LinkRenderLayer=d},3525:function(D,i,g){var a,h=this&&this.__extends||(a=function(_,p){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(w,S){w.__proto__=S}||function(w,S){for(var y in S)Object.prototype.hasOwnProperty.call(S,y)&&(w[y]=S[y])},a(_,p)},function(_,p){if(typeof p!="function"&&p!==null)throw new TypeError("Class extends value "+String(p)+" is not a constructor or null");function w(){this.constructor=_}a(_,p),_.prototype=p===null?Object.create(p):(w.prototype=p.prototype,new w)}),u=this&&this.__decorate||function(_,p,w,S){var y,m=arguments.length,M=m<3?p:S===null?S=Object.getOwnPropertyDescriptor(p,w):S;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")M=Reflect.decorate(_,p,w,S);else for(var E=_.length-1;E>=0;E--)(y=_[E])&&(M=(m<3?y(M):m>3?y(p,w,M):y(p,w))||M);return m>3&&M&&Object.defineProperty(p,w,M),M},f=this&&this.__param||function(_,p){return function(w,S){p(w,S,_)}};Object.defineProperty(i,"__esModule",{value:!0}),i.Renderer=void 0;var v=g(9596),b=g(4149),o=g(2512),c=g(5098),d=g(844),n=g(4725),t=g(2585),e=g(1420),r=g(8460),s=1,l=function(_){function p(w,S,y,m,M,E,W,A){var L=_.call(this)||this;L._colors=w,L._screenElement=S,L._bufferService=E,L._charSizeService=W,L._optionsService=A,L._id=s++,L._onRequestRedraw=new r.EventEmitter;var B=L._optionsService.rawOptions.allowTransparency;return L._renderLayers=[M.createInstance(v.TextRenderLayer,L._screenElement,0,L._colors,B,L._id),M.createInstance(b.SelectionRenderLayer,L._screenElement,1,L._colors,L._id),M.createInstance(c.LinkRenderLayer,L._screenElement,2,L._colors,L._id,y,m),M.createInstance(o.CursorRenderLayer,L._screenElement,3,L._colors,L._id,L._onRequestRedraw)],L.dimensions={scaledCharWidth:0,scaledCharHeight:0,scaledCellWidth:0,scaledCellHeight:0,scaledCharLeft:0,scaledCharTop:0,scaledCanvasWidth:0,scaledCanvasHeight:0,canvasWidth:0,canvasHeight:0,actualCellWidth:0,actualCellHeight:0},L._devicePixelRatio=window.devicePixelRatio,L._updateDimensions(),L.onOptionsChanged(),L}return h(p,_),Object.defineProperty(p.prototype,"onRequestRedraw",{get:function(){return this._onRequestRedraw.event},enumerable:!1,configurable:!0}),p.prototype.dispose=function(){for(var w=0,S=this._renderLayers;w<S.length;w++)S[w].dispose();_.prototype.dispose.call(this),(0,e.removeTerminalFromCache)(this._id)},p.prototype.onDevicePixelRatioChange=function(){this._devicePixelRatio!==window.devicePixelRatio&&(this._devicePixelRatio=window.devicePixelRatio,this.onResize(this._bufferService.cols,this._bufferService.rows))},p.prototype.setColors=function(w){this._colors=w;for(var S=0,y=this._renderLayers;S<y.length;S++){var m=y[S];m.setColors(this._colors),m.reset()}},p.prototype.onResize=function(w,S){this._updateDimensions();for(var y=0,m=this._renderLayers;y<m.length;y++)m[y].resize(this.dimensions);this._screenElement.style.width=this.dimensions.canvasWidth+"px",this._screenElement.style.height=this.dimensions.canvasHeight+"px"},p.prototype.onCharSizeChanged=function(){this.onResize(this._bufferService.cols,this._bufferService.rows)},p.prototype.onBlur=function(){this._runOperation(function(w){return w.onBlur()})},p.prototype.onFocus=function(){this._runOperation(function(w){return w.onFocus()})},p.prototype.onSelectionChanged=function(w,S,y){y===void 0&&(y=!1),this._runOperation(function(m){return m.onSelectionChanged(w,S,y)})},p.prototype.onCursorMove=function(){this._runOperation(function(w){return w.onCursorMove()})},p.prototype.onOptionsChanged=function(){this._runOperation(function(w){return w.onOptionsChanged()})},p.prototype.clear=function(){this._runOperation(function(w){return w.reset()})},p.prototype._runOperation=function(w){for(var S=0,y=this._renderLayers;S<y.length;S++)w(y[S])},p.prototype.renderRows=function(w,S){for(var y=0,m=this._renderLayers;y<m.length;y++)m[y].onGridChanged(w,S)},p.prototype.clearTextureAtlas=function(){for(var w=0,S=this._renderLayers;w<S.length;w++)S[w].clearTextureAtlas()},p.prototype._updateDimensions=function(){this._charSizeService.hasValidSize&&(this.dimensions.scaledCharWidth=Math.floor(this._charSizeService.width*window.devicePixelRatio),this.dimensions.scaledCharHeight=Math.ceil(this._charSizeService.height*window.devicePixelRatio),this.dimensions.scaledCellHeight=Math.floor(this.dimensions.scaledCharHeight*this._optionsService.rawOptions.lineHeight),this.dimensions.scaledCharTop=this._optionsService.rawOptions.lineHeight===1?0:Math.round((this.dimensions.scaledCellHeight-this.dimensions.scaledCharHeight)/2),this.dimensions.scaledCellWidth=this.dimensions.scaledCharWidth+Math.round(this._optionsService.rawOptions.letterSpacing),this.dimensions.scaledCharLeft=Math.floor(this._optionsService.rawOptions.letterSpacing/2),this.dimensions.scaledCanvasHeight=this._bufferService.rows*this.dimensions.scaledCellHeight,this.dimensions.scaledCanvasWidth=this._bufferService.cols*this.dimensions.scaledCellWidth,this.dimensions.canvasHeight=Math.round(this.dimensions.scaledCanvasHeight/window.devicePixelRatio),this.dimensions.canvasWidth=Math.round(this.dimensions.scaledCanvasWidth/window.devicePixelRatio),this.dimensions.actualCellHeight=this.dimensions.canvasHeight/this._bufferService.rows,this.dimensions.actualCellWidth=this.dimensions.canvasWidth/this._bufferService.cols)},u([f(4,t.IInstantiationService),f(5,t.IBufferService),f(6,n.ICharSizeService),f(7,t.IOptionsService)],p)}(d.Disposable);i.Renderer=l},1752:(D,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.throwIfFalsy=void 0,i.throwIfFalsy=function(g){if(!g)throw new Error("value must not be falsy");return g}},4149:function(D,i,g){var a,h=this&&this.__extends||(a=function(c,d){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var e in t)Object.prototype.hasOwnProperty.call(t,e)&&(n[e]=t[e])},a(c,d)},function(c,d){if(typeof d!="function"&&d!==null)throw new TypeError("Class extends value "+String(d)+" is not a constructor or null");function n(){this.constructor=c}a(c,d),c.prototype=d===null?Object.create(d):(n.prototype=d.prototype,new n)}),u=this&&this.__decorate||function(c,d,n,t){var e,r=arguments.length,s=r<3?d:t===null?t=Object.getOwnPropertyDescriptor(d,n):t;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(c,d,n,t);else for(var l=c.length-1;l>=0;l--)(e=c[l])&&(s=(r<3?e(s):r>3?e(d,n,s):e(d,n))||s);return r>3&&s&&Object.defineProperty(d,n,s),s},f=this&&this.__param||function(c,d){return function(n,t){d(n,t,c)}};Object.defineProperty(i,"__esModule",{value:!0}),i.SelectionRenderLayer=void 0;var v=g(1546),b=g(2585),o=function(c){function d(n,t,e,r,s,l){var _=c.call(this,n,"selection",t,!0,e,r,s,l)||this;return _._clearState(),_}return h(d,c),d.prototype._clearState=function(){this._state={start:void 0,end:void 0,columnSelectMode:void 0,ydisp:void 0}},d.prototype.resize=function(n){c.prototype.resize.call(this,n),this._clearState()},d.prototype.reset=function(){this._state.start&&this._state.end&&(this._clearState(),this._clearAll())},d.prototype.onSelectionChanged=function(n,t,e){if(this._didStateChange(n,t,e,this._bufferService.buffer.ydisp))if(this._clearAll(),n&&t){var r=n[1]-this._bufferService.buffer.ydisp,s=t[1]-this._bufferService.buffer.ydisp,l=Math.max(r,0),_=Math.min(s,this._bufferService.rows-1);if(l>=this._bufferService.rows||_<0)this._state.ydisp=this._bufferService.buffer.ydisp;else{if(this._ctx.fillStyle=this._colors.selectionTransparent.css,e){var p=n[0],w=t[0]-p,S=_-l+1;this._fillCells(p,l,w,S)}else{p=r===l?n[0]:0;var y=l===s?t[0]:this._bufferService.cols;this._fillCells(p,l,y-p,1);var m=Math.max(_-l-1,0);if(this._fillCells(0,l+1,this._bufferService.cols,m),l!==_){var M=s===_?t[0]:this._bufferService.cols;this._fillCells(0,_,M,1)}}this._state.start=[n[0],n[1]],this._state.end=[t[0],t[1]],this._state.columnSelectMode=e,this._state.ydisp=this._bufferService.buffer.ydisp}}else this._clearState()},d.prototype._didStateChange=function(n,t,e,r){return!this._areCoordinatesEqual(n,this._state.start)||!this._areCoordinatesEqual(t,this._state.end)||e!==this._state.columnSelectMode||r!==this._state.ydisp},d.prototype._areCoordinatesEqual=function(n,t){return!(!n||!t)&&n[0]===t[0]&&n[1]===t[1]},u([f(4,b.IBufferService),f(5,b.IOptionsService)],d)}(v.BaseRenderLayer);i.SelectionRenderLayer=o},9596:function(D,i,g){var a,h=this&&this.__extends||(a=function(s,l){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(_,p){_.__proto__=p}||function(_,p){for(var w in p)Object.prototype.hasOwnProperty.call(p,w)&&(_[w]=p[w])},a(s,l)},function(s,l){if(typeof l!="function"&&l!==null)throw new TypeError("Class extends value "+String(l)+" is not a constructor or null");function _(){this.constructor=s}a(s,l),s.prototype=l===null?Object.create(l):(_.prototype=l.prototype,new _)}),u=this&&this.__decorate||function(s,l,_,p){var w,S=arguments.length,y=S<3?l:p===null?p=Object.getOwnPropertyDescriptor(l,_):p;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")y=Reflect.decorate(s,l,_,p);else for(var m=s.length-1;m>=0;m--)(w=s[m])&&(y=(S<3?w(y):S>3?w(l,_,y):w(l,_))||y);return S>3&&y&&Object.defineProperty(l,_,y),y},f=this&&this.__param||function(s,l){return function(_,p){l(_,p,s)}};Object.defineProperty(i,"__esModule",{value:!0}),i.TextRenderLayer=void 0;var v=g(3700),b=g(1546),o=g(3734),c=g(643),d=g(511),n=g(2585),t=g(4725),e=g(4269),r=function(s){function l(_,p,w,S,y,m,M,E){var W=s.call(this,_,"text",p,S,w,y,m,M)||this;return W._characterJoinerService=E,W._characterWidth=0,W._characterFont="",W._characterOverlapCache={},W._workCell=new d.CellData,W._state=new v.GridCache,W}return h(l,s),l.prototype.resize=function(_){s.prototype.resize.call(this,_);var p=this._getFont(!1,!1);this._characterWidth===_.scaledCharWidth&&this._characterFont===p||(this._characterWidth=_.scaledCharWidth,this._characterFont=p,this._characterOverlapCache={}),this._state.clear(),this._state.resize(this._bufferService.cols,this._bufferService.rows)},l.prototype.reset=function(){this._state.clear(),this._clearAll()},l.prototype._forEachCell=function(_,p,w){for(var S=_;S<=p;S++)for(var y=S+this._bufferService.buffer.ydisp,m=this._bufferService.buffer.lines.get(y),M=this._characterJoinerService.getJoinedCharacters(y),E=0;E<this._bufferService.cols;E++){m.loadCell(E,this._workCell);var W=this._workCell,A=!1,L=E;if(W.getWidth()!==0){if(M.length>0&&E===M[0][0]){A=!0;var B=M.shift();W=new e.JoinedCellData(this._workCell,m.translateToString(!0,B[0],B[1]),B[1]-B[0]),L=B[1]-1}!A&&this._isOverlapping(W)&&L<m.length-1&&m.getCodePoint(L+1)===c.NULL_CELL_CODE&&(W.content&=-12582913,W.content|=2<<22),w(W,E,S),E=L}}},l.prototype._drawBackground=function(_,p){var w=this,S=this._ctx,y=this._bufferService.cols,m=0,M=0,E=null;S.save(),this._forEachCell(_,p,function(W,A,L){var B=null;W.isInverse()?B=W.isFgDefault()?w._colors.foreground.css:W.isFgRGB()?"rgb("+o.AttributeData.toColorRGB(W.getFgColor()).join(",")+")":w._colors.ansi[W.getFgColor()].css:W.isBgRGB()?B="rgb("+o.AttributeData.toColorRGB(W.getBgColor()).join(",")+")":W.isBgPalette()&&(B=w._colors.ansi[W.getBgColor()].css),E===null&&(m=A,M=L),L!==M?(S.fillStyle=E||"",w._fillCells(m,M,y-m,1),m=A,M=L):E!==B&&(S.fillStyle=E||"",w._fillCells(m,M,A-m,1),m=A,M=L),E=B}),E!==null&&(S.fillStyle=E,this._fillCells(m,M,y-m,1)),S.restore()},l.prototype._drawForeground=function(_,p){var w=this;this._forEachCell(_,p,function(S,y,m){if(!S.isInvisible()&&(w._drawChars(S,y,m),S.isUnderline()||S.isStrikethrough())){if(w._ctx.save(),S.isInverse())if(S.isBgDefault())w._ctx.fillStyle=w._colors.background.css;else if(S.isBgRGB())w._ctx.fillStyle="rgb("+o.AttributeData.toColorRGB(S.getBgColor()).join(",")+")";else{var M=S.getBgColor();w._optionsService.rawOptions.drawBoldTextInBrightColors&&S.isBold()&&M<8&&(M+=8),w._ctx.fillStyle=w._colors.ansi[M].css}else if(S.isFgDefault())w._ctx.fillStyle=w._colors.foreground.css;else if(S.isFgRGB())w._ctx.fillStyle="rgb("+o.AttributeData.toColorRGB(S.getFgColor()).join(",")+")";else{var E=S.getFgColor();w._optionsService.rawOptions.drawBoldTextInBrightColors&&S.isBold()&&E<8&&(E+=8),w._ctx.fillStyle=w._colors.ansi[E].css}S.isStrikethrough()&&w._fillMiddleLineAtCells(y,m,S.getWidth()),S.isUnderline()&&w._fillBottomLineAtCells(y,m,S.getWidth()),w._ctx.restore()}})},l.prototype.onGridChanged=function(_,p){this._state.cache.length!==0&&(this._charAtlas&&this._charAtlas.beginFrame(),this._clearCells(0,_,this._bufferService.cols,p-_+1),this._drawBackground(_,p),this._drawForeground(_,p))},l.prototype.onOptionsChanged=function(){this._setTransparency(this._optionsService.rawOptions.allowTransparency)},l.prototype._isOverlapping=function(_){if(_.getWidth()!==1||_.getCode()<256)return!1;var p=_.getChars();if(this._characterOverlapCache.hasOwnProperty(p))return this._characterOverlapCache[p];this._ctx.save(),this._ctx.font=this._characterFont;var w=Math.floor(this._ctx.measureText(p).width)>this._characterWidth;return this._ctx.restore(),this._characterOverlapCache[p]=w,w},u([f(5,n.IBufferService),f(6,n.IOptionsService),f(7,t.ICharacterJoinerService)],l)}(b.BaseRenderLayer);i.TextRenderLayer=r},9616:(D,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.BaseCharAtlas=void 0;var g=function(){function a(){this._didWarmUp=!1}return a.prototype.dispose=function(){},a.prototype.warmUp=function(){this._didWarmUp||(this._doWarmUp(),this._didWarmUp=!0)},a.prototype._doWarmUp=function(){},a.prototype.clear=function(){},a.prototype.beginFrame=function(){},a}();i.BaseCharAtlas=g},1420:(D,i,g)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.removeTerminalFromCache=i.acquireCharAtlas=void 0;var a=g(2040),h=g(1906),u=[];i.acquireCharAtlas=function(f,v,b,o,c){for(var d=(0,a.generateConfig)(o,c,f,b),n=0;n<u.length;n++){var t=(e=u[n]).ownedBy.indexOf(v);if(t>=0){if((0,a.configEquals)(e.config,d))return e.atlas;e.ownedBy.length===1?(e.atlas.dispose(),u.splice(n,1)):e.ownedBy.splice(t,1);break}}for(n=0;n<u.length;n++){var e=u[n];if((0,a.configEquals)(e.config,d))return e.ownedBy.push(v),e.atlas}var r={atlas:new h.DynamicCharAtlas(document,d),config:d,ownedBy:[v]};return u.push(r),r.atlas},i.removeTerminalFromCache=function(f){for(var v=0;v<u.length;v++){var b=u[v].ownedBy.indexOf(f);if(b!==-1){u[v].ownedBy.length===1?(u[v].atlas.dispose(),u.splice(v,1)):u[v].ownedBy.splice(b,1);break}}}},2040:function(D,i,g){var a=this&&this.__spreadArray||function(u,f,v){if(v||arguments.length===2)for(var b,o=0,c=f.length;o<c;o++)!b&&o in f||(b||(b=Array.prototype.slice.call(f,0,o)),b[o]=f[o]);return u.concat(b||Array.prototype.slice.call(f))};Object.defineProperty(i,"__esModule",{value:!0}),i.is256Color=i.configEquals=i.generateConfig=void 0;var h=g(643);i.generateConfig=function(u,f,v,b){var o={foreground:b.foreground,background:b.background,cursor:void 0,cursorAccent:void 0,selection:void 0,ansi:a([],b.ansi,!0)};return{devicePixelRatio:window.devicePixelRatio,scaledCharWidth:u,scaledCharHeight:f,fontFamily:v.fontFamily,fontSize:v.fontSize,fontWeight:v.fontWeight,fontWeightBold:v.fontWeightBold,allowTransparency:v.allowTransparency,colors:o}},i.configEquals=function(u,f){for(var v=0;v<u.colors.ansi.length;v++)if(u.colors.ansi[v].rgba!==f.colors.ansi[v].rgba)return!1;return u.devicePixelRatio===f.devicePixelRatio&&u.fontFamily===f.fontFamily&&u.fontSize===f.fontSize&&u.fontWeight===f.fontWeight&&u.fontWeightBold===f.fontWeightBold&&u.allowTransparency===f.allowTransparency&&u.scaledCharWidth===f.scaledCharWidth&&u.scaledCharHeight===f.scaledCharHeight&&u.colors.foreground===f.colors.foreground&&u.colors.background===f.colors.background},i.is256Color=function(u){return u<h.DEFAULT_COLOR}},8803:(D,i,g)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.CHAR_ATLAS_CELL_SPACING=i.TEXT_BASELINE=i.DIM_OPACITY=i.INVERTED_DEFAULT_COLOR=void 0;var a=g(6114);i.INVERTED_DEFAULT_COLOR=257,i.DIM_OPACITY=.5,i.TEXT_BASELINE=a.isFirefox||a.isLegacyEdge?"bottom":"ideographic",i.CHAR_ATLAS_CELL_SPACING=1},1906:function(D,i,g){var a,h=this&&this.__extends||(a=function(p,w){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(S,y){S.__proto__=y}||function(S,y){for(var m in y)Object.prototype.hasOwnProperty.call(y,m)&&(S[m]=y[m])},a(p,w)},function(p,w){if(typeof w!="function"&&w!==null)throw new TypeError("Class extends value "+String(w)+" is not a constructor or null");function S(){this.constructor=p}a(p,w),p.prototype=w===null?Object.create(w):(S.prototype=w.prototype,new S)});Object.defineProperty(i,"__esModule",{value:!0}),i.NoneCharAtlas=i.DynamicCharAtlas=i.getGlyphCacheKey=void 0;var u=g(8803),f=g(9616),v=g(5680),b=g(7001),o=g(6114),c=g(1752),d=g(4774),n=1024,t=1024,e={css:"rgba(0, 0, 0, 0)",rgba:0};function r(p){return p.code<<21|p.bg<<12|p.fg<<3|(p.bold?0:4)+(p.dim?0:2)+(p.italic?0:1)}i.getGlyphCacheKey=r;var s=function(p){function w(S,y){var m=p.call(this)||this;m._config=y,m._drawToCacheCount=0,m._glyphsWaitingOnBitmap=[],m._bitmapCommitTimeout=null,m._bitmap=null,m._cacheCanvas=S.createElement("canvas"),m._cacheCanvas.width=n,m._cacheCanvas.height=t,m._cacheCtx=(0,c.throwIfFalsy)(m._cacheCanvas.getContext("2d",{alpha:!0}));var M=S.createElement("canvas");M.width=m._config.scaledCharWidth,M.height=m._config.scaledCharHeight,m._tmpCtx=(0,c.throwIfFalsy)(M.getContext("2d",{alpha:m._config.allowTransparency})),m._width=Math.floor(n/m._config.scaledCharWidth),m._height=Math.floor(t/m._config.scaledCharHeight);var E=m._width*m._height;return m._cacheMap=new b.LRUMap(E),m._cacheMap.prealloc(E),m}return h(w,p),w.prototype.dispose=function(){this._bitmapCommitTimeout!==null&&(window.clearTimeout(this._bitmapCommitTimeout),this._bitmapCommitTimeout=null)},w.prototype.beginFrame=function(){this._drawToCacheCount=0},w.prototype.clear=function(){if(this._cacheMap.size>0){var S=this._width*this._height;this._cacheMap=new b.LRUMap(S),this._cacheMap.prealloc(S)}this._cacheCtx.clearRect(0,0,n,t),this._tmpCtx.clearRect(0,0,this._config.scaledCharWidth,this._config.scaledCharHeight)},w.prototype.draw=function(S,y,m,M){if(y.code===32)return!0;if(!this._canCache(y))return!1;var E=r(y),W=this._cacheMap.get(E);if(W!=null)return this._drawFromCache(S,W,m,M),!0;if(this._drawToCacheCount<100){var A;A=this._cacheMap.size<this._cacheMap.capacity?this._cacheMap.size:this._cacheMap.peek().index;var L=this._drawToCache(y,A);return this._cacheMap.set(E,L),this._drawFromCache(S,L,m,M),!0}return!1},w.prototype._canCache=function(S){return S.code<256},w.prototype._toCoordinateX=function(S){return S%this._width*this._config.scaledCharWidth},w.prototype._toCoordinateY=function(S){return Math.floor(S/this._width)*this._config.scaledCharHeight},w.prototype._drawFromCache=function(S,y,m,M){if(!y.isEmpty){var E=this._toCoordinateX(y.index),W=this._toCoordinateY(y.index);S.drawImage(y.inBitmap?this._bitmap:this._cacheCanvas,E,W,this._config.scaledCharWidth,this._config.scaledCharHeight,m,M,this._config.scaledCharWidth,this._config.scaledCharHeight)}},w.prototype._getColorFromAnsiIndex=function(S){return S<this._config.colors.ansi.length?this._config.colors.ansi[S]:v.DEFAULT_ANSI_COLORS[S]},w.prototype._getBackgroundColor=function(S){return this._config.allowTransparency?e:S.bg===u.INVERTED_DEFAULT_COLOR?this._config.colors.foreground:S.bg<256?this._getColorFromAnsiIndex(S.bg):this._config.colors.background},w.prototype._getForegroundColor=function(S){return S.fg===u.INVERTED_DEFAULT_COLOR?d.color.opaque(this._config.colors.background):S.fg<256?this._getColorFromAnsiIndex(S.fg):this._config.colors.foreground},w.prototype._drawToCache=function(S,y){this._drawToCacheCount++,this._tmpCtx.save();var m=this._getBackgroundColor(S);this._tmpCtx.globalCompositeOperation="copy",this._tmpCtx.fillStyle=m.css,this._tmpCtx.fillRect(0,0,this._config.scaledCharWidth,this._config.scaledCharHeight),this._tmpCtx.globalCompositeOperation="source-over";var M=S.bold?this._config.fontWeightBold:this._config.fontWeight,E=S.italic?"italic":"";this._tmpCtx.font=E+" "+M+" "+this._config.fontSize*this._config.devicePixelRatio+"px "+this._config.fontFamily,this._tmpCtx.textBaseline=u.TEXT_BASELINE,this._tmpCtx.fillStyle=this._getForegroundColor(S).css,S.dim&&(this._tmpCtx.globalAlpha=u.DIM_OPACITY),this._tmpCtx.fillText(S.chars,0,this._config.scaledCharHeight);var W=this._tmpCtx.getImageData(0,0,this._config.scaledCharWidth,this._config.scaledCharHeight),A=!1;if(this._config.allowTransparency||(A=_(W,m)),A&&S.chars==="_"&&!this._config.allowTransparency)for(var L=1;L<=5&&(this._tmpCtx.fillText(S.chars,0,this._config.scaledCharHeight-L),A=_(W=this._tmpCtx.getImageData(0,0,this._config.scaledCharWidth,this._config.scaledCharHeight),m));L++);this._tmpCtx.restore();var B=this._toCoordinateX(y),I=this._toCoordinateY(y);this._cacheCtx.putImageData(W,B,I);var F={index:y,isEmpty:A,inBitmap:!1};return this._addGlyphToBitmap(F),F},w.prototype._addGlyphToBitmap=function(S){var y=this;!("createImageBitmap"in window)||o.isFirefox||o.isSafari||(this._glyphsWaitingOnBitmap.push(S),this._bitmapCommitTimeout===null&&(this._bitmapCommitTimeout=window.setTimeout(function(){return y._generateBitmap()},100)))},w.prototype._generateBitmap=function(){var S=this,y=this._glyphsWaitingOnBitmap;this._glyphsWaitingOnBitmap=[],window.createImageBitmap(this._cacheCanvas).then(function(m){S._bitmap=m;for(var M=0;M<y.length;M++)y[M].inBitmap=!0}),this._bitmapCommitTimeout=null},w}(f.BaseCharAtlas);i.DynamicCharAtlas=s;var l=function(p){function w(S,y){return p.call(this)||this}return h(w,p),w.prototype.draw=function(S,y,m,M){return!1},w}(f.BaseCharAtlas);function _(p,w){for(var S=!0,y=w.rgba>>>24,m=w.rgba>>>16&255,M=w.rgba>>>8&255,E=0;E<p.data.length;E+=4)p.data[E]===y&&p.data[E+1]===m&&p.data[E+2]===M?p.data[E+3]=0:S=!1;return S}i.NoneCharAtlas=l},7001:(D,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.LRUMap=void 0;var g=function(){function a(h){this.capacity=h,this._map={},this._head=null,this._tail=null,this._nodePool=[],this.size=0}return a.prototype._unlinkNode=function(h){var u=h.prev,f=h.next;h===this._head&&(this._head=f),h===this._tail&&(this._tail=u),u!==null&&(u.next=f),f!==null&&(f.prev=u)},a.prototype._appendNode=function(h){var u=this._tail;u!==null&&(u.next=h),h.prev=u,h.next=null,this._tail=h,this._head===null&&(this._head=h)},a.prototype.prealloc=function(h){for(var u=this._nodePool,f=0;f<h;f++)u.push({prev:null,next:null,key:null,value:null})},a.prototype.get=function(h){var u=this._map[h];return u!==void 0?(this._unlinkNode(u),this._appendNode(u),u.value):null},a.prototype.peekValue=function(h){var u=this._map[h];return u!==void 0?u.value:null},a.prototype.peek=function(){var h=this._head;return h===null?null:h.value},a.prototype.set=function(h,u){var f=this._map[h];if(f!==void 0)f=this._map[h],this._unlinkNode(f),f.value=u;else if(this.size>=this.capacity)f=this._head,this._unlinkNode(f),delete this._map[f.key],f.key=h,f.value=u,this._map[h]=f;else{var v=this._nodePool;v.length>0?((f=v.pop()).key=h,f.value=u):f={prev:null,next:null,key:h,value:u},this._map[h]=f,this.size++}this._appendNode(f)},a}();i.LRUMap=g},1296:function(D,i,g){var a,h=this&&this.__extends||(a=function(S,y){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,M){m.__proto__=M}||function(m,M){for(var E in M)Object.prototype.hasOwnProperty.call(M,E)&&(m[E]=M[E])},a(S,y)},function(S,y){if(typeof y!="function"&&y!==null)throw new TypeError("Class extends value "+String(y)+" is not a constructor or null");function m(){this.constructor=S}a(S,y),S.prototype=y===null?Object.create(y):(m.prototype=y.prototype,new m)}),u=this&&this.__decorate||function(S,y,m,M){var E,W=arguments.length,A=W<3?y:M===null?M=Object.getOwnPropertyDescriptor(y,m):M;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")A=Reflect.decorate(S,y,m,M);else for(var L=S.length-1;L>=0;L--)(E=S[L])&&(A=(W<3?E(A):W>3?E(y,m,A):E(y,m))||A);return W>3&&A&&Object.defineProperty(y,m,A),A},f=this&&this.__param||function(S,y){return function(m,M){y(m,M,S)}};Object.defineProperty(i,"__esModule",{value:!0}),i.DomRenderer=void 0;var v=g(3787),b=g(8803),o=g(844),c=g(4725),d=g(2585),n=g(8460),t=g(4774),e=g(9631),r="xterm-dom-renderer-owner-",s="xterm-fg-",l="xterm-bg-",_="xterm-focus",p=1,w=function(S){function y(m,M,E,W,A,L,B,I,F,N){var G=S.call(this)||this;return G._colors=m,G._element=M,G._screenElement=E,G._viewportElement=W,G._linkifier=A,G._linkifier2=L,G._charSizeService=I,G._optionsService=F,G._bufferService=N,G._terminalClass=p++,G._rowElements=[],G._rowContainer=document.createElement("div"),G._rowContainer.classList.add("xterm-rows"),G._rowContainer.style.lineHeight="normal",G._rowContainer.setAttribute("aria-hidden","true"),G._refreshRowElements(G._bufferService.cols,G._bufferService.rows),G._selectionContainer=document.createElement("div"),G._selectionContainer.classList.add("xterm-selection"),G._selectionContainer.setAttribute("aria-hidden","true"),G.dimensions={scaledCharWidth:0,scaledCharHeight:0,scaledCellWidth:0,scaledCellHeight:0,scaledCharLeft:0,scaledCharTop:0,scaledCanvasWidth:0,scaledCanvasHeight:0,canvasWidth:0,canvasHeight:0,actualCellWidth:0,actualCellHeight:0},G._updateDimensions(),G._injectCss(),G._rowFactory=B.createInstance(v.DomRendererRowFactory,document,G._colors),G._element.classList.add(r+G._terminalClass),G._screenElement.appendChild(G._rowContainer),G._screenElement.appendChild(G._selectionContainer),G._linkifier.onShowLinkUnderline(function(J){return G._onLinkHover(J)}),G._linkifier.onHideLinkUnderline(function(J){return G._onLinkLeave(J)}),G._linkifier2.onShowLinkUnderline(function(J){return G._onLinkHover(J)}),G._linkifier2.onHideLinkUnderline(function(J){return G._onLinkLeave(J)}),G}return h(y,S),Object.defineProperty(y.prototype,"onRequestRedraw",{get:function(){return new n.EventEmitter().event},enumerable:!1,configurable:!0}),y.prototype.dispose=function(){this._element.classList.remove(r+this._terminalClass),(0,e.removeElementFromParent)(this._rowContainer,this._selectionContainer,this._themeStyleElement,this._dimensionsStyleElement),S.prototype.dispose.call(this)},y.prototype._updateDimensions=function(){this.dimensions.scaledCharWidth=this._charSizeService.width*window.devicePixelRatio,this.dimensions.scaledCharHeight=Math.ceil(this._charSizeService.height*window.devicePixelRatio),this.dimensions.scaledCellWidth=this.dimensions.scaledCharWidth+Math.round(this._optionsService.rawOptions.letterSpacing),this.dimensions.scaledCellHeight=Math.floor(this.dimensions.scaledCharHeight*this._optionsService.rawOptions.lineHeight),this.dimensions.scaledCharLeft=0,this.dimensions.scaledCharTop=0,this.dimensions.scaledCanvasWidth=this.dimensions.scaledCellWidth*this._bufferService.cols,this.dimensions.scaledCanvasHeight=this.dimensions.scaledCellHeight*this._bufferService.rows,this.dimensions.canvasWidth=Math.round(this.dimensions.scaledCanvasWidth/window.devicePixelRatio),this.dimensions.canvasHeight=Math.round(this.dimensions.scaledCanvasHeight/window.devicePixelRatio),this.dimensions.actualCellWidth=this.dimensions.canvasWidth/this._bufferService.cols,this.dimensions.actualCellHeight=this.dimensions.canvasHeight/this._bufferService.rows;for(var m=0,M=this._rowElements;m<M.length;m++){var E=M[m];E.style.width=this.dimensions.canvasWidth+"px",E.style.height=this.dimensions.actualCellHeight+"px",E.style.lineHeight=this.dimensions.actualCellHeight+"px",E.style.overflow="hidden"}this._dimensionsStyleElement||(this._dimensionsStyleElement=document.createElement("style"),this._screenElement.appendChild(this._dimensionsStyleElement));var W=this._terminalSelector+" .xterm-rows span { display: inline-block; height: 100%; vertical-align: top; width: "+this.dimensions.actualCellWidth+"px}";this._dimensionsStyleElement.textContent=W,this._selectionContainer.style.height=this._viewportElement.style.height,this._screenElement.style.width=this.dimensions.canvasWidth+"px",this._screenElement.style.height=this.dimensions.canvasHeight+"px"},y.prototype.setColors=function(m){this._colors=m,this._injectCss()},y.prototype._injectCss=function(){var m=this;this._themeStyleElement||(this._themeStyleElement=document.createElement("style"),this._screenElement.appendChild(this._themeStyleElement));var M=this._terminalSelector+" .xterm-rows { color: "+this._colors.foreground.css+"; font-family: "+this._optionsService.rawOptions.fontFamily+"; font-size: "+this._optionsService.rawOptions.fontSize+"px;}";M+=this._terminalSelector+" span:not(."+v.BOLD_CLASS+") { font-weight: "+this._optionsService.rawOptions.fontWeight+";}"+this._terminalSelector+" span."+v.BOLD_CLASS+" { font-weight: "+this._optionsService.rawOptions.fontWeightBold+";}"+this._terminalSelector+" span."+v.ITALIC_CLASS+" { font-style: italic;}",M+="@keyframes blink_box_shadow_"+this._terminalClass+" { 50% {  box-shadow: none; }}",M+="@keyframes blink_block_"+this._terminalClass+" { 0% {  background-color: "+this._colors.cursor.css+";  color: "+this._colors.cursorAccent.css+"; } 50% {  background-color: "+this._colors.cursorAccent.css+";  color: "+this._colors.cursor.css+"; }}",M+=this._terminalSelector+" .xterm-rows:not(.xterm-focus) ."+v.CURSOR_CLASS+"."+v.CURSOR_STYLE_BLOCK_CLASS+" { outline: 1px solid "+this._colors.cursor.css+"; outline-offset: -1px;}"+this._terminalSelector+" .xterm-rows.xterm-focus ."+v.CURSOR_CLASS+"."+v.CURSOR_BLINK_CLASS+":not(."+v.CURSOR_STYLE_BLOCK_CLASS+") { animation: blink_box_shadow_"+this._terminalClass+" 1s step-end infinite;}"+this._terminalSelector+" .xterm-rows.xterm-focus ."+v.CURSOR_CLASS+"."+v.CURSOR_BLINK_CLASS+"."+v.CURSOR_STYLE_BLOCK_CLASS+" { animation: blink_block_"+this._terminalClass+" 1s step-end infinite;}"+this._terminalSelector+" .xterm-rows.xterm-focus ."+v.CURSOR_CLASS+"."+v.CURSOR_STYLE_BLOCK_CLASS+" { background-color: "+this._colors.cursor.css+"; color: "+this._colors.cursorAccent.css+";}"+this._terminalSelector+" .xterm-rows ."+v.CURSOR_CLASS+"."+v.CURSOR_STYLE_BAR_CLASS+" { box-shadow: "+this._optionsService.rawOptions.cursorWidth+"px 0 0 "+this._colors.cursor.css+" inset;}"+this._terminalSelector+" .xterm-rows ."+v.CURSOR_CLASS+"."+v.CURSOR_STYLE_UNDERLINE_CLASS+" { box-shadow: 0 -1px 0 "+this._colors.cursor.css+" inset;}",M+=this._terminalSelector+" .xterm-selection { position: absolute; top: 0; left: 0; z-index: 1; pointer-events: none;}"+this._terminalSelector+" .xterm-selection div { position: absolute; background-color: "+this._colors.selectionTransparent.css+";}",this._colors.ansi.forEach(function(E,W){M+=m._terminalSelector+" ."+s+W+" { color: "+E.css+"; }"+m._terminalSelector+" ."+l+W+" { background-color: "+E.css+"; }"}),M+=this._terminalSelector+" ."+s+b.INVERTED_DEFAULT_COLOR+" { color: "+t.color.opaque(this._colors.background).css+"; }"+this._terminalSelector+" ."+l+b.INVERTED_DEFAULT_COLOR+" { background-color: "+this._colors.foreground.css+"; }",this._themeStyleElement.textContent=M},y.prototype.onDevicePixelRatioChange=function(){this._updateDimensions()},y.prototype._refreshRowElements=function(m,M){for(var E=this._rowElements.length;E<=M;E++){var W=document.createElement("div");this._rowContainer.appendChild(W),this._rowElements.push(W)}for(;this._rowElements.length>M;)this._rowContainer.removeChild(this._rowElements.pop())},y.prototype.onResize=function(m,M){this._refreshRowElements(m,M),this._updateDimensions()},y.prototype.onCharSizeChanged=function(){this._updateDimensions()},y.prototype.onBlur=function(){this._rowContainer.classList.remove(_)},y.prototype.onFocus=function(){this._rowContainer.classList.add(_)},y.prototype.onSelectionChanged=function(m,M,E){for(;this._selectionContainer.children.length;)this._selectionContainer.removeChild(this._selectionContainer.children[0]);if(m&&M){var W=m[1]-this._bufferService.buffer.ydisp,A=M[1]-this._bufferService.buffer.ydisp,L=Math.max(W,0),B=Math.min(A,this._bufferService.rows-1);if(!(L>=this._bufferService.rows||B<0)){var I=document.createDocumentFragment();if(E)I.appendChild(this._createSelectionElement(L,m[0],M[0],B-L+1));else{var F=W===L?m[0]:0,N=L===A?M[0]:this._bufferService.cols;I.appendChild(this._createSelectionElement(L,F,N));var G=B-L-1;if(I.appendChild(this._createSelectionElement(L+1,0,this._bufferService.cols,G)),L!==B){var J=A===B?M[0]:this._bufferService.cols;I.appendChild(this._createSelectionElement(B,0,J))}}this._selectionContainer.appendChild(I)}}},y.prototype._createSelectionElement=function(m,M,E,W){W===void 0&&(W=1);var A=document.createElement("div");return A.style.height=W*this.dimensions.actualCellHeight+"px",A.style.top=m*this.dimensions.actualCellHeight+"px",A.style.left=M*this.dimensions.actualCellWidth+"px",A.style.width=this.dimensions.actualCellWidth*(E-M)+"px",A},y.prototype.onCursorMove=function(){},y.prototype.onOptionsChanged=function(){this._updateDimensions(),this._injectCss()},y.prototype.clear=function(){for(var m=0,M=this._rowElements;m<M.length;m++)M[m].innerText=""},y.prototype.renderRows=function(m,M){for(var E=this._bufferService.buffer.ybase+this._bufferService.buffer.y,W=Math.min(this._bufferService.buffer.x,this._bufferService.cols-1),A=this._optionsService.rawOptions.cursorBlink,L=m;L<=M;L++){var B=this._rowElements[L];B.innerText="";var I=L+this._bufferService.buffer.ydisp,F=this._bufferService.buffer.lines.get(I),N=this._optionsService.rawOptions.cursorStyle;B.appendChild(this._rowFactory.createRow(F,I,I===E,N,W,A,this.dimensions.actualCellWidth,this._bufferService.cols))}},Object.defineProperty(y.prototype,"_terminalSelector",{get:function(){return"."+r+this._terminalClass},enumerable:!1,configurable:!0}),y.prototype._onLinkHover=function(m){this._setCellUnderline(m.x1,m.x2,m.y1,m.y2,m.cols,!0)},y.prototype._onLinkLeave=function(m){this._setCellUnderline(m.x1,m.x2,m.y1,m.y2,m.cols,!1)},y.prototype._setCellUnderline=function(m,M,E,W,A,L){for(;m!==M||E!==W;){var B=this._rowElements[E];if(!B)return;var I=B.children[m];I&&(I.style.textDecoration=L?"underline":"none"),++m>=A&&(m=0,E++)}},u([f(6,d.IInstantiationService),f(7,c.ICharSizeService),f(8,d.IOptionsService),f(9,d.IBufferService)],y)}(o.Disposable);i.DomRenderer=w},3787:function(D,i,g){var a=this&&this.__decorate||function(e,r,s,l){var _,p=arguments.length,w=p<3?r:l===null?l=Object.getOwnPropertyDescriptor(r,s):l;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")w=Reflect.decorate(e,r,s,l);else for(var S=e.length-1;S>=0;S--)(_=e[S])&&(w=(p<3?_(w):p>3?_(r,s,w):_(r,s))||w);return p>3&&w&&Object.defineProperty(r,s,w),w},h=this&&this.__param||function(e,r){return function(s,l){r(s,l,e)}};Object.defineProperty(i,"__esModule",{value:!0}),i.DomRendererRowFactory=i.CURSOR_STYLE_UNDERLINE_CLASS=i.CURSOR_STYLE_BAR_CLASS=i.CURSOR_STYLE_BLOCK_CLASS=i.CURSOR_BLINK_CLASS=i.CURSOR_CLASS=i.STRIKETHROUGH_CLASS=i.UNDERLINE_CLASS=i.ITALIC_CLASS=i.DIM_CLASS=i.BOLD_CLASS=void 0;var u=g(8803),f=g(643),v=g(511),b=g(2585),o=g(4774),c=g(4725),d=g(4269);i.BOLD_CLASS="xterm-bold",i.DIM_CLASS="xterm-dim",i.ITALIC_CLASS="xterm-italic",i.UNDERLINE_CLASS="xterm-underline",i.STRIKETHROUGH_CLASS="xterm-strikethrough",i.CURSOR_CLASS="xterm-cursor",i.CURSOR_BLINK_CLASS="xterm-cursor-blink",i.CURSOR_STYLE_BLOCK_CLASS="xterm-cursor-block",i.CURSOR_STYLE_BAR_CLASS="xterm-cursor-bar",i.CURSOR_STYLE_UNDERLINE_CLASS="xterm-cursor-underline";var n=function(){function e(r,s,l,_,p){this._document=r,this._colors=s,this._characterJoinerService=l,this._optionsService=_,this._coreService=p,this._workCell=new v.CellData}return e.prototype.setColors=function(r){this._colors=r},e.prototype.createRow=function(r,s,l,_,p,w,S,y){for(var m=this._document.createDocumentFragment(),M=this._characterJoinerService.getJoinedCharacters(s),E=0,W=Math.min(r.length,y)-1;W>=0;W--)if(r.loadCell(W,this._workCell).getCode()!==f.NULL_CELL_CODE||l&&W===p){E=W+1;break}for(W=0;W<E;W++){r.loadCell(W,this._workCell);var A=this._workCell.getWidth();if(A!==0){var L=!1,B=W,I=this._workCell;if(M.length>0&&W===M[0][0]){L=!0;var F=M.shift();I=new d.JoinedCellData(this._workCell,r.translateToString(!0,F[0],F[1]),F[1]-F[0]),B=F[1]-1,A=I.getWidth()}var N=this._document.createElement("span");if(A>1&&(N.style.width=S*A+"px"),L&&(N.style.display="inline",p>=W&&p<=B&&(p=W)),!this._coreService.isCursorHidden&&l&&W===p)switch(N.classList.add(i.CURSOR_CLASS),w&&N.classList.add(i.CURSOR_BLINK_CLASS),_){case"bar":N.classList.add(i.CURSOR_STYLE_BAR_CLASS);break;case"underline":N.classList.add(i.CURSOR_STYLE_UNDERLINE_CLASS);break;default:N.classList.add(i.CURSOR_STYLE_BLOCK_CLASS)}I.isBold()&&N.classList.add(i.BOLD_CLASS),I.isItalic()&&N.classList.add(i.ITALIC_CLASS),I.isDim()&&N.classList.add(i.DIM_CLASS),I.isUnderline()&&N.classList.add(i.UNDERLINE_CLASS),I.isInvisible()?N.textContent=f.WHITESPACE_CELL_CHAR:N.textContent=I.getChars()||f.WHITESPACE_CELL_CHAR,I.isStrikethrough()&&N.classList.add(i.STRIKETHROUGH_CLASS);var G=I.getFgColor(),J=I.getFgColorMode(),V=I.getBgColor(),Z=I.getBgColorMode(),R=!!I.isInverse();if(R){var q=G;G=V,V=q;var T=J;J=Z,Z=T}switch(J){case 16777216:case 33554432:I.isBold()&&G<8&&this._optionsService.rawOptions.drawBoldTextInBrightColors&&(G+=8),this._applyMinimumContrast(N,this._colors.background,this._colors.ansi[G])||N.classList.add("xterm-fg-"+G);break;case 50331648:var P=o.rgba.toColor(G>>16&255,G>>8&255,255&G);this._applyMinimumContrast(N,this._colors.background,P)||this._addStyle(N,"color:#"+t(G.toString(16),"0",6));break;default:this._applyMinimumContrast(N,this._colors.background,this._colors.foreground)||R&&N.classList.add("xterm-fg-"+u.INVERTED_DEFAULT_COLOR)}switch(Z){case 16777216:case 33554432:N.classList.add("xterm-bg-"+V);break;case 50331648:this._addStyle(N,"background-color:#"+t(V.toString(16),"0",6));break;default:R&&N.classList.add("xterm-bg-"+u.INVERTED_DEFAULT_COLOR)}m.appendChild(N),W=B}}return m},e.prototype._applyMinimumContrast=function(r,s,l){if(this._optionsService.rawOptions.minimumContrastRatio===1)return!1;var _=this._colors.contrastCache.getColor(this._workCell.bg,this._workCell.fg);return _===void 0&&(_=o.color.ensureContrastRatio(s,l,this._optionsService.rawOptions.minimumContrastRatio),this._colors.contrastCache.setColor(this._workCell.bg,this._workCell.fg,_??null)),!!_&&(this._addStyle(r,"color:"+_.css),!0)},e.prototype._addStyle=function(r,s){r.setAttribute("style",""+(r.getAttribute("style")||"")+s+";")},a([h(2,c.ICharacterJoinerService),h(3,b.IOptionsService),h(4,b.ICoreService)],e)}();function t(e,r,s){for(;e.length<s;)e=r+e;return e}i.DomRendererRowFactory=n},456:(D,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.SelectionModel=void 0;var g=function(){function a(h){this._bufferService=h,this.isSelectAllActive=!1,this.selectionStartLength=0}return a.prototype.clearSelection=function(){this.selectionStart=void 0,this.selectionEnd=void 0,this.isSelectAllActive=!1,this.selectionStartLength=0},Object.defineProperty(a.prototype,"finalSelectionStart",{get:function(){return this.isSelectAllActive?[0,0]:this.selectionEnd&&this.selectionStart&&this.areSelectionValuesReversed()?this.selectionEnd:this.selectionStart},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"finalSelectionEnd",{get:function(){if(this.isSelectAllActive)return[this._bufferService.cols,this._bufferService.buffer.ybase+this._bufferService.rows-1];if(this.selectionStart){if(!this.selectionEnd||this.areSelectionValuesReversed()){var h=this.selectionStart[0]+this.selectionStartLength;return h>this._bufferService.cols?h%this._bufferService.cols==0?[this._bufferService.cols,this.selectionStart[1]+Math.floor(h/this._bufferService.cols)-1]:[h%this._bufferService.cols,this.selectionStart[1]+Math.floor(h/this._bufferService.cols)]:[h,this.selectionStart[1]]}return this.selectionStartLength&&this.selectionEnd[1]===this.selectionStart[1]?[Math.max(this.selectionStart[0]+this.selectionStartLength,this.selectionEnd[0]),this.selectionEnd[1]]:this.selectionEnd}},enumerable:!1,configurable:!0}),a.prototype.areSelectionValuesReversed=function(){var h=this.selectionStart,u=this.selectionEnd;return!(!h||!u)&&(h[1]>u[1]||h[1]===u[1]&&h[0]>u[0])},a.prototype.onTrim=function(h){return this.selectionStart&&(this.selectionStart[1]-=h),this.selectionEnd&&(this.selectionEnd[1]-=h),this.selectionEnd&&this.selectionEnd[1]<0?(this.clearSelection(),!0):(this.selectionStart&&this.selectionStart[1]<0&&(this.selectionStart[1]=0),!1)},a}();i.SelectionModel=g},428:function(D,i,g){var a=this&&this.__decorate||function(o,c,d,n){var t,e=arguments.length,r=e<3?c:n===null?n=Object.getOwnPropertyDescriptor(c,d):n;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(o,c,d,n);else for(var s=o.length-1;s>=0;s--)(t=o[s])&&(r=(e<3?t(r):e>3?t(c,d,r):t(c,d))||r);return e>3&&r&&Object.defineProperty(c,d,r),r},h=this&&this.__param||function(o,c){return function(d,n){c(d,n,o)}};Object.defineProperty(i,"__esModule",{value:!0}),i.CharSizeService=void 0;var u=g(2585),f=g(8460),v=function(){function o(c,d,n){this._optionsService=n,this.width=0,this.height=0,this._onCharSizeChange=new f.EventEmitter,this._measureStrategy=new b(c,d,this._optionsService)}return Object.defineProperty(o.prototype,"hasValidSize",{get:function(){return this.width>0&&this.height>0},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"onCharSizeChange",{get:function(){return this._onCharSizeChange.event},enumerable:!1,configurable:!0}),o.prototype.measure=function(){var c=this._measureStrategy.measure();c.width===this.width&&c.height===this.height||(this.width=c.width,this.height=c.height,this._onCharSizeChange.fire())},a([h(2,u.IOptionsService)],o)}();i.CharSizeService=v;var b=function(){function o(c,d,n){this._document=c,this._parentElement=d,this._optionsService=n,this._result={width:0,height:0},this._measureElement=this._document.createElement("span"),this._measureElement.classList.add("xterm-char-measure-element"),this._measureElement.textContent="W",this._measureElement.setAttribute("aria-hidden","true"),this._parentElement.appendChild(this._measureElement)}return o.prototype.measure=function(){this._measureElement.style.fontFamily=this._optionsService.rawOptions.fontFamily,this._measureElement.style.fontSize=this._optionsService.rawOptions.fontSize+"px";var c=this._measureElement.getBoundingClientRect();return c.width!==0&&c.height!==0&&(this._result.width=c.width,this._result.height=Math.ceil(c.height)),this._result},o}()},4269:function(D,i,g){var a,h=this&&this.__extends||(a=function(t,e){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,s){r.__proto__=s}||function(r,s){for(var l in s)Object.prototype.hasOwnProperty.call(s,l)&&(r[l]=s[l])},a(t,e)},function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}a(t,e),t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}),u=this&&this.__decorate||function(t,e,r,s){var l,_=arguments.length,p=_<3?e:s===null?s=Object.getOwnPropertyDescriptor(e,r):s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")p=Reflect.decorate(t,e,r,s);else for(var w=t.length-1;w>=0;w--)(l=t[w])&&(p=(_<3?l(p):_>3?l(e,r,p):l(e,r))||p);return _>3&&p&&Object.defineProperty(e,r,p),p},f=this&&this.__param||function(t,e){return function(r,s){e(r,s,t)}};Object.defineProperty(i,"__esModule",{value:!0}),i.CharacterJoinerService=i.JoinedCellData=void 0;var v=g(3734),b=g(643),o=g(511),c=g(2585),d=function(t){function e(r,s,l){var _=t.call(this)||this;return _.content=0,_.combinedData="",_.fg=r.fg,_.bg=r.bg,_.combinedData=s,_._width=l,_}return h(e,t),e.prototype.isCombined=function(){return 2097152},e.prototype.getWidth=function(){return this._width},e.prototype.getChars=function(){return this.combinedData},e.prototype.getCode=function(){return 2097151},e.prototype.setFromCharData=function(r){throw new Error("not implemented")},e.prototype.getAsCharData=function(){return[this.fg,this.getChars(),this.getWidth(),this.getCode()]},e}(v.AttributeData);i.JoinedCellData=d;var n=function(){function t(e){this._bufferService=e,this._characterJoiners=[],this._nextCharacterJoinerId=0,this._workCell=new o.CellData}return t.prototype.register=function(e){var r={id:this._nextCharacterJoinerId++,handler:e};return this._characterJoiners.push(r),r.id},t.prototype.deregister=function(e){for(var r=0;r<this._characterJoiners.length;r++)if(this._characterJoiners[r].id===e)return this._characterJoiners.splice(r,1),!0;return!1},t.prototype.getJoinedCharacters=function(e){if(this._characterJoiners.length===0)return[];var r=this._bufferService.buffer.lines.get(e);if(!r||r.length===0)return[];for(var s=[],l=r.translateToString(!0),_=0,p=0,w=0,S=r.getFg(0),y=r.getBg(0),m=0;m<r.getTrimmedLength();m++)if(r.loadCell(m,this._workCell),this._workCell.getWidth()!==0){if(this._workCell.fg!==S||this._workCell.bg!==y){if(m-_>1)for(var M=this._getJoinedRanges(l,w,p,r,_),E=0;E<M.length;E++)s.push(M[E]);_=m,w=p,S=this._workCell.fg,y=this._workCell.bg}p+=this._workCell.getChars().length||b.WHITESPACE_CELL_CHAR.length}if(this._bufferService.cols-_>1)for(M=this._getJoinedRanges(l,w,p,r,_),E=0;E<M.length;E++)s.push(M[E]);return s},t.prototype._getJoinedRanges=function(e,r,s,l,_){var p=e.substring(r,s),w=[];try{w=this._characterJoiners[0].handler(p)}catch(M){console.error(M)}for(var S=1;S<this._characterJoiners.length;S++)try{for(var y=this._characterJoiners[S].handler(p),m=0;m<y.length;m++)t._mergeRanges(w,y[m])}catch(M){console.error(M)}return this._stringRangesToCellRanges(w,l,_),w},t.prototype._stringRangesToCellRanges=function(e,r,s){var l=0,_=!1,p=0,w=e[l];if(w){for(var S=s;S<this._bufferService.cols;S++){var y=r.getWidth(S),m=r.getString(S).length||b.WHITESPACE_CELL_CHAR.length;if(y!==0){if(!_&&w[0]<=p&&(w[0]=S,_=!0),w[1]<=p){if(w[1]=S,!(w=e[++l]))break;w[0]<=p?(w[0]=S,_=!0):_=!1}p+=m}}w&&(w[1]=this._bufferService.cols)}},t._mergeRanges=function(e,r){for(var s=!1,l=0;l<e.length;l++){var _=e[l];if(s){if(r[1]<=_[0])return e[l-1][1]=r[1],e;if(r[1]<=_[1])return e[l-1][1]=Math.max(r[1],_[1]),e.splice(l,1),e;e.splice(l,1),l--}else{if(r[1]<=_[0])return e.splice(l,0,r),e;if(r[1]<=_[1])return _[0]=Math.min(r[0],_[0]),e;r[0]<_[1]&&(_[0]=Math.min(r[0],_[0]),s=!0)}}return s?e[e.length-1][1]=r[1]:e.push(r),e},t=u([f(0,c.IBufferService)],t)}();i.CharacterJoinerService=n},5114:(D,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.CoreBrowserService=void 0;var g=function(){function a(h){this._textarea=h}return Object.defineProperty(a.prototype,"isFocused",{get:function(){return(this._textarea.getRootNode?this._textarea.getRootNode():document).activeElement===this._textarea&&document.hasFocus()},enumerable:!1,configurable:!0}),a}();i.CoreBrowserService=g},7641:function(D,i,g){var a,h=this&&this.__extends||(a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])},a(n,t)},function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=n}a(n,t),n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}),u=this&&this.__decorate||function(n,t,e,r){var s,l=arguments.length,_=l<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")_=Reflect.decorate(n,t,e,r);else for(var p=n.length-1;p>=0;p--)(s=n[p])&&(_=(l<3?s(_):l>3?s(t,e,_):s(t,e))||_);return l>3&&_&&Object.defineProperty(t,e,_),_},f=this&&this.__param||function(n,t){return function(e,r){t(e,r,n)}};Object.defineProperty(i,"__esModule",{value:!0}),i.Decoration=i.DecorationService=void 0;var v=g(8460),b=g(844),o=g(2585),c=function(n){function t(e){var r=n.call(this)||this;return r._instantiationService=e,r._decorations=[],r}return h(t,n),t.prototype.attachToDom=function(e,r){var s=this;this._renderService=r,this._screenElement=e,this._container=document.createElement("div"),this._container.classList.add("xterm-decoration-container"),e.appendChild(this._container),this.register(this._renderService.onRenderedBufferChange(function(){return s.refresh()})),this.register(this._renderService.onDimensionsChange(function(){return s.refresh(!0)}))},t.prototype.registerDecoration=function(e){var r=this;if(!e.marker.isDisposed&&this._container){var s=this._instantiationService.createInstance(d,e,this._container);return this._decorations.push(s),s.onDispose(function(){return r._decorations.splice(r._decorations.indexOf(s),1)}),this._queueRefresh(),s}},t.prototype._queueRefresh=function(){var e=this;this._animationFrame===void 0&&(this._animationFrame=window.requestAnimationFrame(function(){e.refresh(),e._animationFrame=void 0}))},t.prototype.refresh=function(e){if(this._renderService)for(var r=0,s=this._decorations;r<s.length;r++)s[r].render(this._renderService,e)},t.prototype.dispose=function(){for(var e=0,r=this._decorations;e<r.length;e++)r[e].dispose();this._screenElement&&this._container&&this._screenElement.contains(this._container)&&this._screenElement.removeChild(this._container)},u([f(0,o.IInstantiationService)],t)}(b.Disposable);i.DecorationService=c;var d=function(n){function t(e,r,s){var l,_=n.call(this)||this;return _._container=r,_._bufferService=s,_.isDisposed=!1,_._onDispose=new v.EventEmitter,_._onRender=new v.EventEmitter,_.x=(l=e.x)!==null&&l!==void 0?l:0,_._marker=e.marker,_._marker.onDispose(function(){return _.dispose()}),_.anchor=e.anchor||"left",_.width=e.width||1,_.height=e.height||1,_}return h(t,n),Object.defineProperty(t.prototype,"element",{get:function(){return this._element},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"marker",{get:function(){return this._marker},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"onDispose",{get:function(){return this._onDispose.event},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"onRender",{get:function(){return this._onRender.event},enumerable:!1,configurable:!0}),t.prototype.render=function(e,r){this._element&&!r||this._createElement(e,r),this._container&&this._element&&!this._container.contains(this._element)&&this._container.append(this._element),this._refreshStyle(e),this._element&&this._onRender.fire(this._element)},t.prototype._createElement=function(e,r){r&&this._element&&this._container.contains(this._element)&&this._container.removeChild(this._element),this._element=document.createElement("div"),this._element.classList.add("xterm-decoration"),this._element.style.width=this.width*e.dimensions.actualCellWidth+"px",this._element.style.height=this.height*e.dimensions.actualCellHeight+"px",this._element.style.top=(this.marker.line-this._bufferService.buffers.active.ydisp)*e.dimensions.actualCellHeight+"px",this._element.style.lineHeight=e.dimensions.actualCellHeight+"px",this.x&&this.x>this._bufferService.cols&&(this._element.style.display="none"),this.anchor==="right"?this._element.style.right=this.x?this.x*e.dimensions.actualCellWidth+"px":"":this._element.style.left=this.x?this.x*e.dimensions.actualCellWidth+"px":""},t.prototype._refreshStyle=function(e){if(this._element){var r=this.marker.line-this._bufferService.buffers.active.ydisp;r<0||r>this._bufferService.rows?this._element.style.display="none":(this._element.style.top=r*e.dimensions.actualCellHeight+"px",this._element.style.display=this._bufferService.buffer===this._bufferService.buffers.alt?"none":"block")}},t.prototype.dispose=function(){this.isDisposed||(this._element&&this._container.contains(this._element)&&this._container.removeChild(this._element),this.isDisposed=!0,this._onDispose.fire())},u([f(2,o.IBufferService)],t)}(b.Disposable);i.Decoration=d},8934:function(D,i,g){var a=this&&this.__decorate||function(b,o,c,d){var n,t=arguments.length,e=t<3?o:d===null?d=Object.getOwnPropertyDescriptor(o,c):d;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")e=Reflect.decorate(b,o,c,d);else for(var r=b.length-1;r>=0;r--)(n=b[r])&&(e=(t<3?n(e):t>3?n(o,c,e):n(o,c))||e);return t>3&&e&&Object.defineProperty(o,c,e),e},h=this&&this.__param||function(b,o){return function(c,d){o(c,d,b)}};Object.defineProperty(i,"__esModule",{value:!0}),i.MouseService=void 0;var u=g(4725),f=g(9806),v=function(){function b(o,c){this._renderService=o,this._charSizeService=c}return b.prototype.getCoords=function(o,c,d,n,t){return(0,f.getCoords)(o,c,d,n,this._charSizeService.hasValidSize,this._renderService.dimensions.actualCellWidth,this._renderService.dimensions.actualCellHeight,t)},b.prototype.getRawByteCoords=function(o,c,d,n){var t=this.getCoords(o,c,d,n);return(0,f.getRawByteCoords)(t)},a([h(0,u.IRenderService),h(1,u.ICharSizeService)],b)}();i.MouseService=v},3230:function(D,i,g){var a,h=this&&this.__extends||(a=function(r,s){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,_){l.__proto__=_}||function(l,_){for(var p in _)Object.prototype.hasOwnProperty.call(_,p)&&(l[p]=_[p])},a(r,s)},function(r,s){if(typeof s!="function"&&s!==null)throw new TypeError("Class extends value "+String(s)+" is not a constructor or null");function l(){this.constructor=r}a(r,s),r.prototype=s===null?Object.create(s):(l.prototype=s.prototype,new l)}),u=this&&this.__decorate||function(r,s,l,_){var p,w=arguments.length,S=w<3?s:_===null?_=Object.getOwnPropertyDescriptor(s,l):_;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")S=Reflect.decorate(r,s,l,_);else for(var y=r.length-1;y>=0;y--)(p=r[y])&&(S=(w<3?p(S):w>3?p(s,l,S):p(s,l))||S);return w>3&&S&&Object.defineProperty(s,l,S),S},f=this&&this.__param||function(r,s){return function(l,_){s(l,_,r)}};Object.defineProperty(i,"__esModule",{value:!0}),i.RenderService=void 0;var v=g(6193),b=g(8460),o=g(844),c=g(5596),d=g(3656),n=g(2585),t=g(4725),e=function(r){function s(l,_,p,w,S,y){var m=r.call(this)||this;if(m._renderer=l,m._rowCount=_,m._charSizeService=S,m._isPaused=!1,m._needsFullRefresh=!1,m._isNextRenderRedrawOnly=!0,m._needsSelectionRefresh=!1,m._canvasWidth=0,m._canvasHeight=0,m._selectionState={start:void 0,end:void 0,columnSelectMode:!1},m._onDimensionsChange=new b.EventEmitter,m._onRender=new b.EventEmitter,m._onRefreshRequest=new b.EventEmitter,m.register({dispose:function(){return m._renderer.dispose()}}),m._renderDebouncer=new v.RenderDebouncer(function(E,W){return m._renderRows(E,W)}),m.register(m._renderDebouncer),m._screenDprMonitor=new c.ScreenDprMonitor,m._screenDprMonitor.setListener(function(){return m.onDevicePixelRatioChange()}),m.register(m._screenDprMonitor),m.register(y.onResize(function(){return m._fullRefresh()})),m.register(y.buffers.onBufferActivate(function(){var E;return(E=m._renderer)===null||E===void 0?void 0:E.clear()})),m.register(w.onOptionChange(function(){return m._renderer.onOptionsChanged()})),m.register(m._charSizeService.onCharSizeChange(function(){return m.onCharSizeChanged()})),m._renderer.onRequestRedraw(function(E){return m.refreshRows(E.start,E.end,!0)}),m.register((0,d.addDisposableDomListener)(window,"resize",function(){return m.onDevicePixelRatioChange()})),"IntersectionObserver"in window){var M=new IntersectionObserver(function(E){return m._onIntersectionChange(E[E.length-1])},{threshold:0});M.observe(p),m.register({dispose:function(){return M.disconnect()}})}return m}return h(s,r),Object.defineProperty(s.prototype,"onDimensionsChange",{get:function(){return this._onDimensionsChange.event},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"onRenderedBufferChange",{get:function(){return this._onRender.event},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"onRefreshRequest",{get:function(){return this._onRefreshRequest.event},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"dimensions",{get:function(){return this._renderer.dimensions},enumerable:!1,configurable:!0}),s.prototype._onIntersectionChange=function(l){this._isPaused=l.isIntersecting===void 0?l.intersectionRatio===0:!l.isIntersecting,this._isPaused||this._charSizeService.hasValidSize||this._charSizeService.measure(),!this._isPaused&&this._needsFullRefresh&&(this.refreshRows(0,this._rowCount-1),this._needsFullRefresh=!1)},s.prototype.refreshRows=function(l,_,p){p===void 0&&(p=!1),this._isPaused?this._needsFullRefresh=!0:(p||(this._isNextRenderRedrawOnly=!1),this._renderDebouncer.refresh(l,_,this._rowCount))},s.prototype._renderRows=function(l,_){this._renderer.renderRows(l,_),this._needsSelectionRefresh&&(this._renderer.onSelectionChanged(this._selectionState.start,this._selectionState.end,this._selectionState.columnSelectMode),this._needsSelectionRefresh=!1),this._isNextRenderRedrawOnly||this._onRender.fire({start:l,end:_}),this._isNextRenderRedrawOnly=!0},s.prototype.resize=function(l,_){this._rowCount=_,this._fireOnCanvasResize()},s.prototype.changeOptions=function(){this._renderer.onOptionsChanged(),this.refreshRows(0,this._rowCount-1),this._fireOnCanvasResize()},s.prototype._fireOnCanvasResize=function(){this._renderer.dimensions.canvasWidth===this._canvasWidth&&this._renderer.dimensions.canvasHeight===this._canvasHeight||this._onDimensionsChange.fire(this._renderer.dimensions)},s.prototype.dispose=function(){r.prototype.dispose.call(this)},s.prototype.setRenderer=function(l){var _=this;this._renderer.dispose(),this._renderer=l,this._renderer.onRequestRedraw(function(p){return _.refreshRows(p.start,p.end,!0)}),this._needsSelectionRefresh=!0,this._fullRefresh()},s.prototype._fullRefresh=function(){this._isPaused?this._needsFullRefresh=!0:this.refreshRows(0,this._rowCount-1)},s.prototype.clearTextureAtlas=function(){var l,_;(_=(l=this._renderer)===null||l===void 0?void 0:l.clearTextureAtlas)===null||_===void 0||_.call(l),this._fullRefresh()},s.prototype.setColors=function(l){this._renderer.setColors(l),this._fullRefresh()},s.prototype.onDevicePixelRatioChange=function(){this._charSizeService.measure(),this._renderer.onDevicePixelRatioChange(),this.refreshRows(0,this._rowCount-1)},s.prototype.onResize=function(l,_){this._renderer.onResize(l,_),this._fullRefresh()},s.prototype.onCharSizeChanged=function(){this._renderer.onCharSizeChanged()},s.prototype.onBlur=function(){this._renderer.onBlur()},s.prototype.onFocus=function(){this._renderer.onFocus()},s.prototype.onSelectionChanged=function(l,_,p){this._selectionState.start=l,this._selectionState.end=_,this._selectionState.columnSelectMode=p,this._renderer.onSelectionChanged(l,_,p)},s.prototype.onCursorMove=function(){this._renderer.onCursorMove()},s.prototype.clear=function(){this._renderer.clear()},u([f(3,n.IOptionsService),f(4,t.ICharSizeService),f(5,n.IBufferService)],s)}(o.Disposable);i.RenderService=e},9312:function(D,i,g){var a,h=this&&this.__extends||(a=function(w,S){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(y,m){y.__proto__=m}||function(y,m){for(var M in m)Object.prototype.hasOwnProperty.call(m,M)&&(y[M]=m[M])},a(w,S)},function(w,S){if(typeof S!="function"&&S!==null)throw new TypeError("Class extends value "+String(S)+" is not a constructor or null");function y(){this.constructor=w}a(w,S),w.prototype=S===null?Object.create(S):(y.prototype=S.prototype,new y)}),u=this&&this.__decorate||function(w,S,y,m){var M,E=arguments.length,W=E<3?S:m===null?m=Object.getOwnPropertyDescriptor(S,y):m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")W=Reflect.decorate(w,S,y,m);else for(var A=w.length-1;A>=0;A--)(M=w[A])&&(W=(E<3?M(W):E>3?M(S,y,W):M(S,y))||W);return E>3&&W&&Object.defineProperty(S,y,W),W},f=this&&this.__param||function(w,S){return function(y,m){S(y,m,w)}};Object.defineProperty(i,"__esModule",{value:!0}),i.SelectionService=void 0;var v=g(6114),b=g(456),o=g(511),c=g(8460),d=g(4725),n=g(2585),t=g(9806),e=g(9504),r=g(844),s=g(4841),l=String.fromCharCode(160),_=new RegExp(l,"g"),p=function(w){function S(y,m,M,E,W,A,L,B){var I=w.call(this)||this;return I._element=y,I._screenElement=m,I._linkifier=M,I._bufferService=E,I._coreService=W,I._mouseService=A,I._optionsService=L,I._renderService=B,I._dragScrollAmount=0,I._enabled=!0,I._workCell=new o.CellData,I._mouseDownTimeStamp=0,I._oldHasSelection=!1,I._oldSelectionStart=void 0,I._oldSelectionEnd=void 0,I._onLinuxMouseSelection=I.register(new c.EventEmitter),I._onRedrawRequest=I.register(new c.EventEmitter),I._onSelectionChange=I.register(new c.EventEmitter),I._onRequestScrollLines=I.register(new c.EventEmitter),I._mouseMoveListener=function(F){return I._onMouseMove(F)},I._mouseUpListener=function(F){return I._onMouseUp(F)},I._coreService.onUserInput(function(){I.hasSelection&&I.clearSelection()}),I._trimListener=I._bufferService.buffer.lines.onTrim(function(F){return I._onTrim(F)}),I.register(I._bufferService.buffers.onBufferActivate(function(F){return I._onBufferActivate(F)})),I.enable(),I._model=new b.SelectionModel(I._bufferService),I._activeSelectionMode=0,I}return h(S,w),Object.defineProperty(S.prototype,"onLinuxMouseSelection",{get:function(){return this._onLinuxMouseSelection.event},enumerable:!1,configurable:!0}),Object.defineProperty(S.prototype,"onRequestRedraw",{get:function(){return this._onRedrawRequest.event},enumerable:!1,configurable:!0}),Object.defineProperty(S.prototype,"onSelectionChange",{get:function(){return this._onSelectionChange.event},enumerable:!1,configurable:!0}),Object.defineProperty(S.prototype,"onRequestScrollLines",{get:function(){return this._onRequestScrollLines.event},enumerable:!1,configurable:!0}),S.prototype.dispose=function(){this._removeMouseDownListeners()},S.prototype.reset=function(){this.clearSelection()},S.prototype.disable=function(){this.clearSelection(),this._enabled=!1},S.prototype.enable=function(){this._enabled=!0},Object.defineProperty(S.prototype,"selectionStart",{get:function(){return this._model.finalSelectionStart},enumerable:!1,configurable:!0}),Object.defineProperty(S.prototype,"selectionEnd",{get:function(){return this._model.finalSelectionEnd},enumerable:!1,configurable:!0}),Object.defineProperty(S.prototype,"hasSelection",{get:function(){var y=this._model.finalSelectionStart,m=this._model.finalSelectionEnd;return!(!y||!m||y[0]===m[0]&&y[1]===m[1])},enumerable:!1,configurable:!0}),Object.defineProperty(S.prototype,"selectionText",{get:function(){var y=this._model.finalSelectionStart,m=this._model.finalSelectionEnd;if(!y||!m)return"";var M=this._bufferService.buffer,E=[];if(this._activeSelectionMode===3){if(y[0]===m[0])return"";for(var W=y[1];W<=m[1];W++){var A=M.translateBufferLineToString(W,!0,y[0],m[0]);E.push(A)}}else{var L=y[1]===m[1]?m[0]:void 0;for(E.push(M.translateBufferLineToString(y[1],!0,y[0],L)),W=y[1]+1;W<=m[1]-1;W++){var B=M.lines.get(W);A=M.translateBufferLineToString(W,!0),B?.isWrapped?E[E.length-1]+=A:E.push(A)}y[1]!==m[1]&&(B=M.lines.get(m[1]),A=M.translateBufferLineToString(m[1],!0,0,m[0]),B&&B.isWrapped?E[E.length-1]+=A:E.push(A))}return E.map(function(I){return I.replace(_," ")}).join(v.isWindows?`\r
`:`
`)},enumerable:!1,configurable:!0}),S.prototype.clearSelection=function(){this._model.clearSelection(),this._removeMouseDownListeners(),this.refresh(),this._onSelectionChange.fire()},S.prototype.refresh=function(y){var m=this;this._refreshAnimationFrame||(this._refreshAnimationFrame=window.requestAnimationFrame(function(){return m._refresh()})),v.isLinux&&y&&this.selectionText.length&&this._onLinuxMouseSelection.fire(this.selectionText)},S.prototype._refresh=function(){this._refreshAnimationFrame=void 0,this._onRedrawRequest.fire({start:this._model.finalSelectionStart,end:this._model.finalSelectionEnd,columnSelectMode:this._activeSelectionMode===3})},S.prototype._isClickInSelection=function(y){var m=this._getMouseBufferCoords(y),M=this._model.finalSelectionStart,E=this._model.finalSelectionEnd;return!!(M&&E&&m)&&this._areCoordsInSelection(m,M,E)},S.prototype._areCoordsInSelection=function(y,m,M){return y[1]>m[1]&&y[1]<M[1]||m[1]===M[1]&&y[1]===m[1]&&y[0]>=m[0]&&y[0]<M[0]||m[1]<M[1]&&y[1]===M[1]&&y[0]<M[0]||m[1]<M[1]&&y[1]===m[1]&&y[0]>=m[0]},S.prototype._selectWordAtCursor=function(y,m){var M,E,W=(E=(M=this._linkifier.currentLink)===null||M===void 0?void 0:M.link)===null||E===void 0?void 0:E.range;if(W)return this._model.selectionStart=[W.start.x-1,W.start.y-1],this._model.selectionStartLength=(0,s.getRangeLength)(W,this._bufferService.cols),this._model.selectionEnd=void 0,!0;var A=this._getMouseBufferCoords(y);return!!A&&(this._selectWordAt(A,m),this._model.selectionEnd=void 0,!0)},S.prototype.selectAll=function(){this._model.isSelectAllActive=!0,this.refresh(),this._onSelectionChange.fire()},S.prototype.selectLines=function(y,m){this._model.clearSelection(),y=Math.max(y,0),m=Math.min(m,this._bufferService.buffer.lines.length-1),this._model.selectionStart=[0,y],this._model.selectionEnd=[this._bufferService.cols,m],this.refresh(),this._onSelectionChange.fire()},S.prototype._onTrim=function(y){this._model.onTrim(y)&&this.refresh()},S.prototype._getMouseBufferCoords=function(y){var m=this._mouseService.getCoords(y,this._screenElement,this._bufferService.cols,this._bufferService.rows,!0);if(m)return m[0]--,m[1]--,m[1]+=this._bufferService.buffer.ydisp,m},S.prototype._getMouseEventScrollAmount=function(y){var m=(0,t.getCoordsRelativeToElement)(y,this._screenElement)[1],M=this._renderService.dimensions.canvasHeight;return m>=0&&m<=M?0:(m>M&&(m-=M),m=Math.min(Math.max(m,-50),50),(m/=50)/Math.abs(m)+Math.round(14*m))},S.prototype.shouldForceSelection=function(y){return v.isMac?y.altKey&&this._optionsService.rawOptions.macOptionClickForcesSelection:y.shiftKey},S.prototype.onMouseDown=function(y){if(this._mouseDownTimeStamp=y.timeStamp,(y.button!==2||!this.hasSelection)&&y.button===0){if(!this._enabled){if(!this.shouldForceSelection(y))return;y.stopPropagation()}y.preventDefault(),this._dragScrollAmount=0,this._enabled&&y.shiftKey?this._onIncrementalClick(y):y.detail===1?this._onSingleClick(y):y.detail===2?this._onDoubleClick(y):y.detail===3&&this._onTripleClick(y),this._addMouseDownListeners(),this.refresh(!0)}},S.prototype._addMouseDownListeners=function(){var y=this;this._screenElement.ownerDocument&&(this._screenElement.ownerDocument.addEventListener("mousemove",this._mouseMoveListener),this._screenElement.ownerDocument.addEventListener("mouseup",this._mouseUpListener)),this._dragScrollIntervalTimer=window.setInterval(function(){return y._dragScroll()},50)},S.prototype._removeMouseDownListeners=function(){this._screenElement.ownerDocument&&(this._screenElement.ownerDocument.removeEventListener("mousemove",this._mouseMoveListener),this._screenElement.ownerDocument.removeEventListener("mouseup",this._mouseUpListener)),clearInterval(this._dragScrollIntervalTimer),this._dragScrollIntervalTimer=void 0},S.prototype._onIncrementalClick=function(y){this._model.selectionStart&&(this._model.selectionEnd=this._getMouseBufferCoords(y))},S.prototype._onSingleClick=function(y){if(this._model.selectionStartLength=0,this._model.isSelectAllActive=!1,this._activeSelectionMode=this.shouldColumnSelect(y)?3:0,this._model.selectionStart=this._getMouseBufferCoords(y),this._model.selectionStart){this._model.selectionEnd=void 0;var m=this._bufferService.buffer.lines.get(this._model.selectionStart[1]);m&&m.length!==this._model.selectionStart[0]&&m.hasWidth(this._model.selectionStart[0])===0&&this._model.selectionStart[0]++}},S.prototype._onDoubleClick=function(y){this._selectWordAtCursor(y,!0)&&(this._activeSelectionMode=1)},S.prototype._onTripleClick=function(y){var m=this._getMouseBufferCoords(y);m&&(this._activeSelectionMode=2,this._selectLineAt(m[1]))},S.prototype.shouldColumnSelect=function(y){return y.altKey&&!(v.isMac&&this._optionsService.rawOptions.macOptionClickForcesSelection)},S.prototype._onMouseMove=function(y){if(y.stopImmediatePropagation(),this._model.selectionStart){var m=this._model.selectionEnd?[this._model.selectionEnd[0],this._model.selectionEnd[1]]:null;if(this._model.selectionEnd=this._getMouseBufferCoords(y),this._model.selectionEnd){this._activeSelectionMode===2?this._model.selectionEnd[1]<this._model.selectionStart[1]?this._model.selectionEnd[0]=0:this._model.selectionEnd[0]=this._bufferService.cols:this._activeSelectionMode===1&&this._selectToWordAt(this._model.selectionEnd),this._dragScrollAmount=this._getMouseEventScrollAmount(y),this._activeSelectionMode!==3&&(this._dragScrollAmount>0?this._model.selectionEnd[0]=this._bufferService.cols:this._dragScrollAmount<0&&(this._model.selectionEnd[0]=0));var M=this._bufferService.buffer;if(this._model.selectionEnd[1]<M.lines.length){var E=M.lines.get(this._model.selectionEnd[1]);E&&E.hasWidth(this._model.selectionEnd[0])===0&&this._model.selectionEnd[0]++}m&&m[0]===this._model.selectionEnd[0]&&m[1]===this._model.selectionEnd[1]||this.refresh(!0)}else this.refresh(!0)}},S.prototype._dragScroll=function(){if(this._model.selectionEnd&&this._model.selectionStart&&this._dragScrollAmount){this._onRequestScrollLines.fire({amount:this._dragScrollAmount,suppressScrollEvent:!1});var y=this._bufferService.buffer;this._dragScrollAmount>0?(this._activeSelectionMode!==3&&(this._model.selectionEnd[0]=this._bufferService.cols),this._model.selectionEnd[1]=Math.min(y.ydisp+this._bufferService.rows,y.lines.length-1)):(this._activeSelectionMode!==3&&(this._model.selectionEnd[0]=0),this._model.selectionEnd[1]=y.ydisp),this.refresh()}},S.prototype._onMouseUp=function(y){var m=y.timeStamp-this._mouseDownTimeStamp;if(this._removeMouseDownListeners(),this.selectionText.length<=1&&m<500&&y.altKey&&this._optionsService.getOption("altClickMovesCursor")){if(this._bufferService.buffer.ybase===this._bufferService.buffer.ydisp){var M=this._mouseService.getCoords(y,this._element,this._bufferService.cols,this._bufferService.rows,!1);if(M&&M[0]!==void 0&&M[1]!==void 0){var E=(0,e.moveToCellSequence)(M[0]-1,M[1]-1,this._bufferService,this._coreService.decPrivateModes.applicationCursorKeys);this._coreService.triggerDataEvent(E,!0)}}}else this._fireEventIfSelectionChanged()},S.prototype._fireEventIfSelectionChanged=function(){var y=this._model.finalSelectionStart,m=this._model.finalSelectionEnd,M=!(!y||!m||y[0]===m[0]&&y[1]===m[1]);M?y&&m&&(this._oldSelectionStart&&this._oldSelectionEnd&&y[0]===this._oldSelectionStart[0]&&y[1]===this._oldSelectionStart[1]&&m[0]===this._oldSelectionEnd[0]&&m[1]===this._oldSelectionEnd[1]||this._fireOnSelectionChange(y,m,M)):this._oldHasSelection&&this._fireOnSelectionChange(y,m,M)},S.prototype._fireOnSelectionChange=function(y,m,M){this._oldSelectionStart=y,this._oldSelectionEnd=m,this._oldHasSelection=M,this._onSelectionChange.fire()},S.prototype._onBufferActivate=function(y){var m=this;this.clearSelection(),this._trimListener.dispose(),this._trimListener=y.activeBuffer.lines.onTrim(function(M){return m._onTrim(M)})},S.prototype._convertViewportColToCharacterIndex=function(y,m){for(var M=m[0],E=0;m[0]>=E;E++){var W=y.loadCell(E,this._workCell).getChars().length;this._workCell.getWidth()===0?M--:W>1&&m[0]!==E&&(M+=W-1)}return M},S.prototype.setSelection=function(y,m,M){this._model.clearSelection(),this._removeMouseDownListeners(),this._model.selectionStart=[y,m],this._model.selectionStartLength=M,this.refresh()},S.prototype.rightClickSelect=function(y){this._isClickInSelection(y)||(this._selectWordAtCursor(y,!1)&&this.refresh(!0),this._fireEventIfSelectionChanged())},S.prototype._getWordAt=function(y,m,M,E){if(M===void 0&&(M=!0),E===void 0&&(E=!0),!(y[0]>=this._bufferService.cols)){var W=this._bufferService.buffer,A=W.lines.get(y[1]);if(A){var L=W.translateBufferLineToString(y[1],!1),B=this._convertViewportColToCharacterIndex(A,y),I=B,F=y[0]-B,N=0,G=0,J=0,V=0;if(L.charAt(B)===" "){for(;B>0&&L.charAt(B-1)===" ";)B--;for(;I<L.length&&L.charAt(I+1)===" ";)I++}else{var Z=y[0],R=y[0];A.getWidth(Z)===0&&(N++,Z--),A.getWidth(R)===2&&(G++,R++);var q=A.getString(R).length;for(q>1&&(V+=q-1,I+=q-1);Z>0&&B>0&&!this._isCharWordSeparator(A.loadCell(Z-1,this._workCell));){A.loadCell(Z-1,this._workCell);var T=this._workCell.getChars().length;this._workCell.getWidth()===0?(N++,Z--):T>1&&(J+=T-1,B-=T-1),B--,Z--}for(;R<A.length&&I+1<L.length&&!this._isCharWordSeparator(A.loadCell(R+1,this._workCell));){A.loadCell(R+1,this._workCell);var P=this._workCell.getChars().length;this._workCell.getWidth()===2?(G++,R++):P>1&&(V+=P-1,I+=P-1),I++,R++}}I++;var O=B+F-N+J,z=Math.min(this._bufferService.cols,I-B+N+G-J-V);if(m||L.slice(B,I).trim()!==""){if(M&&O===0&&A.getCodePoint(0)!==32){var K=W.lines.get(y[1]-1);if(K&&A.isWrapped&&K.getCodePoint(this._bufferService.cols-1)!==32){var X=this._getWordAt([this._bufferService.cols-1,y[1]-1],!1,!0,!1);if(X){var $=this._bufferService.cols-X.start;O-=$,z+=$}}}if(E&&O+z===this._bufferService.cols&&A.getCodePoint(this._bufferService.cols-1)!==32){var Q=W.lines.get(y[1]+1);if(Q?.isWrapped&&Q.getCodePoint(0)!==32){var he=this._getWordAt([0,y[1]+1],!1,!1,!0);he&&(z+=he.length)}}return{start:O,length:z}}}}},S.prototype._selectWordAt=function(y,m){var M=this._getWordAt(y,m);if(M){for(;M.start<0;)M.start+=this._bufferService.cols,y[1]--;this._model.selectionStart=[M.start,y[1]],this._model.selectionStartLength=M.length}},S.prototype._selectToWordAt=function(y){var m=this._getWordAt(y,!0);if(m){for(var M=y[1];m.start<0;)m.start+=this._bufferService.cols,M--;if(!this._model.areSelectionValuesReversed())for(;m.start+m.length>this._bufferService.cols;)m.length-=this._bufferService.cols,M++;this._model.selectionEnd=[this._model.areSelectionValuesReversed()?m.start:m.start+m.length,M]}},S.prototype._isCharWordSeparator=function(y){return y.getWidth()!==0&&this._optionsService.rawOptions.wordSeparator.indexOf(y.getChars())>=0},S.prototype._selectLineAt=function(y){var m=this._bufferService.buffer.getWrappedRangeForLine(y);this._model.selectionStart=[0,m.first],this._model.selectionEnd=[this._bufferService.cols,m.last],this._model.selectionStartLength=0},u([f(3,n.IBufferService),f(4,n.ICoreService),f(5,d.IMouseService),f(6,n.IOptionsService),f(7,d.IRenderService)],S)}(r.Disposable);i.SelectionService=p},4725:(D,i,g)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.IDecorationService=i.ICharacterJoinerService=i.ISoundService=i.ISelectionService=i.IRenderService=i.IMouseService=i.ICoreBrowserService=i.ICharSizeService=void 0;var a=g(8343);i.ICharSizeService=(0,a.createDecorator)("CharSizeService"),i.ICoreBrowserService=(0,a.createDecorator)("CoreBrowserService"),i.IMouseService=(0,a.createDecorator)("MouseService"),i.IRenderService=(0,a.createDecorator)("RenderService"),i.ISelectionService=(0,a.createDecorator)("SelectionService"),i.ISoundService=(0,a.createDecorator)("SoundService"),i.ICharacterJoinerService=(0,a.createDecorator)("CharacterJoinerService"),i.IDecorationService=(0,a.createDecorator)("DecorationService")},357:function(D,i,g){var a=this&&this.__decorate||function(v,b,o,c){var d,n=arguments.length,t=n<3?b:c===null?c=Object.getOwnPropertyDescriptor(b,o):c;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")t=Reflect.decorate(v,b,o,c);else for(var e=v.length-1;e>=0;e--)(d=v[e])&&(t=(n<3?d(t):n>3?d(b,o,t):d(b,o))||t);return n>3&&t&&Object.defineProperty(b,o,t),t},h=this&&this.__param||function(v,b){return function(o,c){b(o,c,v)}};Object.defineProperty(i,"__esModule",{value:!0}),i.SoundService=void 0;var u=g(2585),f=function(){function v(b){this._optionsService=b}return Object.defineProperty(v,"audioContext",{get:function(){if(!v._audioContext){var b=window.AudioContext||window.webkitAudioContext;if(!b)return console.warn("Web Audio API is not supported by this browser. Consider upgrading to the latest version"),null;v._audioContext=new b}return v._audioContext},enumerable:!1,configurable:!0}),v.prototype.playBellSound=function(){var b=v.audioContext;if(b){var o=b.createBufferSource();b.decodeAudioData(this._base64ToArrayBuffer(this._removeMimeType(this._optionsService.rawOptions.bellSound)),function(c){o.buffer=c,o.connect(b.destination),o.start(0)})}},v.prototype._base64ToArrayBuffer=function(b){for(var o=window.atob(b),c=o.length,d=new Uint8Array(c),n=0;n<c;n++)d[n]=o.charCodeAt(n);return d.buffer},v.prototype._removeMimeType=function(b){return b.split(",")[1]},v=a([h(0,u.IOptionsService)],v)}();i.SoundService=f},6349:(D,i,g)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.CircularList=void 0;var a=g(8460),h=function(){function u(f){this._maxLength=f,this.onDeleteEmitter=new a.EventEmitter,this.onInsertEmitter=new a.EventEmitter,this.onTrimEmitter=new a.EventEmitter,this._array=new Array(this._maxLength),this._startIndex=0,this._length=0}return Object.defineProperty(u.prototype,"onDelete",{get:function(){return this.onDeleteEmitter.event},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"onInsert",{get:function(){return this.onInsertEmitter.event},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"onTrim",{get:function(){return this.onTrimEmitter.event},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"maxLength",{get:function(){return this._maxLength},set:function(f){if(this._maxLength!==f){for(var v=new Array(f),b=0;b<Math.min(f,this.length);b++)v[b]=this._array[this._getCyclicIndex(b)];this._array=v,this._maxLength=f,this._startIndex=0}},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"length",{get:function(){return this._length},set:function(f){if(f>this._length)for(var v=this._length;v<f;v++)this._array[v]=void 0;this._length=f},enumerable:!1,configurable:!0}),u.prototype.get=function(f){return this._array[this._getCyclicIndex(f)]},u.prototype.set=function(f,v){this._array[this._getCyclicIndex(f)]=v},u.prototype.push=function(f){this._array[this._getCyclicIndex(this._length)]=f,this._length===this._maxLength?(this._startIndex=++this._startIndex%this._maxLength,this.onTrimEmitter.fire(1)):this._length++},u.prototype.recycle=function(){if(this._length!==this._maxLength)throw new Error("Can only recycle when the buffer is full");return this._startIndex=++this._startIndex%this._maxLength,this.onTrimEmitter.fire(1),this._array[this._getCyclicIndex(this._length-1)]},Object.defineProperty(u.prototype,"isFull",{get:function(){return this._length===this._maxLength},enumerable:!1,configurable:!0}),u.prototype.pop=function(){return this._array[this._getCyclicIndex(this._length---1)]},u.prototype.splice=function(f,v){for(var b=[],o=2;o<arguments.length;o++)b[o-2]=arguments[o];if(v){for(var c=f;c<this._length-v;c++)this._array[this._getCyclicIndex(c)]=this._array[this._getCyclicIndex(c+v)];this._length-=v,this.onDeleteEmitter.fire({index:f,amount:v})}for(c=this._length-1;c>=f;c--)this._array[this._getCyclicIndex(c+b.length)]=this._array[this._getCyclicIndex(c)];for(c=0;c<b.length;c++)this._array[this._getCyclicIndex(f+c)]=b[c];if(b.length&&this.onInsertEmitter.fire({index:f,amount:b.length}),this._length+b.length>this._maxLength){var d=this._length+b.length-this._maxLength;this._startIndex+=d,this._length=this._maxLength,this.onTrimEmitter.fire(d)}else this._length+=b.length},u.prototype.trimStart=function(f){f>this._length&&(f=this._length),this._startIndex+=f,this._length-=f,this.onTrimEmitter.fire(f)},u.prototype.shiftElements=function(f,v,b){if(!(v<=0)){if(f<0||f>=this._length)throw new Error("start argument out of range");if(f+b<0)throw new Error("Cannot shift elements in list beyond index 0");if(b>0){for(var o=v-1;o>=0;o--)this.set(f+o+b,this.get(f+o));var c=f+v+b-this._length;if(c>0)for(this._length+=c;this._length>this._maxLength;)this._length--,this._startIndex++,this.onTrimEmitter.fire(1)}else for(o=0;o<v;o++)this.set(f+o+b,this.get(f+o))}},u.prototype._getCyclicIndex=function(f){return(this._startIndex+f)%this._maxLength},u}();i.CircularList=h},1439:(D,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.clone=void 0,i.clone=function g(a,h){if(h===void 0&&(h=5),typeof a!="object")return a;var u=Array.isArray(a)?[]:{};for(var f in a)u[f]=h<=1?a[f]:a[f]&&g(a[f],h-1);return u}},8969:function(D,i,g){var a,h=this&&this.__extends||(a=function(y,m){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(M,E){M.__proto__=E}||function(M,E){for(var W in E)Object.prototype.hasOwnProperty.call(E,W)&&(M[W]=E[W])},a(y,m)},function(y,m){if(typeof m!="function"&&m!==null)throw new TypeError("Class extends value "+String(m)+" is not a constructor or null");function M(){this.constructor=y}a(y,m),y.prototype=m===null?Object.create(m):(M.prototype=m.prototype,new M)});Object.defineProperty(i,"__esModule",{value:!0}),i.CoreTerminal=void 0;var u=g(844),f=g(2585),v=g(4348),b=g(7866),o=g(744),c=g(7302),d=g(6975),n=g(8460),t=g(1753),e=g(3730),r=g(1480),s=g(7994),l=g(9282),_=g(5435),p=g(5981),w=!1,S=function(y){function m(M){var E=y.call(this)||this;return E._onBinary=new n.EventEmitter,E._onData=new n.EventEmitter,E._onLineFeed=new n.EventEmitter,E._onResize=new n.EventEmitter,E._onScroll=new n.EventEmitter,E._instantiationService=new v.InstantiationService,E.optionsService=new c.OptionsService(M),E._instantiationService.setService(f.IOptionsService,E.optionsService),E._bufferService=E.register(E._instantiationService.createInstance(o.BufferService)),E._instantiationService.setService(f.IBufferService,E._bufferService),E._logService=E._instantiationService.createInstance(b.LogService),E._instantiationService.setService(f.ILogService,E._logService),E.coreService=E.register(E._instantiationService.createInstance(d.CoreService,function(){return E.scrollToBottom()})),E._instantiationService.setService(f.ICoreService,E.coreService),E.coreMouseService=E._instantiationService.createInstance(t.CoreMouseService),E._instantiationService.setService(f.ICoreMouseService,E.coreMouseService),E._dirtyRowService=E._instantiationService.createInstance(e.DirtyRowService),E._instantiationService.setService(f.IDirtyRowService,E._dirtyRowService),E.unicodeService=E._instantiationService.createInstance(r.UnicodeService),E._instantiationService.setService(f.IUnicodeService,E.unicodeService),E._charsetService=E._instantiationService.createInstance(s.CharsetService),E._instantiationService.setService(f.ICharsetService,E._charsetService),E._inputHandler=new _.InputHandler(E._bufferService,E._charsetService,E.coreService,E._dirtyRowService,E._logService,E.optionsService,E.coreMouseService,E.unicodeService),E.register((0,n.forwardEvent)(E._inputHandler.onLineFeed,E._onLineFeed)),E.register(E._inputHandler),E.register((0,n.forwardEvent)(E._bufferService.onResize,E._onResize)),E.register((0,n.forwardEvent)(E.coreService.onData,E._onData)),E.register((0,n.forwardEvent)(E.coreService.onBinary,E._onBinary)),E.register(E.optionsService.onOptionChange(function(W){return E._updateOptions(W)})),E.register(E._bufferService.onScroll(function(W){E._onScroll.fire({position:E._bufferService.buffer.ydisp,source:0}),E._dirtyRowService.markRangeDirty(E._bufferService.buffer.scrollTop,E._bufferService.buffer.scrollBottom)})),E.register(E._inputHandler.onScroll(function(W){E._onScroll.fire({position:E._bufferService.buffer.ydisp,source:0}),E._dirtyRowService.markRangeDirty(E._bufferService.buffer.scrollTop,E._bufferService.buffer.scrollBottom)})),E._writeBuffer=new p.WriteBuffer(function(W,A){return E._inputHandler.parse(W,A)}),E}return h(m,y),Object.defineProperty(m.prototype,"onBinary",{get:function(){return this._onBinary.event},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"onData",{get:function(){return this._onData.event},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"onLineFeed",{get:function(){return this._onLineFeed.event},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"onResize",{get:function(){return this._onResize.event},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"onScroll",{get:function(){var M=this;return this._onScrollApi||(this._onScrollApi=new n.EventEmitter,this.register(this._onScroll.event(function(E){var W;(W=M._onScrollApi)===null||W===void 0||W.fire(E.position)}))),this._onScrollApi.event},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"cols",{get:function(){return this._bufferService.cols},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"rows",{get:function(){return this._bufferService.rows},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"buffers",{get:function(){return this._bufferService.buffers},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"options",{get:function(){return this.optionsService.options},set:function(M){for(var E in M)this.optionsService.options[E]=M[E]},enumerable:!1,configurable:!0}),m.prototype.dispose=function(){var M;this._isDisposed||(y.prototype.dispose.call(this),(M=this._windowsMode)===null||M===void 0||M.dispose(),this._windowsMode=void 0)},m.prototype.write=function(M,E){this._writeBuffer.write(M,E)},m.prototype.writeSync=function(M,E){this._logService.logLevel<=f.LogLevelEnum.WARN&&!w&&(this._logService.warn("writeSync is unreliable and will be removed soon."),w=!0),this._writeBuffer.writeSync(M,E)},m.prototype.resize=function(M,E){isNaN(M)||isNaN(E)||(M=Math.max(M,o.MINIMUM_COLS),E=Math.max(E,o.MINIMUM_ROWS),this._bufferService.resize(M,E))},m.prototype.scroll=function(M,E){E===void 0&&(E=!1),this._bufferService.scroll(M,E)},m.prototype.scrollLines=function(M,E,W){this._bufferService.scrollLines(M,E,W)},m.prototype.scrollPages=function(M){this._bufferService.scrollPages(M)},m.prototype.scrollToTop=function(){this._bufferService.scrollToTop()},m.prototype.scrollToBottom=function(){this._bufferService.scrollToBottom()},m.prototype.scrollToLine=function(M){this._bufferService.scrollToLine(M)},m.prototype.registerEscHandler=function(M,E){return this._inputHandler.registerEscHandler(M,E)},m.prototype.registerDcsHandler=function(M,E){return this._inputHandler.registerDcsHandler(M,E)},m.prototype.registerCsiHandler=function(M,E){return this._inputHandler.registerCsiHandler(M,E)},m.prototype.registerOscHandler=function(M,E){return this._inputHandler.registerOscHandler(M,E)},m.prototype._setup=function(){this.optionsService.rawOptions.windowsMode&&this._enableWindowsMode()},m.prototype.reset=function(){this._inputHandler.reset(),this._bufferService.reset(),this._charsetService.reset(),this.coreService.reset(),this.coreMouseService.reset()},m.prototype._updateOptions=function(M){var E;switch(M){case"scrollback":this.buffers.resize(this.cols,this.rows);break;case"windowsMode":this.optionsService.rawOptions.windowsMode?this._enableWindowsMode():((E=this._windowsMode)===null||E===void 0||E.dispose(),this._windowsMode=void 0)}},m.prototype._enableWindowsMode=function(){var M=this;if(!this._windowsMode){var E=[];E.push(this.onLineFeed(l.updateWindowsModeWrappedState.bind(null,this._bufferService))),E.push(this.registerCsiHandler({final:"H"},function(){return(0,l.updateWindowsModeWrappedState)(M._bufferService),!1})),this._windowsMode={dispose:function(){for(var W=0,A=E;W<A.length;W++)A[W].dispose()}}}},m}(u.Disposable);i.CoreTerminal=S},8460:(D,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.forwardEvent=i.EventEmitter=void 0;var g=function(){function a(){this._listeners=[],this._disposed=!1}return Object.defineProperty(a.prototype,"event",{get:function(){var h=this;return this._event||(this._event=function(u){return h._listeners.push(u),{dispose:function(){if(!h._disposed){for(var f=0;f<h._listeners.length;f++)if(h._listeners[f]===u)return void h._listeners.splice(f,1)}}}}),this._event},enumerable:!1,configurable:!0}),a.prototype.fire=function(h,u){for(var f=[],v=0;v<this._listeners.length;v++)f.push(this._listeners[v]);for(v=0;v<f.length;v++)f[v].call(void 0,h,u)},a.prototype.dispose=function(){this._listeners&&(this._listeners.length=0),this._disposed=!0},a}();i.EventEmitter=g,i.forwardEvent=function(a,h){return a(function(u){return h.fire(u)})}},5435:function(D,i,g){var a,h=this&&this.__extends||(a=function(W,A){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(L,B){L.__proto__=B}||function(L,B){for(var I in B)Object.prototype.hasOwnProperty.call(B,I)&&(L[I]=B[I])},a(W,A)},function(W,A){if(typeof A!="function"&&A!==null)throw new TypeError("Class extends value "+String(A)+" is not a constructor or null");function L(){this.constructor=W}a(W,A),W.prototype=A===null?Object.create(A):(L.prototype=A.prototype,new L)});Object.defineProperty(i,"__esModule",{value:!0}),i.InputHandler=i.WindowsOptionsReportType=void 0;var u,f=g(2584),v=g(7116),b=g(2015),o=g(844),c=g(8273),d=g(482),n=g(8437),t=g(8460),e=g(643),r=g(511),s=g(3734),l=g(2585),_=g(6242),p=g(6351),w=g(5941),S={"(":0,")":1,"*":2,"+":3,"-":1,".":2},y=131072;function m(W,A){if(W>24)return A.setWinLines||!1;switch(W){case 1:return!!A.restoreWin;case 2:return!!A.minimizeWin;case 3:return!!A.setWinPosition;case 4:return!!A.setWinSizePixels;case 5:return!!A.raiseWin;case 6:return!!A.lowerWin;case 7:return!!A.refreshWin;case 8:return!!A.setWinSizeChars;case 9:return!!A.maximizeWin;case 10:return!!A.fullscreenWin;case 11:return!!A.getWinState;case 13:return!!A.getWinPosition;case 14:return!!A.getWinSizePixels;case 15:return!!A.getScreenSizePixels;case 16:return!!A.getCellSizePixels;case 18:return!!A.getWinSizeChars;case 19:return!!A.getScreenSizeChars;case 20:return!!A.getIconTitle;case 21:return!!A.getWinTitle;case 22:return!!A.pushTitle;case 23:return!!A.popTitle;case 24:return!!A.setWinLines}return!1}(function(W){W[W.GET_WIN_SIZE_PIXELS=0]="GET_WIN_SIZE_PIXELS",W[W.GET_CELL_SIZE_PIXELS=1]="GET_CELL_SIZE_PIXELS"})(u=i.WindowsOptionsReportType||(i.WindowsOptionsReportType={}));var M=function(){function W(A,L,B,I){this._bufferService=A,this._coreService=L,this._logService=B,this._optionsService=I,this._data=new Uint32Array(0)}return W.prototype.hook=function(A){this._data=new Uint32Array(0)},W.prototype.put=function(A,L,B){this._data=(0,c.concat)(this._data,A.subarray(L,B))},W.prototype.unhook=function(A){if(!A)return this._data=new Uint32Array(0),!0;var L=(0,d.utf32ToString)(this._data);switch(this._data=new Uint32Array(0),L){case'"q':this._coreService.triggerDataEvent(f.C0.ESC+'P1$r0"q'+f.C0.ESC+"\\");break;case'"p':this._coreService.triggerDataEvent(f.C0.ESC+'P1$r61;1"p'+f.C0.ESC+"\\");break;case"r":var B=this._bufferService.buffer.scrollTop+1+";"+(this._bufferService.buffer.scrollBottom+1)+"r";this._coreService.triggerDataEvent(f.C0.ESC+"P1$r"+B+f.C0.ESC+"\\");break;case"m":this._coreService.triggerDataEvent(f.C0.ESC+"P1$r0m"+f.C0.ESC+"\\");break;case" q":var I={block:2,underline:4,bar:6}[this._optionsService.rawOptions.cursorStyle];I-=this._optionsService.rawOptions.cursorBlink?1:0,this._coreService.triggerDataEvent(f.C0.ESC+"P1$r"+I+" q"+f.C0.ESC+"\\");break;default:this._logService.debug("Unknown DCS $q %s",L),this._coreService.triggerDataEvent(f.C0.ESC+"P0$r"+f.C0.ESC+"\\")}return!0},W}(),E=function(W){function A(L,B,I,F,N,G,J,V,Z){Z===void 0&&(Z=new b.EscapeSequenceParser);var R=W.call(this)||this;R._bufferService=L,R._charsetService=B,R._coreService=I,R._dirtyRowService=F,R._logService=N,R._optionsService=G,R._coreMouseService=J,R._unicodeService=V,R._parser=Z,R._parseBuffer=new Uint32Array(4096),R._stringDecoder=new d.StringToUtf32,R._utf8Decoder=new d.Utf8ToUtf32,R._workCell=new r.CellData,R._windowTitle="",R._iconName="",R._windowTitleStack=[],R._iconNameStack=[],R._curAttrData=n.DEFAULT_ATTR_DATA.clone(),R._eraseAttrDataInternal=n.DEFAULT_ATTR_DATA.clone(),R._onRequestBell=new t.EventEmitter,R._onRequestRefreshRows=new t.EventEmitter,R._onRequestReset=new t.EventEmitter,R._onRequestSendFocus=new t.EventEmitter,R._onRequestSyncScrollBar=new t.EventEmitter,R._onRequestWindowsOptionsReport=new t.EventEmitter,R._onA11yChar=new t.EventEmitter,R._onA11yTab=new t.EventEmitter,R._onCursorMove=new t.EventEmitter,R._onLineFeed=new t.EventEmitter,R._onScroll=new t.EventEmitter,R._onTitleChange=new t.EventEmitter,R._onColor=new t.EventEmitter,R._parseStack={paused:!1,cursorStartX:0,cursorStartY:0,decodedLength:0,position:0},R._specialColors=[256,257,258],R.register(R._parser),R._activeBuffer=R._bufferService.buffer,R.register(R._bufferService.buffers.onBufferActivate(function(O){return R._activeBuffer=O.activeBuffer})),R._parser.setCsiHandlerFallback(function(O,z){R._logService.debug("Unknown CSI code: ",{identifier:R._parser.identToString(O),params:z.toArray()})}),R._parser.setEscHandlerFallback(function(O){R._logService.debug("Unknown ESC code: ",{identifier:R._parser.identToString(O)})}),R._parser.setExecuteHandlerFallback(function(O){R._logService.debug("Unknown EXECUTE code: ",{code:O})}),R._parser.setOscHandlerFallback(function(O,z,K){R._logService.debug("Unknown OSC code: ",{identifier:O,action:z,data:K})}),R._parser.setDcsHandlerFallback(function(O,z,K){z==="HOOK"&&(K=K.toArray()),R._logService.debug("Unknown DCS code: ",{identifier:R._parser.identToString(O),action:z,payload:K})}),R._parser.setPrintHandler(function(O,z,K){return R.print(O,z,K)}),R._parser.registerCsiHandler({final:"@"},function(O){return R.insertChars(O)}),R._parser.registerCsiHandler({intermediates:" ",final:"@"},function(O){return R.scrollLeft(O)}),R._parser.registerCsiHandler({final:"A"},function(O){return R.cursorUp(O)}),R._parser.registerCsiHandler({intermediates:" ",final:"A"},function(O){return R.scrollRight(O)}),R._parser.registerCsiHandler({final:"B"},function(O){return R.cursorDown(O)}),R._parser.registerCsiHandler({final:"C"},function(O){return R.cursorForward(O)}),R._parser.registerCsiHandler({final:"D"},function(O){return R.cursorBackward(O)}),R._parser.registerCsiHandler({final:"E"},function(O){return R.cursorNextLine(O)}),R._parser.registerCsiHandler({final:"F"},function(O){return R.cursorPrecedingLine(O)}),R._parser.registerCsiHandler({final:"G"},function(O){return R.cursorCharAbsolute(O)}),R._parser.registerCsiHandler({final:"H"},function(O){return R.cursorPosition(O)}),R._parser.registerCsiHandler({final:"I"},function(O){return R.cursorForwardTab(O)}),R._parser.registerCsiHandler({final:"J"},function(O){return R.eraseInDisplay(O)}),R._parser.registerCsiHandler({prefix:"?",final:"J"},function(O){return R.eraseInDisplay(O)}),R._parser.registerCsiHandler({final:"K"},function(O){return R.eraseInLine(O)}),R._parser.registerCsiHandler({prefix:"?",final:"K"},function(O){return R.eraseInLine(O)}),R._parser.registerCsiHandler({final:"L"},function(O){return R.insertLines(O)}),R._parser.registerCsiHandler({final:"M"},function(O){return R.deleteLines(O)}),R._parser.registerCsiHandler({final:"P"},function(O){return R.deleteChars(O)}),R._parser.registerCsiHandler({final:"S"},function(O){return R.scrollUp(O)}),R._parser.registerCsiHandler({final:"T"},function(O){return R.scrollDown(O)}),R._parser.registerCsiHandler({final:"X"},function(O){return R.eraseChars(O)}),R._parser.registerCsiHandler({final:"Z"},function(O){return R.cursorBackwardTab(O)}),R._parser.registerCsiHandler({final:"`"},function(O){return R.charPosAbsolute(O)}),R._parser.registerCsiHandler({final:"a"},function(O){return R.hPositionRelative(O)}),R._parser.registerCsiHandler({final:"b"},function(O){return R.repeatPrecedingCharacter(O)}),R._parser.registerCsiHandler({final:"c"},function(O){return R.sendDeviceAttributesPrimary(O)}),R._parser.registerCsiHandler({prefix:">",final:"c"},function(O){return R.sendDeviceAttributesSecondary(O)}),R._parser.registerCsiHandler({final:"d"},function(O){return R.linePosAbsolute(O)}),R._parser.registerCsiHandler({final:"e"},function(O){return R.vPositionRelative(O)}),R._parser.registerCsiHandler({final:"f"},function(O){return R.hVPosition(O)}),R._parser.registerCsiHandler({final:"g"},function(O){return R.tabClear(O)}),R._parser.registerCsiHandler({final:"h"},function(O){return R.setMode(O)}),R._parser.registerCsiHandler({prefix:"?",final:"h"},function(O){return R.setModePrivate(O)}),R._parser.registerCsiHandler({final:"l"},function(O){return R.resetMode(O)}),R._parser.registerCsiHandler({prefix:"?",final:"l"},function(O){return R.resetModePrivate(O)}),R._parser.registerCsiHandler({final:"m"},function(O){return R.charAttributes(O)}),R._parser.registerCsiHandler({final:"n"},function(O){return R.deviceStatus(O)}),R._parser.registerCsiHandler({prefix:"?",final:"n"},function(O){return R.deviceStatusPrivate(O)}),R._parser.registerCsiHandler({intermediates:"!",final:"p"},function(O){return R.softReset(O)}),R._parser.registerCsiHandler({intermediates:" ",final:"q"},function(O){return R.setCursorStyle(O)}),R._parser.registerCsiHandler({final:"r"},function(O){return R.setScrollRegion(O)}),R._parser.registerCsiHandler({final:"s"},function(O){return R.saveCursor(O)}),R._parser.registerCsiHandler({final:"t"},function(O){return R.windowOptions(O)}),R._parser.registerCsiHandler({final:"u"},function(O){return R.restoreCursor(O)}),R._parser.registerCsiHandler({intermediates:"'",final:"}"},function(O){return R.insertColumns(O)}),R._parser.registerCsiHandler({intermediates:"'",final:"~"},function(O){return R.deleteColumns(O)}),R._parser.setExecuteHandler(f.C0.BEL,function(){return R.bell()}),R._parser.setExecuteHandler(f.C0.LF,function(){return R.lineFeed()}),R._parser.setExecuteHandler(f.C0.VT,function(){return R.lineFeed()}),R._parser.setExecuteHandler(f.C0.FF,function(){return R.lineFeed()}),R._parser.setExecuteHandler(f.C0.CR,function(){return R.carriageReturn()}),R._parser.setExecuteHandler(f.C0.BS,function(){return R.backspace()}),R._parser.setExecuteHandler(f.C0.HT,function(){return R.tab()}),R._parser.setExecuteHandler(f.C0.SO,function(){return R.shiftOut()}),R._parser.setExecuteHandler(f.C0.SI,function(){return R.shiftIn()}),R._parser.setExecuteHandler(f.C1.IND,function(){return R.index()}),R._parser.setExecuteHandler(f.C1.NEL,function(){return R.nextLine()}),R._parser.setExecuteHandler(f.C1.HTS,function(){return R.tabSet()}),R._parser.registerOscHandler(0,new _.OscHandler(function(O){return R.setTitle(O),R.setIconName(O),!0})),R._parser.registerOscHandler(1,new _.OscHandler(function(O){return R.setIconName(O)})),R._parser.registerOscHandler(2,new _.OscHandler(function(O){return R.setTitle(O)})),R._parser.registerOscHandler(4,new _.OscHandler(function(O){return R.setOrReportIndexedColor(O)})),R._parser.registerOscHandler(10,new _.OscHandler(function(O){return R.setOrReportFgColor(O)})),R._parser.registerOscHandler(11,new _.OscHandler(function(O){return R.setOrReportBgColor(O)})),R._parser.registerOscHandler(12,new _.OscHandler(function(O){return R.setOrReportCursorColor(O)})),R._parser.registerOscHandler(104,new _.OscHandler(function(O){return R.restoreIndexedColor(O)})),R._parser.registerOscHandler(110,new _.OscHandler(function(O){return R.restoreFgColor(O)})),R._parser.registerOscHandler(111,new _.OscHandler(function(O){return R.restoreBgColor(O)})),R._parser.registerOscHandler(112,new _.OscHandler(function(O){return R.restoreCursorColor(O)})),R._parser.registerEscHandler({final:"7"},function(){return R.saveCursor()}),R._parser.registerEscHandler({final:"8"},function(){return R.restoreCursor()}),R._parser.registerEscHandler({final:"D"},function(){return R.index()}),R._parser.registerEscHandler({final:"E"},function(){return R.nextLine()}),R._parser.registerEscHandler({final:"H"},function(){return R.tabSet()}),R._parser.registerEscHandler({final:"M"},function(){return R.reverseIndex()}),R._parser.registerEscHandler({final:"="},function(){return R.keypadApplicationMode()}),R._parser.registerEscHandler({final:">"},function(){return R.keypadNumericMode()}),R._parser.registerEscHandler({final:"c"},function(){return R.fullReset()}),R._parser.registerEscHandler({final:"n"},function(){return R.setgLevel(2)}),R._parser.registerEscHandler({final:"o"},function(){return R.setgLevel(3)}),R._parser.registerEscHandler({final:"|"},function(){return R.setgLevel(3)}),R._parser.registerEscHandler({final:"}"},function(){return R.setgLevel(2)}),R._parser.registerEscHandler({final:"~"},function(){return R.setgLevel(1)}),R._parser.registerEscHandler({intermediates:"%",final:"@"},function(){return R.selectDefaultCharset()}),R._parser.registerEscHandler({intermediates:"%",final:"G"},function(){return R.selectDefaultCharset()});var q=function(O){T._parser.registerEscHandler({intermediates:"(",final:O},function(){return R.selectCharset("("+O)}),T._parser.registerEscHandler({intermediates:")",final:O},function(){return R.selectCharset(")"+O)}),T._parser.registerEscHandler({intermediates:"*",final:O},function(){return R.selectCharset("*"+O)}),T._parser.registerEscHandler({intermediates:"+",final:O},function(){return R.selectCharset("+"+O)}),T._parser.registerEscHandler({intermediates:"-",final:O},function(){return R.selectCharset("-"+O)}),T._parser.registerEscHandler({intermediates:".",final:O},function(){return R.selectCharset("."+O)}),T._parser.registerEscHandler({intermediates:"/",final:O},function(){return R.selectCharset("/"+O)})},T=this;for(var P in v.CHARSETS)q(P);return R._parser.registerEscHandler({intermediates:"#",final:"8"},function(){return R.screenAlignmentPattern()}),R._parser.setErrorHandler(function(O){return R._logService.error("Parsing error: ",O),O}),R._parser.registerDcsHandler({intermediates:"$",final:"q"},new M(R._bufferService,R._coreService,R._logService,R._optionsService)),R}return h(A,W),Object.defineProperty(A.prototype,"onRequestBell",{get:function(){return this._onRequestBell.event},enumerable:!1,configurable:!0}),Object.defineProperty(A.prototype,"onRequestRefreshRows",{get:function(){return this._onRequestRefreshRows.event},enumerable:!1,configurable:!0}),Object.defineProperty(A.prototype,"onRequestReset",{get:function(){return this._onRequestReset.event},enumerable:!1,configurable:!0}),Object.defineProperty(A.prototype,"onRequestSendFocus",{get:function(){return this._onRequestSendFocus.event},enumerable:!1,configurable:!0}),Object.defineProperty(A.prototype,"onRequestSyncScrollBar",{get:function(){return this._onRequestSyncScrollBar.event},enumerable:!1,configurable:!0}),Object.defineProperty(A.prototype,"onRequestWindowsOptionsReport",{get:function(){return this._onRequestWindowsOptionsReport.event},enumerable:!1,configurable:!0}),Object.defineProperty(A.prototype,"onA11yChar",{get:function(){return this._onA11yChar.event},enumerable:!1,configurable:!0}),Object.defineProperty(A.prototype,"onA11yTab",{get:function(){return this._onA11yTab.event},enumerable:!1,configurable:!0}),Object.defineProperty(A.prototype,"onCursorMove",{get:function(){return this._onCursorMove.event},enumerable:!1,configurable:!0}),Object.defineProperty(A.prototype,"onLineFeed",{get:function(){return this._onLineFeed.event},enumerable:!1,configurable:!0}),Object.defineProperty(A.prototype,"onScroll",{get:function(){return this._onScroll.event},enumerable:!1,configurable:!0}),Object.defineProperty(A.prototype,"onTitleChange",{get:function(){return this._onTitleChange.event},enumerable:!1,configurable:!0}),Object.defineProperty(A.prototype,"onColor",{get:function(){return this._onColor.event},enumerable:!1,configurable:!0}),A.prototype.dispose=function(){W.prototype.dispose.call(this)},A.prototype._preserveStack=function(L,B,I,F){this._parseStack.paused=!0,this._parseStack.cursorStartX=L,this._parseStack.cursorStartY=B,this._parseStack.decodedLength=I,this._parseStack.position=F},A.prototype._logSlowResolvingAsync=function(L){this._logService.logLevel<=l.LogLevelEnum.WARN&&Promise.race([L,new Promise(function(B,I){return setTimeout(function(){return I("#SLOW_TIMEOUT")},5e3)})]).catch(function(B){if(B!=="#SLOW_TIMEOUT")throw B;console.warn("async parser handler taking longer than 5000 ms")})},A.prototype.parse=function(L,B){var I,F=this._activeBuffer.x,N=this._activeBuffer.y,G=0,J=this._parseStack.paused;if(J){if(I=this._parser.parse(this._parseBuffer,this._parseStack.decodedLength,B))return this._logSlowResolvingAsync(I),I;F=this._parseStack.cursorStartX,N=this._parseStack.cursorStartY,this._parseStack.paused=!1,L.length>y&&(G=this._parseStack.position+y)}if(this._logService.logLevel<=l.LogLevelEnum.DEBUG&&this._logService.debug("parsing data"+(typeof L=="string"?' "'+L+'"':' "'+Array.prototype.map.call(L,function(q){return String.fromCharCode(q)}).join("")+'"'),typeof L=="string"?L.split("").map(function(q){return q.charCodeAt(0)}):L),this._parseBuffer.length<L.length&&this._parseBuffer.length<y&&(this._parseBuffer=new Uint32Array(Math.min(L.length,y))),J||this._dirtyRowService.clearRange(),L.length>y)for(var V=G;V<L.length;V+=y){var Z=V+y<L.length?V+y:L.length,R=typeof L=="string"?this._stringDecoder.decode(L.substring(V,Z),this._parseBuffer):this._utf8Decoder.decode(L.subarray(V,Z),this._parseBuffer);if(I=this._parser.parse(this._parseBuffer,R))return this._preserveStack(F,N,R,V),this._logSlowResolvingAsync(I),I}else if(!J&&(R=typeof L=="string"?this._stringDecoder.decode(L,this._parseBuffer):this._utf8Decoder.decode(L,this._parseBuffer),I=this._parser.parse(this._parseBuffer,R)))return this._preserveStack(F,N,R,0),this._logSlowResolvingAsync(I),I;this._activeBuffer.x===F&&this._activeBuffer.y===N||this._onCursorMove.fire(),this._onRequestRefreshRows.fire(this._dirtyRowService.start,this._dirtyRowService.end)},A.prototype.print=function(L,B,I){var F,N,G=this._charsetService.charset,J=this._optionsService.rawOptions.screenReaderMode,V=this._bufferService.cols,Z=this._coreService.decPrivateModes.wraparound,R=this._coreService.modes.insertMode,q=this._curAttrData,T=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);this._dirtyRowService.markDirty(this._activeBuffer.y),this._activeBuffer.x&&I-B>0&&T.getWidth(this._activeBuffer.x-1)===2&&T.setCellFromCodePoint(this._activeBuffer.x-1,0,1,q.fg,q.bg,q.extended);for(var P=B;P<I;++P){if(F=L[P],N=this._unicodeService.wcwidth(F),F<127&&G){var O=G[String.fromCharCode(F)];O&&(F=O.charCodeAt(0))}if(J&&this._onA11yChar.fire((0,d.stringFromCodePoint)(F)),N||!this._activeBuffer.x){if(this._activeBuffer.x+N-1>=V){if(Z){for(;this._activeBuffer.x<V;)T.setCellFromCodePoint(this._activeBuffer.x++,0,1,q.fg,q.bg,q.extended);this._activeBuffer.x=0,this._activeBuffer.y++,this._activeBuffer.y===this._activeBuffer.scrollBottom+1?(this._activeBuffer.y--,this._bufferService.scroll(this._eraseAttrData(),!0)):(this._activeBuffer.y>=this._bufferService.rows&&(this._activeBuffer.y=this._bufferService.rows-1),this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y).isWrapped=!0),T=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y)}else if(this._activeBuffer.x=V-1,N===2)continue}if(R&&(T.insertCells(this._activeBuffer.x,N,this._activeBuffer.getNullCell(q),q),T.getWidth(V-1)===2&&T.setCellFromCodePoint(V-1,e.NULL_CELL_CODE,e.NULL_CELL_WIDTH,q.fg,q.bg,q.extended)),T.setCellFromCodePoint(this._activeBuffer.x++,F,N,q.fg,q.bg,q.extended),N>0)for(;--N;)T.setCellFromCodePoint(this._activeBuffer.x++,0,0,q.fg,q.bg,q.extended)}else T.getWidth(this._activeBuffer.x-1)?T.addCodepointToCell(this._activeBuffer.x-1,F):T.addCodepointToCell(this._activeBuffer.x-2,F)}I-B>0&&(T.loadCell(this._activeBuffer.x-1,this._workCell),this._workCell.getWidth()===2||this._workCell.getCode()>65535?this._parser.precedingCodepoint=0:this._workCell.isCombined()?this._parser.precedingCodepoint=this._workCell.getChars().charCodeAt(0):this._parser.precedingCodepoint=this._workCell.content),this._activeBuffer.x<V&&I-B>0&&T.getWidth(this._activeBuffer.x)===0&&!T.hasContent(this._activeBuffer.x)&&T.setCellFromCodePoint(this._activeBuffer.x,0,1,q.fg,q.bg,q.extended),this._dirtyRowService.markDirty(this._activeBuffer.y)},A.prototype.registerCsiHandler=function(L,B){var I=this;return L.final!=="t"||L.prefix||L.intermediates?this._parser.registerCsiHandler(L,B):this._parser.registerCsiHandler(L,function(F){return!m(F.params[0],I._optionsService.rawOptions.windowOptions)||B(F)})},A.prototype.registerDcsHandler=function(L,B){return this._parser.registerDcsHandler(L,new p.DcsHandler(B))},A.prototype.registerEscHandler=function(L,B){return this._parser.registerEscHandler(L,B)},A.prototype.registerOscHandler=function(L,B){return this._parser.registerOscHandler(L,new _.OscHandler(B))},A.prototype.bell=function(){return this._onRequestBell.fire(),!0},A.prototype.lineFeed=function(){return this._dirtyRowService.markDirty(this._activeBuffer.y),this._optionsService.rawOptions.convertEol&&(this._activeBuffer.x=0),this._activeBuffer.y++,this._activeBuffer.y===this._activeBuffer.scrollBottom+1?(this._activeBuffer.y--,this._bufferService.scroll(this._eraseAttrData())):this._activeBuffer.y>=this._bufferService.rows&&(this._activeBuffer.y=this._bufferService.rows-1),this._activeBuffer.x>=this._bufferService.cols&&this._activeBuffer.x--,this._dirtyRowService.markDirty(this._activeBuffer.y),this._onLineFeed.fire(),!0},A.prototype.carriageReturn=function(){return this._activeBuffer.x=0,!0},A.prototype.backspace=function(){var L;if(!this._coreService.decPrivateModes.reverseWraparound)return this._restrictCursor(),this._activeBuffer.x>0&&this._activeBuffer.x--,!0;if(this._restrictCursor(this._bufferService.cols),this._activeBuffer.x>0)this._activeBuffer.x--;else if(this._activeBuffer.x===0&&this._activeBuffer.y>this._activeBuffer.scrollTop&&this._activeBuffer.y<=this._activeBuffer.scrollBottom&&((L=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y))===null||L===void 0?void 0:L.isWrapped)){this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y).isWrapped=!1,this._activeBuffer.y--,this._activeBuffer.x=this._bufferService.cols-1;var B=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);B.hasWidth(this._activeBuffer.x)&&!B.hasContent(this._activeBuffer.x)&&this._activeBuffer.x--}return this._restrictCursor(),!0},A.prototype.tab=function(){if(this._activeBuffer.x>=this._bufferService.cols)return!0;var L=this._activeBuffer.x;return this._activeBuffer.x=this._activeBuffer.nextStop(),this._optionsService.rawOptions.screenReaderMode&&this._onA11yTab.fire(this._activeBuffer.x-L),!0},A.prototype.shiftOut=function(){return this._charsetService.setgLevel(1),!0},A.prototype.shiftIn=function(){return this._charsetService.setgLevel(0),!0},A.prototype._restrictCursor=function(L){L===void 0&&(L=this._bufferService.cols-1),this._activeBuffer.x=Math.min(L,Math.max(0,this._activeBuffer.x)),this._activeBuffer.y=this._coreService.decPrivateModes.origin?Math.min(this._activeBuffer.scrollBottom,Math.max(this._activeBuffer.scrollTop,this._activeBuffer.y)):Math.min(this._bufferService.rows-1,Math.max(0,this._activeBuffer.y)),this._dirtyRowService.markDirty(this._activeBuffer.y)},A.prototype._setCursor=function(L,B){this._dirtyRowService.markDirty(this._activeBuffer.y),this._coreService.decPrivateModes.origin?(this._activeBuffer.x=L,this._activeBuffer.y=this._activeBuffer.scrollTop+B):(this._activeBuffer.x=L,this._activeBuffer.y=B),this._restrictCursor(),this._dirtyRowService.markDirty(this._activeBuffer.y)},A.prototype._moveCursor=function(L,B){this._restrictCursor(),this._setCursor(this._activeBuffer.x+L,this._activeBuffer.y+B)},A.prototype.cursorUp=function(L){var B=this._activeBuffer.y-this._activeBuffer.scrollTop;return B>=0?this._moveCursor(0,-Math.min(B,L.params[0]||1)):this._moveCursor(0,-(L.params[0]||1)),!0},A.prototype.cursorDown=function(L){var B=this._activeBuffer.scrollBottom-this._activeBuffer.y;return B>=0?this._moveCursor(0,Math.min(B,L.params[0]||1)):this._moveCursor(0,L.params[0]||1),!0},A.prototype.cursorForward=function(L){return this._moveCursor(L.params[0]||1,0),!0},A.prototype.cursorBackward=function(L){return this._moveCursor(-(L.params[0]||1),0),!0},A.prototype.cursorNextLine=function(L){return this.cursorDown(L),this._activeBuffer.x=0,!0},A.prototype.cursorPrecedingLine=function(L){return this.cursorUp(L),this._activeBuffer.x=0,!0},A.prototype.cursorCharAbsolute=function(L){return this._setCursor((L.params[0]||1)-1,this._activeBuffer.y),!0},A.prototype.cursorPosition=function(L){return this._setCursor(L.length>=2?(L.params[1]||1)-1:0,(L.params[0]||1)-1),!0},A.prototype.charPosAbsolute=function(L){return this._setCursor((L.params[0]||1)-1,this._activeBuffer.y),!0},A.prototype.hPositionRelative=function(L){return this._moveCursor(L.params[0]||1,0),!0},A.prototype.linePosAbsolute=function(L){return this._setCursor(this._activeBuffer.x,(L.params[0]||1)-1),!0},A.prototype.vPositionRelative=function(L){return this._moveCursor(0,L.params[0]||1),!0},A.prototype.hVPosition=function(L){return this.cursorPosition(L),!0},A.prototype.tabClear=function(L){var B=L.params[0];return B===0?delete this._activeBuffer.tabs[this._activeBuffer.x]:B===3&&(this._activeBuffer.tabs={}),!0},A.prototype.cursorForwardTab=function(L){if(this._activeBuffer.x>=this._bufferService.cols)return!0;for(var B=L.params[0]||1;B--;)this._activeBuffer.x=this._activeBuffer.nextStop();return!0},A.prototype.cursorBackwardTab=function(L){if(this._activeBuffer.x>=this._bufferService.cols)return!0;for(var B=L.params[0]||1;B--;)this._activeBuffer.x=this._activeBuffer.prevStop();return!0},A.prototype._eraseInBufferLine=function(L,B,I,F){F===void 0&&(F=!1);var N=this._activeBuffer.lines.get(this._activeBuffer.ybase+L);N.replaceCells(B,I,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),F&&(N.isWrapped=!1)},A.prototype._resetBufferLine=function(L){var B=this._activeBuffer.lines.get(this._activeBuffer.ybase+L);B.fill(this._activeBuffer.getNullCell(this._eraseAttrData())),this._bufferService.buffer.clearMarkers(this._activeBuffer.ybase+L),B.isWrapped=!1},A.prototype.eraseInDisplay=function(L){var B;switch(this._restrictCursor(this._bufferService.cols),L.params[0]){case 0:for(B=this._activeBuffer.y,this._dirtyRowService.markDirty(B),this._eraseInBufferLine(B++,this._activeBuffer.x,this._bufferService.cols,this._activeBuffer.x===0);B<this._bufferService.rows;B++)this._resetBufferLine(B);this._dirtyRowService.markDirty(B);break;case 1:for(B=this._activeBuffer.y,this._dirtyRowService.markDirty(B),this._eraseInBufferLine(B,0,this._activeBuffer.x+1,!0),this._activeBuffer.x+1>=this._bufferService.cols&&(this._activeBuffer.lines.get(B+1).isWrapped=!1);B--;)this._resetBufferLine(B);this._dirtyRowService.markDirty(0);break;case 2:for(B=this._bufferService.rows,this._dirtyRowService.markDirty(B-1);B--;)this._resetBufferLine(B);this._dirtyRowService.markDirty(0);break;case 3:var I=this._activeBuffer.lines.length-this._bufferService.rows;I>0&&(this._activeBuffer.lines.trimStart(I),this._activeBuffer.ybase=Math.max(this._activeBuffer.ybase-I,0),this._activeBuffer.ydisp=Math.max(this._activeBuffer.ydisp-I,0),this._onScroll.fire(0))}return!0},A.prototype.eraseInLine=function(L){switch(this._restrictCursor(this._bufferService.cols),L.params[0]){case 0:this._eraseInBufferLine(this._activeBuffer.y,this._activeBuffer.x,this._bufferService.cols,this._activeBuffer.x===0);break;case 1:this._eraseInBufferLine(this._activeBuffer.y,0,this._activeBuffer.x+1,!1);break;case 2:this._eraseInBufferLine(this._activeBuffer.y,0,this._bufferService.cols,!0)}return this._dirtyRowService.markDirty(this._activeBuffer.y),!0},A.prototype.insertLines=function(L){this._restrictCursor();var B=L.params[0]||1;if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;for(var I=this._activeBuffer.ybase+this._activeBuffer.y,F=this._bufferService.rows-1-this._activeBuffer.scrollBottom,N=this._bufferService.rows-1+this._activeBuffer.ybase-F+1;B--;)this._activeBuffer.lines.splice(N-1,1),this._activeBuffer.lines.splice(I,0,this._activeBuffer.getBlankLine(this._eraseAttrData()));return this._dirtyRowService.markRangeDirty(this._activeBuffer.y,this._activeBuffer.scrollBottom),this._activeBuffer.x=0,!0},A.prototype.deleteLines=function(L){this._restrictCursor();var B=L.params[0]||1;if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;var I,F=this._activeBuffer.ybase+this._activeBuffer.y;for(I=this._bufferService.rows-1-this._activeBuffer.scrollBottom,I=this._bufferService.rows-1+this._activeBuffer.ybase-I;B--;)this._activeBuffer.lines.splice(F,1),this._activeBuffer.lines.splice(I,0,this._activeBuffer.getBlankLine(this._eraseAttrData()));return this._dirtyRowService.markRangeDirty(this._activeBuffer.y,this._activeBuffer.scrollBottom),this._activeBuffer.x=0,!0},A.prototype.insertChars=function(L){this._restrictCursor();var B=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);return B&&(B.insertCells(this._activeBuffer.x,L.params[0]||1,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),this._dirtyRowService.markDirty(this._activeBuffer.y)),!0},A.prototype.deleteChars=function(L){this._restrictCursor();var B=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);return B&&(B.deleteCells(this._activeBuffer.x,L.params[0]||1,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),this._dirtyRowService.markDirty(this._activeBuffer.y)),!0},A.prototype.scrollUp=function(L){for(var B=L.params[0]||1;B--;)this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollTop,1),this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollBottom,0,this._activeBuffer.getBlankLine(this._eraseAttrData()));return this._dirtyRowService.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0},A.prototype.scrollDown=function(L){for(var B=L.params[0]||1;B--;)this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollBottom,1),this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollTop,0,this._activeBuffer.getBlankLine(n.DEFAULT_ATTR_DATA));return this._dirtyRowService.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0},A.prototype.scrollLeft=function(L){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;for(var B=L.params[0]||1,I=this._activeBuffer.scrollTop;I<=this._activeBuffer.scrollBottom;++I){var F=this._activeBuffer.lines.get(this._activeBuffer.ybase+I);F.deleteCells(0,B,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),F.isWrapped=!1}return this._dirtyRowService.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0},A.prototype.scrollRight=function(L){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;for(var B=L.params[0]||1,I=this._activeBuffer.scrollTop;I<=this._activeBuffer.scrollBottom;++I){var F=this._activeBuffer.lines.get(this._activeBuffer.ybase+I);F.insertCells(0,B,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),F.isWrapped=!1}return this._dirtyRowService.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0},A.prototype.insertColumns=function(L){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;for(var B=L.params[0]||1,I=this._activeBuffer.scrollTop;I<=this._activeBuffer.scrollBottom;++I){var F=this._activeBuffer.lines.get(this._activeBuffer.ybase+I);F.insertCells(this._activeBuffer.x,B,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),F.isWrapped=!1}return this._dirtyRowService.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0},A.prototype.deleteColumns=function(L){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;for(var B=L.params[0]||1,I=this._activeBuffer.scrollTop;I<=this._activeBuffer.scrollBottom;++I){var F=this._activeBuffer.lines.get(this._activeBuffer.ybase+I);F.deleteCells(this._activeBuffer.x,B,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),F.isWrapped=!1}return this._dirtyRowService.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0},A.prototype.eraseChars=function(L){this._restrictCursor();var B=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);return B&&(B.replaceCells(this._activeBuffer.x,this._activeBuffer.x+(L.params[0]||1),this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),this._dirtyRowService.markDirty(this._activeBuffer.y)),!0},A.prototype.repeatPrecedingCharacter=function(L){if(!this._parser.precedingCodepoint)return!0;for(var B=L.params[0]||1,I=new Uint32Array(B),F=0;F<B;++F)I[F]=this._parser.precedingCodepoint;return this.print(I,0,I.length),!0},A.prototype.sendDeviceAttributesPrimary=function(L){return L.params[0]>0||(this._is("xterm")||this._is("rxvt-unicode")||this._is("screen")?this._coreService.triggerDataEvent(f.C0.ESC+"[?1;2c"):this._is("linux")&&this._coreService.triggerDataEvent(f.C0.ESC+"[?6c")),!0},A.prototype.sendDeviceAttributesSecondary=function(L){return L.params[0]>0||(this._is("xterm")?this._coreService.triggerDataEvent(f.C0.ESC+"[>0;276;0c"):this._is("rxvt-unicode")?this._coreService.triggerDataEvent(f.C0.ESC+"[>85;95;0c"):this._is("linux")?this._coreService.triggerDataEvent(L.params[0]+"c"):this._is("screen")&&this._coreService.triggerDataEvent(f.C0.ESC+"[>83;40003;0c")),!0},A.prototype._is=function(L){return(this._optionsService.rawOptions.termName+"").indexOf(L)===0},A.prototype.setMode=function(L){for(var B=0;B<L.length;B++)L.params[B]===4&&(this._coreService.modes.insertMode=!0);return!0},A.prototype.setModePrivate=function(L){for(var B=0;B<L.length;B++)switch(L.params[B]){case 1:this._coreService.decPrivateModes.applicationCursorKeys=!0;break;case 2:this._charsetService.setgCharset(0,v.DEFAULT_CHARSET),this._charsetService.setgCharset(1,v.DEFAULT_CHARSET),this._charsetService.setgCharset(2,v.DEFAULT_CHARSET),this._charsetService.setgCharset(3,v.DEFAULT_CHARSET);break;case 3:this._optionsService.rawOptions.windowOptions.setWinLines&&(this._bufferService.resize(132,this._bufferService.rows),this._onRequestReset.fire());break;case 6:this._coreService.decPrivateModes.origin=!0,this._setCursor(0,0);break;case 7:this._coreService.decPrivateModes.wraparound=!0;break;case 12:break;case 45:this._coreService.decPrivateModes.reverseWraparound=!0;break;case 66:this._logService.debug("Serial port requested application keypad."),this._coreService.decPrivateModes.applicationKeypad=!0,this._onRequestSyncScrollBar.fire();break;case 9:this._coreMouseService.activeProtocol="X10";break;case 1e3:this._coreMouseService.activeProtocol="VT200";break;case 1002:this._coreMouseService.activeProtocol="DRAG";break;case 1003:this._coreMouseService.activeProtocol="ANY";break;case 1004:this._coreService.decPrivateModes.sendFocus=!0,this._onRequestSendFocus.fire();break;case 1005:this._logService.debug("DECSET 1005 not supported (see #2507)");break;case 1006:this._coreMouseService.activeEncoding="SGR";break;case 1015:this._logService.debug("DECSET 1015 not supported (see #2507)");break;case 25:this._coreService.isCursorHidden=!1;break;case 1048:this.saveCursor();break;case 1049:this.saveCursor();case 47:case 1047:this._bufferService.buffers.activateAltBuffer(this._eraseAttrData()),this._coreService.isCursorInitialized=!0,this._onRequestRefreshRows.fire(0,this._bufferService.rows-1),this._onRequestSyncScrollBar.fire();break;case 2004:this._coreService.decPrivateModes.bracketedPasteMode=!0}return!0},A.prototype.resetMode=function(L){for(var B=0;B<L.length;B++)L.params[B]===4&&(this._coreService.modes.insertMode=!1);return!0},A.prototype.resetModePrivate=function(L){for(var B=0;B<L.length;B++)switch(L.params[B]){case 1:this._coreService.decPrivateModes.applicationCursorKeys=!1;break;case 3:this._optionsService.rawOptions.windowOptions.setWinLines&&(this._bufferService.resize(80,this._bufferService.rows),this._onRequestReset.fire());break;case 6:this._coreService.decPrivateModes.origin=!1,this._setCursor(0,0);break;case 7:this._coreService.decPrivateModes.wraparound=!1;break;case 12:break;case 45:this._coreService.decPrivateModes.reverseWraparound=!1;break;case 66:this._logService.debug("Switching back to normal keypad."),this._coreService.decPrivateModes.applicationKeypad=!1,this._onRequestSyncScrollBar.fire();break;case 9:case 1e3:case 1002:case 1003:this._coreMouseService.activeProtocol="NONE";break;case 1004:this._coreService.decPrivateModes.sendFocus=!1;break;case 1005:this._logService.debug("DECRST 1005 not supported (see #2507)");break;case 1006:this._coreMouseService.activeEncoding="DEFAULT";break;case 1015:this._logService.debug("DECRST 1015 not supported (see #2507)");break;case 25:this._coreService.isCursorHidden=!0;break;case 1048:this.restoreCursor();break;case 1049:case 47:case 1047:this._bufferService.buffers.activateNormalBuffer(),L.params[B]===1049&&this.restoreCursor(),this._coreService.isCursorInitialized=!0,this._onRequestRefreshRows.fire(0,this._bufferService.rows-1),this._onRequestSyncScrollBar.fire();break;case 2004:this._coreService.decPrivateModes.bracketedPasteMode=!1}return!0},A.prototype._updateAttrColor=function(L,B,I,F,N){return B===2?(L|=50331648,L&=-16777216,L|=s.AttributeData.fromColorRGB([I,F,N])):B===5&&(L&=-50331904,L|=33554432|255&I),L},A.prototype._extractColor=function(L,B,I){var F=[0,0,-1,0,0,0],N=0,G=0;do{if(F[G+N]=L.params[B+G],L.hasSubParams(B+G)){var J=L.getSubParams(B+G),V=0;do F[1]===5&&(N=1),F[G+V+1+N]=J[V];while(++V<J.length&&V+G+1+N<F.length);break}if(F[1]===5&&G+N>=2||F[1]===2&&G+N>=5)break;F[1]&&(N=1)}while(++G+B<L.length&&G+N<F.length);for(V=2;V<F.length;++V)F[V]===-1&&(F[V]=0);switch(F[0]){case 38:I.fg=this._updateAttrColor(I.fg,F[1],F[3],F[4],F[5]);break;case 48:I.bg=this._updateAttrColor(I.bg,F[1],F[3],F[4],F[5]);break;case 58:I.extended=I.extended.clone(),I.extended.underlineColor=this._updateAttrColor(I.extended.underlineColor,F[1],F[3],F[4],F[5])}return G},A.prototype._processUnderline=function(L,B){B.extended=B.extended.clone(),(!~L||L>5)&&(L=1),B.extended.underlineStyle=L,B.fg|=268435456,L===0&&(B.fg&=-268435457),B.updateExtended()},A.prototype.charAttributes=function(L){if(L.length===1&&L.params[0]===0)return this._curAttrData.fg=n.DEFAULT_ATTR_DATA.fg,this._curAttrData.bg=n.DEFAULT_ATTR_DATA.bg,!0;for(var B,I=L.length,F=this._curAttrData,N=0;N<I;N++)(B=L.params[N])>=30&&B<=37?(F.fg&=-50331904,F.fg|=16777216|B-30):B>=40&&B<=47?(F.bg&=-50331904,F.bg|=16777216|B-40):B>=90&&B<=97?(F.fg&=-50331904,F.fg|=16777224|B-90):B>=100&&B<=107?(F.bg&=-50331904,F.bg|=16777224|B-100):B===0?(F.fg=n.DEFAULT_ATTR_DATA.fg,F.bg=n.DEFAULT_ATTR_DATA.bg):B===1?F.fg|=134217728:B===3?F.bg|=67108864:B===4?(F.fg|=268435456,this._processUnderline(L.hasSubParams(N)?L.getSubParams(N)[0]:1,F)):B===5?F.fg|=536870912:B===7?F.fg|=67108864:B===8?F.fg|=1073741824:B===9?F.fg|=2147483648:B===2?F.bg|=134217728:B===21?this._processUnderline(2,F):B===22?(F.fg&=-134217729,F.bg&=-134217729):B===23?F.bg&=-67108865:B===24?F.fg&=-268435457:B===25?F.fg&=-536870913:B===27?F.fg&=-67108865:B===28?F.fg&=-1073741825:B===29?F.fg&=2147483647:B===39?(F.fg&=-67108864,F.fg|=16777215&n.DEFAULT_ATTR_DATA.fg):B===49?(F.bg&=-67108864,F.bg|=16777215&n.DEFAULT_ATTR_DATA.bg):B===38||B===48||B===58?N+=this._extractColor(L,N,F):B===59?(F.extended=F.extended.clone(),F.extended.underlineColor=-1,F.updateExtended()):B===100?(F.fg&=-67108864,F.fg|=16777215&n.DEFAULT_ATTR_DATA.fg,F.bg&=-67108864,F.bg|=16777215&n.DEFAULT_ATTR_DATA.bg):this._logService.debug("Unknown SGR attribute: %d.",B);return!0},A.prototype.deviceStatus=function(L){switch(L.params[0]){case 5:this._coreService.triggerDataEvent(f.C0.ESC+"[0n");break;case 6:var B=this._activeBuffer.y+1,I=this._activeBuffer.x+1;this._coreService.triggerDataEvent(f.C0.ESC+"["+B+";"+I+"R")}return!0},A.prototype.deviceStatusPrivate=function(L){if(L.params[0]===6){var B=this._activeBuffer.y+1,I=this._activeBuffer.x+1;this._coreService.triggerDataEvent(f.C0.ESC+"[?"+B+";"+I+"R")}return!0},A.prototype.softReset=function(L){return this._coreService.isCursorHidden=!1,this._onRequestSyncScrollBar.fire(),this._activeBuffer.scrollTop=0,this._activeBuffer.scrollBottom=this._bufferService.rows-1,this._curAttrData=n.DEFAULT_ATTR_DATA.clone(),this._coreService.reset(),this._charsetService.reset(),this._activeBuffer.savedX=0,this._activeBuffer.savedY=this._activeBuffer.ybase,this._activeBuffer.savedCurAttrData.fg=this._curAttrData.fg,this._activeBuffer.savedCurAttrData.bg=this._curAttrData.bg,this._activeBuffer.savedCharset=this._charsetService.charset,this._coreService.decPrivateModes.origin=!1,!0},A.prototype.setCursorStyle=function(L){var B=L.params[0]||1;switch(B){case 1:case 2:this._optionsService.options.cursorStyle="block";break;case 3:case 4:this._optionsService.options.cursorStyle="underline";break;case 5:case 6:this._optionsService.options.cursorStyle="bar"}var I=B%2==1;return this._optionsService.options.cursorBlink=I,!0},A.prototype.setScrollRegion=function(L){var B,I=L.params[0]||1;return(L.length<2||(B=L.params[1])>this._bufferService.rows||B===0)&&(B=this._bufferService.rows),B>I&&(this._activeBuffer.scrollTop=I-1,this._activeBuffer.scrollBottom=B-1,this._setCursor(0,0)),!0},A.prototype.windowOptions=function(L){if(!m(L.params[0],this._optionsService.rawOptions.windowOptions))return!0;var B=L.length>1?L.params[1]:0;switch(L.params[0]){case 14:B!==2&&this._onRequestWindowsOptionsReport.fire(u.GET_WIN_SIZE_PIXELS);break;case 16:this._onRequestWindowsOptionsReport.fire(u.GET_CELL_SIZE_PIXELS);break;case 18:this._bufferService&&this._coreService.triggerDataEvent(f.C0.ESC+"[8;"+this._bufferService.rows+";"+this._bufferService.cols+"t");break;case 22:B!==0&&B!==2||(this._windowTitleStack.push(this._windowTitle),this._windowTitleStack.length>10&&this._windowTitleStack.shift()),B!==0&&B!==1||(this._iconNameStack.push(this._iconName),this._iconNameStack.length>10&&this._iconNameStack.shift());break;case 23:B!==0&&B!==2||this._windowTitleStack.length&&this.setTitle(this._windowTitleStack.pop()),B!==0&&B!==1||this._iconNameStack.length&&this.setIconName(this._iconNameStack.pop())}return!0},A.prototype.saveCursor=function(L){return this._activeBuffer.savedX=this._activeBuffer.x,this._activeBuffer.savedY=this._activeBuffer.ybase+this._activeBuffer.y,this._activeBuffer.savedCurAttrData.fg=this._curAttrData.fg,this._activeBuffer.savedCurAttrData.bg=this._curAttrData.bg,this._activeBuffer.savedCharset=this._charsetService.charset,!0},A.prototype.restoreCursor=function(L){return this._activeBuffer.x=this._activeBuffer.savedX||0,this._activeBuffer.y=Math.max(this._activeBuffer.savedY-this._activeBuffer.ybase,0),this._curAttrData.fg=this._activeBuffer.savedCurAttrData.fg,this._curAttrData.bg=this._activeBuffer.savedCurAttrData.bg,this._charsetService.charset=this._savedCharset,this._activeBuffer.savedCharset&&(this._charsetService.charset=this._activeBuffer.savedCharset),this._restrictCursor(),!0},A.prototype.setTitle=function(L){return this._windowTitle=L,this._onTitleChange.fire(L),!0},A.prototype.setIconName=function(L){return this._iconName=L,!0},A.prototype.setOrReportIndexedColor=function(L){for(var B=[],I=L.split(";");I.length>1;){var F=I.shift(),N=I.shift();if(/^\d+$/.exec(F)){var G=parseInt(F);if(0<=G&&G<256)if(N==="?")B.push({type:0,index:G});else{var J=(0,w.parseColor)(N);J&&B.push({type:1,index:G,color:J})}}}return B.length&&this._onColor.fire(B),!0},A.prototype._setOrReportSpecialColor=function(L,B){for(var I=L.split(";"),F=0;F<I.length&&!(B>=this._specialColors.length);++F,++B)if(I[F]==="?")this._onColor.fire([{type:0,index:this._specialColors[B]}]);else{var N=(0,w.parseColor)(I[F]);N&&this._onColor.fire([{type:1,index:this._specialColors[B],color:N}])}return!0},A.prototype.setOrReportFgColor=function(L){return this._setOrReportSpecialColor(L,0)},A.prototype.setOrReportBgColor=function(L){return this._setOrReportSpecialColor(L,1)},A.prototype.setOrReportCursorColor=function(L){return this._setOrReportSpecialColor(L,2)},A.prototype.restoreIndexedColor=function(L){if(!L)return this._onColor.fire([{type:2}]),!0;for(var B=[],I=L.split(";"),F=0;F<I.length;++F)if(/^\d+$/.exec(I[F])){var N=parseInt(I[F]);0<=N&&N<256&&B.push({type:2,index:N})}return B.length&&this._onColor.fire(B),!0},A.prototype.restoreFgColor=function(L){return this._onColor.fire([{type:2,index:256}]),!0},A.prototype.restoreBgColor=function(L){return this._onColor.fire([{type:2,index:257}]),!0},A.prototype.restoreCursorColor=function(L){return this._onColor.fire([{type:2,index:258}]),!0},A.prototype.nextLine=function(){return this._activeBuffer.x=0,this.index(),!0},A.prototype.keypadApplicationMode=function(){return this._logService.debug("Serial port requested application keypad."),this._coreService.decPrivateModes.applicationKeypad=!0,this._onRequestSyncScrollBar.fire(),!0},A.prototype.keypadNumericMode=function(){return this._logService.debug("Switching back to normal keypad."),this._coreService.decPrivateModes.applicationKeypad=!1,this._onRequestSyncScrollBar.fire(),!0},A.prototype.selectDefaultCharset=function(){return this._charsetService.setgLevel(0),this._charsetService.setgCharset(0,v.DEFAULT_CHARSET),!0},A.prototype.selectCharset=function(L){return L.length!==2?(this.selectDefaultCharset(),!0):(L[0]==="/"||this._charsetService.setgCharset(S[L[0]],v.CHARSETS[L[1]]||v.DEFAULT_CHARSET),!0)},A.prototype.index=function(){return this._restrictCursor(),this._activeBuffer.y++,this._activeBuffer.y===this._activeBuffer.scrollBottom+1?(this._activeBuffer.y--,this._bufferService.scroll(this._eraseAttrData())):this._activeBuffer.y>=this._bufferService.rows&&(this._activeBuffer.y=this._bufferService.rows-1),this._restrictCursor(),!0},A.prototype.tabSet=function(){return this._activeBuffer.tabs[this._activeBuffer.x]=!0,!0},A.prototype.reverseIndex=function(){if(this._restrictCursor(),this._activeBuffer.y===this._activeBuffer.scrollTop){var L=this._activeBuffer.scrollBottom-this._activeBuffer.scrollTop;this._activeBuffer.lines.shiftElements(this._activeBuffer.ybase+this._activeBuffer.y,L,1),this._activeBuffer.lines.set(this._activeBuffer.ybase+this._activeBuffer.y,this._activeBuffer.getBlankLine(this._eraseAttrData())),this._dirtyRowService.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom)}else this._activeBuffer.y--,this._restrictCursor();return!0},A.prototype.fullReset=function(){return this._parser.reset(),this._onRequestReset.fire(),!0},A.prototype.reset=function(){this._curAttrData=n.DEFAULT_ATTR_DATA.clone(),this._eraseAttrDataInternal=n.DEFAULT_ATTR_DATA.clone()},A.prototype._eraseAttrData=function(){return this._eraseAttrDataInternal.bg&=-67108864,this._eraseAttrDataInternal.bg|=67108863&this._curAttrData.bg,this._eraseAttrDataInternal},A.prototype.setgLevel=function(L){return this._charsetService.setgLevel(L),!0},A.prototype.screenAlignmentPattern=function(){var L=new r.CellData;L.content=1<<22|"E".charCodeAt(0),L.fg=this._curAttrData.fg,L.bg=this._curAttrData.bg,this._setCursor(0,0);for(var B=0;B<this._bufferService.rows;++B){var I=this._activeBuffer.ybase+this._activeBuffer.y+B,F=this._activeBuffer.lines.get(I);F&&(F.fill(L),F.isWrapped=!1)}return this._dirtyRowService.markAllDirty(),this._setCursor(0,0),!0},A}(o.Disposable);i.InputHandler=E},844:(D,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.getDisposeArrayDisposable=i.disposeArray=i.Disposable=void 0;var g=function(){function h(){this._disposables=[],this._isDisposed=!1}return h.prototype.dispose=function(){this._isDisposed=!0;for(var u=0,f=this._disposables;u<f.length;u++)f[u].dispose();this._disposables.length=0},h.prototype.register=function(u){return this._disposables.push(u),u},h.prototype.unregister=function(u){var f=this._disposables.indexOf(u);f!==-1&&this._disposables.splice(f,1)},h}();function a(h){for(var u=0,f=h;u<f.length;u++)f[u].dispose();h.length=0}i.Disposable=g,i.disposeArray=a,i.getDisposeArrayDisposable=function(h){return{dispose:function(){return a(h)}}}},6114:(D,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.isLinux=i.isWindows=i.isIphone=i.isIpad=i.isMac=i.isSafari=i.isLegacyEdge=i.isFirefox=void 0;var g=typeof navigator>"u",a=g?"node":navigator.userAgent,h=g?"node":navigator.platform;i.isFirefox=a.includes("Firefox"),i.isLegacyEdge=a.includes("Edge"),i.isSafari=/^((?!chrome|android).)*safari/i.test(a),i.isMac=["Macintosh","MacIntel","MacPPC","Mac68K"].includes(h),i.isIpad=h==="iPad",i.isIphone=h==="iPhone",i.isWindows=["Windows","Win16","Win32","WinCE"].includes(h),i.isLinux=h.indexOf("Linux")>=0},8273:(D,i)=>{function g(a,h,u,f){if(u===void 0&&(u=0),f===void 0&&(f=a.length),u>=a.length)return a;u=(a.length+u)%a.length,f=f>=a.length?a.length:(a.length+f)%a.length;for(var v=u;v<f;++v)a[v]=h;return a}Object.defineProperty(i,"__esModule",{value:!0}),i.concat=i.fillFallback=i.fill=void 0,i.fill=function(a,h,u,f){return a.fill?a.fill(h,u,f):g(a,h,u,f)},i.fillFallback=g,i.concat=function(a,h){var u=new a.constructor(a.length+h.length);return u.set(a),u.set(h,a.length),u}},9282:(D,i,g)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.updateWindowsModeWrappedState=void 0;var a=g(643);i.updateWindowsModeWrappedState=function(h){var u=h.buffer.lines.get(h.buffer.ybase+h.buffer.y-1),f=u?.get(h.cols-1),v=h.buffer.lines.get(h.buffer.ybase+h.buffer.y);v&&f&&(v.isWrapped=f[a.CHAR_DATA_CODE_INDEX]!==a.NULL_CELL_CODE&&f[a.CHAR_DATA_CODE_INDEX]!==a.WHITESPACE_CELL_CODE)}},3734:(D,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.ExtendedAttrs=i.AttributeData=void 0;var g=function(){function h(){this.fg=0,this.bg=0,this.extended=new a}return h.toColorRGB=function(u){return[u>>>16&255,u>>>8&255,255&u]},h.fromColorRGB=function(u){return(255&u[0])<<16|(255&u[1])<<8|255&u[2]},h.prototype.clone=function(){var u=new h;return u.fg=this.fg,u.bg=this.bg,u.extended=this.extended.clone(),u},h.prototype.isInverse=function(){return 67108864&this.fg},h.prototype.isBold=function(){return 134217728&this.fg},h.prototype.isUnderline=function(){return 268435456&this.fg},h.prototype.isBlink=function(){return 536870912&this.fg},h.prototype.isInvisible=function(){return 1073741824&this.fg},h.prototype.isItalic=function(){return 67108864&this.bg},h.prototype.isDim=function(){return 134217728&this.bg},h.prototype.isStrikethrough=function(){return 2147483648&this.fg},h.prototype.getFgColorMode=function(){return 50331648&this.fg},h.prototype.getBgColorMode=function(){return 50331648&this.bg},h.prototype.isFgRGB=function(){return(50331648&this.fg)==50331648},h.prototype.isBgRGB=function(){return(50331648&this.bg)==50331648},h.prototype.isFgPalette=function(){return(50331648&this.fg)==16777216||(50331648&this.fg)==33554432},h.prototype.isBgPalette=function(){return(50331648&this.bg)==16777216||(50331648&this.bg)==33554432},h.prototype.isFgDefault=function(){return(50331648&this.fg)==0},h.prototype.isBgDefault=function(){return(50331648&this.bg)==0},h.prototype.isAttributeDefault=function(){return this.fg===0&&this.bg===0},h.prototype.getFgColor=function(){switch(50331648&this.fg){case 16777216:case 33554432:return 255&this.fg;case 50331648:return 16777215&this.fg;default:return-1}},h.prototype.getBgColor=function(){switch(50331648&this.bg){case 16777216:case 33554432:return 255&this.bg;case 50331648:return 16777215&this.bg;default:return-1}},h.prototype.hasExtendedAttrs=function(){return 268435456&this.bg},h.prototype.updateExtended=function(){this.extended.isEmpty()?this.bg&=-268435457:this.bg|=268435456},h.prototype.getUnderlineColor=function(){if(268435456&this.bg&&~this.extended.underlineColor)switch(50331648&this.extended.underlineColor){case 16777216:case 33554432:return 255&this.extended.underlineColor;case 50331648:return 16777215&this.extended.underlineColor;default:return this.getFgColor()}return this.getFgColor()},h.prototype.getUnderlineColorMode=function(){return 268435456&this.bg&&~this.extended.underlineColor?50331648&this.extended.underlineColor:this.getFgColorMode()},h.prototype.isUnderlineColorRGB=function(){return 268435456&this.bg&&~this.extended.underlineColor?(50331648&this.extended.underlineColor)==50331648:this.isFgRGB()},h.prototype.isUnderlineColorPalette=function(){return 268435456&this.bg&&~this.extended.underlineColor?(50331648&this.extended.underlineColor)==16777216||(50331648&this.extended.underlineColor)==33554432:this.isFgPalette()},h.prototype.isUnderlineColorDefault=function(){return 268435456&this.bg&&~this.extended.underlineColor?(50331648&this.extended.underlineColor)==0:this.isFgDefault()},h.prototype.getUnderlineStyle=function(){return 268435456&this.fg?268435456&this.bg?this.extended.underlineStyle:1:0},h}();i.AttributeData=g;var a=function(){function h(u,f){u===void 0&&(u=0),f===void 0&&(f=-1),this.underlineStyle=u,this.underlineColor=f}return h.prototype.clone=function(){return new h(this.underlineStyle,this.underlineColor)},h.prototype.isEmpty=function(){return this.underlineStyle===0},h}();i.ExtendedAttrs=a},9092:(D,i,g)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.BufferStringIterator=i.Buffer=i.MAX_BUFFER_SIZE=void 0;var a=g(6349),h=g(8437),u=g(511),f=g(643),v=g(4634),b=g(4863),o=g(7116),c=g(3734);i.MAX_BUFFER_SIZE=4294967295;var d=function(){function t(e,r,s){this._hasScrollback=e,this._optionsService=r,this._bufferService=s,this.ydisp=0,this.ybase=0,this.y=0,this.x=0,this.savedY=0,this.savedX=0,this.savedCurAttrData=h.DEFAULT_ATTR_DATA.clone(),this.savedCharset=o.DEFAULT_CHARSET,this.markers=[],this._nullCell=u.CellData.fromCharData([0,f.NULL_CELL_CHAR,f.NULL_CELL_WIDTH,f.NULL_CELL_CODE]),this._whitespaceCell=u.CellData.fromCharData([0,f.WHITESPACE_CELL_CHAR,f.WHITESPACE_CELL_WIDTH,f.WHITESPACE_CELL_CODE]),this._isClearing=!1,this._cols=this._bufferService.cols,this._rows=this._bufferService.rows,this.lines=new a.CircularList(this._getCorrectBufferLength(this._rows)),this.scrollTop=0,this.scrollBottom=this._rows-1,this.setupTabStops()}return t.prototype.getNullCell=function(e){return e?(this._nullCell.fg=e.fg,this._nullCell.bg=e.bg,this._nullCell.extended=e.extended):(this._nullCell.fg=0,this._nullCell.bg=0,this._nullCell.extended=new c.ExtendedAttrs),this._nullCell},t.prototype.getWhitespaceCell=function(e){return e?(this._whitespaceCell.fg=e.fg,this._whitespaceCell.bg=e.bg,this._whitespaceCell.extended=e.extended):(this._whitespaceCell.fg=0,this._whitespaceCell.bg=0,this._whitespaceCell.extended=new c.ExtendedAttrs),this._whitespaceCell},t.prototype.getBlankLine=function(e,r){return new h.BufferLine(this._bufferService.cols,this.getNullCell(e),r)},Object.defineProperty(t.prototype,"hasScrollback",{get:function(){return this._hasScrollback&&this.lines.maxLength>this._rows},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isCursorInViewport",{get:function(){var e=this.ybase+this.y-this.ydisp;return e>=0&&e<this._rows},enumerable:!1,configurable:!0}),t.prototype._getCorrectBufferLength=function(e){if(!this._hasScrollback)return e;var r=e+this._optionsService.rawOptions.scrollback;return r>i.MAX_BUFFER_SIZE?i.MAX_BUFFER_SIZE:r},t.prototype.fillViewportRows=function(e){if(this.lines.length===0){e===void 0&&(e=h.DEFAULT_ATTR_DATA);for(var r=this._rows;r--;)this.lines.push(this.getBlankLine(e))}},t.prototype.clear=function(){this.ydisp=0,this.ybase=0,this.y=0,this.x=0,this.lines=new a.CircularList(this._getCorrectBufferLength(this._rows)),this.scrollTop=0,this.scrollBottom=this._rows-1,this.setupTabStops()},t.prototype.resize=function(e,r){var s=this.getNullCell(h.DEFAULT_ATTR_DATA),l=this._getCorrectBufferLength(r);if(l>this.lines.maxLength&&(this.lines.maxLength=l),this.lines.length>0){if(this._cols<e)for(var _=0;_<this.lines.length;_++)this.lines.get(_).resize(e,s);var p=0;if(this._rows<r)for(var w=this._rows;w<r;w++)this.lines.length<r+this.ybase&&(this._optionsService.rawOptions.windowsMode?this.lines.push(new h.BufferLine(e,s)):this.ybase>0&&this.lines.length<=this.ybase+this.y+p+1?(this.ybase--,p++,this.ydisp>0&&this.ydisp--):this.lines.push(new h.BufferLine(e,s)));else for(w=this._rows;w>r;w--)this.lines.length>r+this.ybase&&(this.lines.length>this.ybase+this.y+1?this.lines.pop():(this.ybase++,this.ydisp++));if(l<this.lines.maxLength){var S=this.lines.length-l;S>0&&(this.lines.trimStart(S),this.ybase=Math.max(this.ybase-S,0),this.ydisp=Math.max(this.ydisp-S,0),this.savedY=Math.max(this.savedY-S,0)),this.lines.maxLength=l}this.x=Math.min(this.x,e-1),this.y=Math.min(this.y,r-1),p&&(this.y+=p),this.savedX=Math.min(this.savedX,e-1),this.scrollTop=0}if(this.scrollBottom=r-1,this._isReflowEnabled&&(this._reflow(e,r),this._cols>e))for(_=0;_<this.lines.length;_++)this.lines.get(_).resize(e,s);this._cols=e,this._rows=r},Object.defineProperty(t.prototype,"_isReflowEnabled",{get:function(){return this._hasScrollback&&!this._optionsService.rawOptions.windowsMode},enumerable:!1,configurable:!0}),t.prototype._reflow=function(e,r){this._cols!==e&&(e>this._cols?this._reflowLarger(e,r):this._reflowSmaller(e,r))},t.prototype._reflowLarger=function(e,r){var s=(0,v.reflowLargerGetLinesToRemove)(this.lines,this._cols,e,this.ybase+this.y,this.getNullCell(h.DEFAULT_ATTR_DATA));if(s.length>0){var l=(0,v.reflowLargerCreateNewLayout)(this.lines,s);(0,v.reflowLargerApplyNewLayout)(this.lines,l.layout),this._reflowLargerAdjustViewport(e,r,l.countRemoved)}},t.prototype._reflowLargerAdjustViewport=function(e,r,s){for(var l=this.getNullCell(h.DEFAULT_ATTR_DATA),_=s;_-- >0;)this.ybase===0?(this.y>0&&this.y--,this.lines.length<r&&this.lines.push(new h.BufferLine(e,l))):(this.ydisp===this.ybase&&this.ydisp--,this.ybase--);this.savedY=Math.max(this.savedY-s,0)},t.prototype._reflowSmaller=function(e,r){for(var s=this.getNullCell(h.DEFAULT_ATTR_DATA),l=[],_=0,p=this.lines.length-1;p>=0;p--){var w=this.lines.get(p);if(!(!w||!w.isWrapped&&w.getTrimmedLength()<=e)){for(var S=[w];w.isWrapped&&p>0;)w=this.lines.get(--p),S.unshift(w);var y=this.ybase+this.y;if(!(y>=p&&y<p+S.length)){var m,M=S[S.length-1].getTrimmedLength(),E=(0,v.reflowSmallerGetNewLineLengths)(S,this._cols,e),W=E.length-S.length;m=this.ybase===0&&this.y!==this.lines.length-1?Math.max(0,this.y-this.lines.maxLength+W):Math.max(0,this.lines.length-this.lines.maxLength+W);for(var A=[],L=0;L<W;L++){var B=this.getBlankLine(h.DEFAULT_ATTR_DATA,!0);A.push(B)}A.length>0&&(l.push({start:p+S.length+_,newLines:A}),_+=A.length),S.push.apply(S,A);var I=E.length-1,F=E[I];F===0&&(F=E[--I]);for(var N=S.length-W-1,G=M;N>=0;){var J=Math.min(G,F);if(S[I]===void 0)break;if(S[I].copyCellsFrom(S[N],G-J,F-J,J,!0),(F-=J)==0&&(F=E[--I]),(G-=J)==0){N--;var V=Math.max(N,0);G=(0,v.getWrappedLineTrimmedLength)(S,V,this._cols)}}for(L=0;L<S.length;L++)E[L]<e&&S[L].setCell(E[L],s);for(var Z=W-m;Z-- >0;)this.ybase===0?this.y<r-1?(this.y++,this.lines.pop()):(this.ybase++,this.ydisp++):this.ybase<Math.min(this.lines.maxLength,this.lines.length+_)-r&&(this.ybase===this.ydisp&&this.ydisp++,this.ybase++);this.savedY=Math.min(this.savedY+W,this.ybase+r-1)}}}if(l.length>0){var R=[],q=[];for(L=0;L<this.lines.length;L++)q.push(this.lines.get(L));var T=this.lines.length,P=T-1,O=0,z=l[O];this.lines.length=Math.min(this.lines.maxLength,this.lines.length+_);var K=0;for(L=Math.min(this.lines.maxLength-1,T+_-1);L>=0;L--)if(z&&z.start>P+K){for(var X=z.newLines.length-1;X>=0;X--)this.lines.set(L--,z.newLines[X]);L++,R.push({index:P+1,amount:z.newLines.length}),K+=z.newLines.length,z=l[++O]}else this.lines.set(L,q[P--]);var $=0;for(L=R.length-1;L>=0;L--)R[L].index+=$,this.lines.onInsertEmitter.fire(R[L]),$+=R[L].amount;var Q=Math.max(0,T+_-this.lines.maxLength);Q>0&&this.lines.onTrimEmitter.fire(Q)}},t.prototype.stringIndexToBufferIndex=function(e,r,s){for(s===void 0&&(s=!1);r;){var l=this.lines.get(e);if(!l)return[-1,-1];for(var _=s?l.getTrimmedLength():l.length,p=0;p<_;++p)if(l.get(p)[f.CHAR_DATA_WIDTH_INDEX]&&(r-=l.get(p)[f.CHAR_DATA_CHAR_INDEX].length||1),r<0)return[e,p];e++}return[e,0]},t.prototype.translateBufferLineToString=function(e,r,s,l){s===void 0&&(s=0);var _=this.lines.get(e);return _?_.translateToString(r,s,l):""},t.prototype.getWrappedRangeForLine=function(e){for(var r=e,s=e;r>0&&this.lines.get(r).isWrapped;)r--;for(;s+1<this.lines.length&&this.lines.get(s+1).isWrapped;)s++;return{first:r,last:s}},t.prototype.setupTabStops=function(e){for(e!=null?this.tabs[e]||(e=this.prevStop(e)):(this.tabs={},e=0);e<this._cols;e+=this._optionsService.rawOptions.tabStopWidth)this.tabs[e]=!0},t.prototype.prevStop=function(e){for(e==null&&(e=this.x);!this.tabs[--e]&&e>0;);return e>=this._cols?this._cols-1:e<0?0:e},t.prototype.nextStop=function(e){for(e==null&&(e=this.x);!this.tabs[++e]&&e<this._cols;);return e>=this._cols?this._cols-1:e<0?0:e},t.prototype.clearMarkers=function(e){if(this._isClearing=!0,e!==void 0)for(var r=0;r<this.markers.length;r++)this.markers[r].line===e&&(this.markers[r].dispose(),this.markers.splice(r--,1));else{for(var s=0,l=this.markers;s<l.length;s++)l[s].dispose();this.markers=[]}this._isClearing=!1},t.prototype.addMarker=function(e){var r=this,s=new b.Marker(e);return this.markers.push(s),s.register(this.lines.onTrim(function(l){s.line-=l,s.line<0&&s.dispose()})),s.register(this.lines.onInsert(function(l){s.line>=l.index&&(s.line+=l.amount)})),s.register(this.lines.onDelete(function(l){s.line>=l.index&&s.line<l.index+l.amount&&s.dispose(),s.line>l.index&&(s.line-=l.amount)})),s.register(s.onDispose(function(){return r._removeMarker(s)})),s},t.prototype._removeMarker=function(e){this._isClearing||this.markers.splice(this.markers.indexOf(e),1)},t.prototype.iterator=function(e,r,s,l,_){return new n(this,e,r,s,l,_)},t}();i.Buffer=d;var n=function(){function t(e,r,s,l,_,p){s===void 0&&(s=0),l===void 0&&(l=e.lines.length),_===void 0&&(_=0),p===void 0&&(p=0),this._buffer=e,this._trimRight=r,this._startIndex=s,this._endIndex=l,this._startOverscan=_,this._endOverscan=p,this._startIndex<0&&(this._startIndex=0),this._endIndex>this._buffer.lines.length&&(this._endIndex=this._buffer.lines.length),this._current=this._startIndex}return t.prototype.hasNext=function(){return this._current<this._endIndex},t.prototype.next=function(){var e=this._buffer.getWrappedRangeForLine(this._current);e.first<this._startIndex-this._startOverscan&&(e.first=this._startIndex-this._startOverscan),e.last>this._endIndex+this._endOverscan&&(e.last=this._endIndex+this._endOverscan),e.first=Math.max(e.first,0),e.last=Math.min(e.last,this._buffer.lines.length);for(var r="",s=e.first;s<=e.last;++s)r+=this._buffer.translateBufferLineToString(s,this._trimRight);return this._current=e.last+1,{range:e,content:r}},t}();i.BufferStringIterator=n},8437:(D,i,g)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.BufferLine=i.DEFAULT_ATTR_DATA=void 0;var a=g(482),h=g(643),u=g(511),f=g(3734);i.DEFAULT_ATTR_DATA=Object.freeze(new f.AttributeData);var v=function(){function b(o,c,d){d===void 0&&(d=!1),this.isWrapped=d,this._combined={},this._extendedAttrs={},this._data=new Uint32Array(3*o);for(var n=c||u.CellData.fromCharData([0,h.NULL_CELL_CHAR,h.NULL_CELL_WIDTH,h.NULL_CELL_CODE]),t=0;t<o;++t)this.setCell(t,n);this.length=o}return b.prototype.get=function(o){var c=this._data[3*o+0],d=2097151&c;return[this._data[3*o+1],2097152&c?this._combined[o]:d?(0,a.stringFromCodePoint)(d):"",c>>22,2097152&c?this._combined[o].charCodeAt(this._combined[o].length-1):d]},b.prototype.set=function(o,c){this._data[3*o+1]=c[h.CHAR_DATA_ATTR_INDEX],c[h.CHAR_DATA_CHAR_INDEX].length>1?(this._combined[o]=c[1],this._data[3*o+0]=2097152|o|c[h.CHAR_DATA_WIDTH_INDEX]<<22):this._data[3*o+0]=c[h.CHAR_DATA_CHAR_INDEX].charCodeAt(0)|c[h.CHAR_DATA_WIDTH_INDEX]<<22},b.prototype.getWidth=function(o){return this._data[3*o+0]>>22},b.prototype.hasWidth=function(o){return 12582912&this._data[3*o+0]},b.prototype.getFg=function(o){return this._data[3*o+1]},b.prototype.getBg=function(o){return this._data[3*o+2]},b.prototype.hasContent=function(o){return 4194303&this._data[3*o+0]},b.prototype.getCodePoint=function(o){var c=this._data[3*o+0];return 2097152&c?this._combined[o].charCodeAt(this._combined[o].length-1):2097151&c},b.prototype.isCombined=function(o){return 2097152&this._data[3*o+0]},b.prototype.getString=function(o){var c=this._data[3*o+0];return 2097152&c?this._combined[o]:2097151&c?(0,a.stringFromCodePoint)(2097151&c):""},b.prototype.loadCell=function(o,c){var d=3*o;return c.content=this._data[d+0],c.fg=this._data[d+1],c.bg=this._data[d+2],2097152&c.content&&(c.combinedData=this._combined[o]),268435456&c.bg&&(c.extended=this._extendedAttrs[o]),c},b.prototype.setCell=function(o,c){2097152&c.content&&(this._combined[o]=c.combinedData),268435456&c.bg&&(this._extendedAttrs[o]=c.extended),this._data[3*o+0]=c.content,this._data[3*o+1]=c.fg,this._data[3*o+2]=c.bg},b.prototype.setCellFromCodePoint=function(o,c,d,n,t,e){268435456&t&&(this._extendedAttrs[o]=e),this._data[3*o+0]=c|d<<22,this._data[3*o+1]=n,this._data[3*o+2]=t},b.prototype.addCodepointToCell=function(o,c){var d=this._data[3*o+0];2097152&d?this._combined[o]+=(0,a.stringFromCodePoint)(c):(2097151&d?(this._combined[o]=(0,a.stringFromCodePoint)(2097151&d)+(0,a.stringFromCodePoint)(c),d&=-2097152,d|=2097152):d=c|1<<22,this._data[3*o+0]=d)},b.prototype.insertCells=function(o,c,d,n){if((o%=this.length)&&this.getWidth(o-1)===2&&this.setCellFromCodePoint(o-1,0,1,n?.fg||0,n?.bg||0,n?.extended||new f.ExtendedAttrs),c<this.length-o){for(var t=new u.CellData,e=this.length-o-c-1;e>=0;--e)this.setCell(o+c+e,this.loadCell(o+e,t));for(e=0;e<c;++e)this.setCell(o+e,d)}else for(e=o;e<this.length;++e)this.setCell(e,d);this.getWidth(this.length-1)===2&&this.setCellFromCodePoint(this.length-1,0,1,n?.fg||0,n?.bg||0,n?.extended||new f.ExtendedAttrs)},b.prototype.deleteCells=function(o,c,d,n){if(o%=this.length,c<this.length-o){for(var t=new u.CellData,e=0;e<this.length-o-c;++e)this.setCell(o+e,this.loadCell(o+c+e,t));for(e=this.length-c;e<this.length;++e)this.setCell(e,d)}else for(e=o;e<this.length;++e)this.setCell(e,d);o&&this.getWidth(o-1)===2&&this.setCellFromCodePoint(o-1,0,1,n?.fg||0,n?.bg||0,n?.extended||new f.ExtendedAttrs),this.getWidth(o)!==0||this.hasContent(o)||this.setCellFromCodePoint(o,0,1,n?.fg||0,n?.bg||0,n?.extended||new f.ExtendedAttrs)},b.prototype.replaceCells=function(o,c,d,n){for(o&&this.getWidth(o-1)===2&&this.setCellFromCodePoint(o-1,0,1,n?.fg||0,n?.bg||0,n?.extended||new f.ExtendedAttrs),c<this.length&&this.getWidth(c-1)===2&&this.setCellFromCodePoint(c,0,1,n?.fg||0,n?.bg||0,n?.extended||new f.ExtendedAttrs);o<c&&o<this.length;)this.setCell(o++,d)},b.prototype.resize=function(o,c){if(o!==this.length){if(o>this.length){var d=new Uint32Array(3*o);this.length&&(3*o<this._data.length?d.set(this._data.subarray(0,3*o)):d.set(this._data)),this._data=d;for(var n=this.length;n<o;++n)this.setCell(n,c)}else if(o){(d=new Uint32Array(3*o)).set(this._data.subarray(0,3*o)),this._data=d;var t=Object.keys(this._combined);for(n=0;n<t.length;n++){var e=parseInt(t[n],10);e>=o&&delete this._combined[e]}}else this._data=new Uint32Array(0),this._combined={};this.length=o}},b.prototype.fill=function(o){this._combined={},this._extendedAttrs={};for(var c=0;c<this.length;++c)this.setCell(c,o)},b.prototype.copyFrom=function(o){for(var c in this.length!==o.length?this._data=new Uint32Array(o._data):this._data.set(o._data),this.length=o.length,this._combined={},o._combined)this._combined[c]=o._combined[c];for(var c in this._extendedAttrs={},o._extendedAttrs)this._extendedAttrs[c]=o._extendedAttrs[c];this.isWrapped=o.isWrapped},b.prototype.clone=function(){var o=new b(0);for(var c in o._data=new Uint32Array(this._data),o.length=this.length,this._combined)o._combined[c]=this._combined[c];for(var c in this._extendedAttrs)o._extendedAttrs[c]=this._extendedAttrs[c];return o.isWrapped=this.isWrapped,o},b.prototype.getTrimmedLength=function(){for(var o=this.length-1;o>=0;--o)if(4194303&this._data[3*o+0])return o+(this._data[3*o+0]>>22);return 0},b.prototype.copyCellsFrom=function(o,c,d,n,t){var e=o._data;if(t)for(var r=n-1;r>=0;r--)for(var s=0;s<3;s++)this._data[3*(d+r)+s]=e[3*(c+r)+s];else for(r=0;r<n;r++)for(s=0;s<3;s++)this._data[3*(d+r)+s]=e[3*(c+r)+s];var l=Object.keys(o._combined);for(s=0;s<l.length;s++){var _=parseInt(l[s],10);_>=c&&(this._combined[_-c+d]=o._combined[_])}},b.prototype.translateToString=function(o,c,d){o===void 0&&(o=!1),c===void 0&&(c=0),d===void 0&&(d=this.length),o&&(d=Math.min(d,this.getTrimmedLength()));for(var n="";c<d;){var t=this._data[3*c+0],e=2097151&t;n+=2097152&t?this._combined[c]:e?(0,a.stringFromCodePoint)(e):h.WHITESPACE_CELL_CHAR,c+=t>>22||1}return n},b}();i.BufferLine=v},4841:(D,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.getRangeLength=void 0,i.getRangeLength=function(g,a){if(g.start.y>g.end.y)throw new Error("Buffer range end ("+g.end.x+", "+g.end.y+") cannot be before start ("+g.start.x+", "+g.start.y+")");return a*(g.end.y-g.start.y)+(g.end.x-g.start.x+1)}},4634:(D,i)=>{function g(a,h,u){if(h===a.length-1)return a[h].getTrimmedLength();var f=!a[h].hasContent(u-1)&&a[h].getWidth(u-1)===1,v=a[h+1].getWidth(0)===2;return f&&v?u-1:u}Object.defineProperty(i,"__esModule",{value:!0}),i.getWrappedLineTrimmedLength=i.reflowSmallerGetNewLineLengths=i.reflowLargerApplyNewLayout=i.reflowLargerCreateNewLayout=i.reflowLargerGetLinesToRemove=void 0,i.reflowLargerGetLinesToRemove=function(a,h,u,f,v){for(var b=[],o=0;o<a.length-1;o++){var c=o,d=a.get(++c);if(d.isWrapped){for(var n=[a.get(o)];c<a.length&&d.isWrapped;)n.push(d),d=a.get(++c);if(f>=o&&f<c)o+=n.length-1;else{for(var t=0,e=g(n,t,h),r=1,s=0;r<n.length;){var l=g(n,r,h),_=l-s,p=u-e,w=Math.min(_,p);n[t].copyCellsFrom(n[r],s,e,w,!1),(e+=w)===u&&(t++,e=0),(s+=w)===l&&(r++,s=0),e===0&&t!==0&&n[t-1].getWidth(u-1)===2&&(n[t].copyCellsFrom(n[t-1],u-1,e++,1,!1),n[t-1].setCell(u-1,v))}n[t].replaceCells(e,u,v);for(var S=0,y=n.length-1;y>0&&(y>t||n[y].getTrimmedLength()===0);y--)S++;S>0&&(b.push(o+n.length-S),b.push(S)),o+=n.length-1}}}return b},i.reflowLargerCreateNewLayout=function(a,h){for(var u=[],f=0,v=h[f],b=0,o=0;o<a.length;o++)if(v===o){var c=h[++f];a.onDeleteEmitter.fire({index:o-b,amount:c}),o+=c-1,b+=c,v=h[++f]}else u.push(o);return{layout:u,countRemoved:b}},i.reflowLargerApplyNewLayout=function(a,h){for(var u=[],f=0;f<h.length;f++)u.push(a.get(h[f]));for(f=0;f<u.length;f++)a.set(f,u[f]);a.length=h.length},i.reflowSmallerGetNewLineLengths=function(a,h,u){for(var f=[],v=a.map(function(e,r){return g(a,r,h)}).reduce(function(e,r){return e+r}),b=0,o=0,c=0;c<v;){if(v-c<u){f.push(v-c);break}b+=u;var d=g(a,o,h);b>d&&(b-=d,o++);var n=a[o].getWidth(b-1)===2;n&&b--;var t=n?u-1:u;f.push(t),c+=t}return f},i.getWrappedLineTrimmedLength=g},5295:function(D,i,g){var a,h=this&&this.__extends||(a=function(b,o){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,d){c.__proto__=d}||function(c,d){for(var n in d)Object.prototype.hasOwnProperty.call(d,n)&&(c[n]=d[n])},a(b,o)},function(b,o){if(typeof o!="function"&&o!==null)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function c(){this.constructor=b}a(b,o),b.prototype=o===null?Object.create(o):(c.prototype=o.prototype,new c)});Object.defineProperty(i,"__esModule",{value:!0}),i.BufferSet=void 0;var u=g(9092),f=g(8460),v=function(b){function o(c,d){var n=b.call(this)||this;return n._optionsService=c,n._bufferService=d,n._onBufferActivate=n.register(new f.EventEmitter),n.reset(),n}return h(o,b),Object.defineProperty(o.prototype,"onBufferActivate",{get:function(){return this._onBufferActivate.event},enumerable:!1,configurable:!0}),o.prototype.reset=function(){this._normal=new u.Buffer(!0,this._optionsService,this._bufferService),this._normal.fillViewportRows(),this._alt=new u.Buffer(!1,this._optionsService,this._bufferService),this._activeBuffer=this._normal,this._onBufferActivate.fire({activeBuffer:this._normal,inactiveBuffer:this._alt}),this.setupTabStops()},Object.defineProperty(o.prototype,"alt",{get:function(){return this._alt},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"active",{get:function(){return this._activeBuffer},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"normal",{get:function(){return this._normal},enumerable:!1,configurable:!0}),o.prototype.activateNormalBuffer=function(){this._activeBuffer!==this._normal&&(this._normal.x=this._alt.x,this._normal.y=this._alt.y,this._alt.clear(),this._activeBuffer=this._normal,this._onBufferActivate.fire({activeBuffer:this._normal,inactiveBuffer:this._alt}))},o.prototype.activateAltBuffer=function(c){this._activeBuffer!==this._alt&&(this._alt.fillViewportRows(c),this._alt.x=this._normal.x,this._alt.y=this._normal.y,this._activeBuffer=this._alt,this._onBufferActivate.fire({activeBuffer:this._alt,inactiveBuffer:this._normal}))},o.prototype.resize=function(c,d){this._normal.resize(c,d),this._alt.resize(c,d)},o.prototype.setupTabStops=function(c){this._normal.setupTabStops(c),this._alt.setupTabStops(c)},o}(g(844).Disposable);i.BufferSet=v},511:function(D,i,g){var a,h=this&&this.__extends||(a=function(o,c){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,n){d.__proto__=n}||function(d,n){for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&(d[t]=n[t])},a(o,c)},function(o,c){if(typeof c!="function"&&c!==null)throw new TypeError("Class extends value "+String(c)+" is not a constructor or null");function d(){this.constructor=o}a(o,c),o.prototype=c===null?Object.create(c):(d.prototype=c.prototype,new d)});Object.defineProperty(i,"__esModule",{value:!0}),i.CellData=void 0;var u=g(482),f=g(643),v=g(3734),b=function(o){function c(){var d=o!==null&&o.apply(this,arguments)||this;return d.content=0,d.fg=0,d.bg=0,d.extended=new v.ExtendedAttrs,d.combinedData="",d}return h(c,o),c.fromCharData=function(d){var n=new c;return n.setFromCharData(d),n},c.prototype.isCombined=function(){return 2097152&this.content},c.prototype.getWidth=function(){return this.content>>22},c.prototype.getChars=function(){return 2097152&this.content?this.combinedData:2097151&this.content?(0,u.stringFromCodePoint)(2097151&this.content):""},c.prototype.getCode=function(){return this.isCombined()?this.combinedData.charCodeAt(this.combinedData.length-1):2097151&this.content},c.prototype.setFromCharData=function(d){this.fg=d[f.CHAR_DATA_ATTR_INDEX],this.bg=0;var n=!1;if(d[f.CHAR_DATA_CHAR_INDEX].length>2)n=!0;else if(d[f.CHAR_DATA_CHAR_INDEX].length===2){var t=d[f.CHAR_DATA_CHAR_INDEX].charCodeAt(0);if(55296<=t&&t<=56319){var e=d[f.CHAR_DATA_CHAR_INDEX].charCodeAt(1);56320<=e&&e<=57343?this.content=1024*(t-55296)+e-56320+65536|d[f.CHAR_DATA_WIDTH_INDEX]<<22:n=!0}else n=!0}else this.content=d[f.CHAR_DATA_CHAR_INDEX].charCodeAt(0)|d[f.CHAR_DATA_WIDTH_INDEX]<<22;n&&(this.combinedData=d[f.CHAR_DATA_CHAR_INDEX],this.content=2097152|d[f.CHAR_DATA_WIDTH_INDEX]<<22)},c.prototype.getAsCharData=function(){return[this.fg,this.getChars(),this.getWidth(),this.getCode()]},c}(v.AttributeData);i.CellData=b},643:(D,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.WHITESPACE_CELL_CODE=i.WHITESPACE_CELL_WIDTH=i.WHITESPACE_CELL_CHAR=i.NULL_CELL_CODE=i.NULL_CELL_WIDTH=i.NULL_CELL_CHAR=i.CHAR_DATA_CODE_INDEX=i.CHAR_DATA_WIDTH_INDEX=i.CHAR_DATA_CHAR_INDEX=i.CHAR_DATA_ATTR_INDEX=i.DEFAULT_ATTR=i.DEFAULT_COLOR=void 0,i.DEFAULT_COLOR=256,i.DEFAULT_ATTR=256|i.DEFAULT_COLOR<<9,i.CHAR_DATA_ATTR_INDEX=0,i.CHAR_DATA_CHAR_INDEX=1,i.CHAR_DATA_WIDTH_INDEX=2,i.CHAR_DATA_CODE_INDEX=3,i.NULL_CELL_CHAR="",i.NULL_CELL_WIDTH=1,i.NULL_CELL_CODE=0,i.WHITESPACE_CELL_CHAR=" ",i.WHITESPACE_CELL_WIDTH=1,i.WHITESPACE_CELL_CODE=32},4863:function(D,i,g){var a,h=this&&this.__extends||(a=function(v,b){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(o[d]=c[d])},a(v,b)},function(v,b){if(typeof b!="function"&&b!==null)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");function o(){this.constructor=v}a(v,b),v.prototype=b===null?Object.create(b):(o.prototype=b.prototype,new o)});Object.defineProperty(i,"__esModule",{value:!0}),i.Marker=void 0;var u=g(8460),f=function(v){function b(o){var c=v.call(this)||this;return c.line=o,c._id=b._nextId++,c.isDisposed=!1,c._onDispose=new u.EventEmitter,c}return h(b,v),Object.defineProperty(b.prototype,"id",{get:function(){return this._id},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"onDispose",{get:function(){return this._onDispose.event},enumerable:!1,configurable:!0}),b.prototype.dispose=function(){this.isDisposed||(this.isDisposed=!0,this.line=-1,this._onDispose.fire(),v.prototype.dispose.call(this))},b._nextId=1,b}(g(844).Disposable);i.Marker=f},7116:(D,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.DEFAULT_CHARSET=i.CHARSETS=void 0,i.CHARSETS={},i.DEFAULT_CHARSET=i.CHARSETS.B,i.CHARSETS[0]={"`":"\u25C6",a:"\u2592",b:"\u2409",c:"\u240C",d:"\u240D",e:"\u240A",f:"\xB0",g:"\xB1",h:"\u2424",i:"\u240B",j:"\u2518",k:"\u2510",l:"\u250C",m:"\u2514",n:"\u253C",o:"\u23BA",p:"\u23BB",q:"\u2500",r:"\u23BC",s:"\u23BD",t:"\u251C",u:"\u2524",v:"\u2534",w:"\u252C",x:"\u2502",y:"\u2264",z:"\u2265","{":"\u03C0","|":"\u2260","}":"\xA3","~":"\xB7"},i.CHARSETS.A={"#":"\xA3"},i.CHARSETS.B=void 0,i.CHARSETS[4]={"#":"\xA3","@":"\xBE","[":"ij","\\":"\xBD","]":"|","{":"\xA8","|":"f","}":"\xBC","~":"\xB4"},i.CHARSETS.C=i.CHARSETS[5]={"[":"\xC4","\\":"\xD6","]":"\xC5","^":"\xDC","`":"\xE9","{":"\xE4","|":"\xF6","}":"\xE5","~":"\xFC"},i.CHARSETS.R={"#":"\xA3","@":"\xE0","[":"\xB0","\\":"\xE7","]":"\xA7","{":"\xE9","|":"\xF9","}":"\xE8","~":"\xA8"},i.CHARSETS.Q={"@":"\xE0","[":"\xE2","\\":"\xE7","]":"\xEA","^":"\xEE","`":"\xF4","{":"\xE9","|":"\xF9","}":"\xE8","~":"\xFB"},i.CHARSETS.K={"@":"\xA7","[":"\xC4","\\":"\xD6","]":"\xDC","{":"\xE4","|":"\xF6","}":"\xFC","~":"\xDF"},i.CHARSETS.Y={"#":"\xA3","@":"\xA7","[":"\xB0","\\":"\xE7","]":"\xE9","`":"\xF9","{":"\xE0","|":"\xF2","}":"\xE8","~":"\xEC"},i.CHARSETS.E=i.CHARSETS[6]={"@":"\xC4","[":"\xC6","\\":"\xD8","]":"\xC5","^":"\xDC","`":"\xE4","{":"\xE6","|":"\xF8","}":"\xE5","~":"\xFC"},i.CHARSETS.Z={"#":"\xA3","@":"\xA7","[":"\xA1","\\":"\xD1","]":"\xBF","{":"\xB0","|":"\xF1","}":"\xE7"},i.CHARSETS.H=i.CHARSETS[7]={"@":"\xC9","[":"\xC4","\\":"\xD6","]":"\xC5","^":"\xDC","`":"\xE9","{":"\xE4","|":"\xF6","}":"\xE5","~":"\xFC"},i.CHARSETS["="]={"#":"\xF9","@":"\xE0","[":"\xE9","\\":"\xE7","]":"\xEA","^":"\xEE",_:"\xE8","`":"\xF4","{":"\xE4","|":"\xF6","}":"\xFC","~":"\xFB"}},2584:(D,i)=>{var g,a;Object.defineProperty(i,"__esModule",{value:!0}),i.C1=i.C0=void 0,(a=i.C0||(i.C0={})).NUL="\0",a.SOH="",a.STX="",a.ETX="",a.EOT="",a.ENQ="",a.ACK="",a.BEL="\x07",a.BS="\b",a.HT="	",a.LF=`
`,a.VT="\v",a.FF="\f",a.CR="\r",a.SO="",a.SI="",a.DLE="",a.DC1="",a.DC2="",a.DC3="",a.DC4="",a.NAK="",a.SYN="",a.ETB="",a.CAN="",a.EM="",a.SUB="",a.ESC="\x1B",a.FS="",a.GS="",a.RS="",a.US="",a.SP=" ",a.DEL="\x7F",(g=i.C1||(i.C1={})).PAD="\x80",g.HOP="\x81",g.BPH="\x82",g.NBH="\x83",g.IND="\x84",g.NEL="\x85",g.SSA="\x86",g.ESA="\x87",g.HTS="\x88",g.HTJ="\x89",g.VTS="\x8A",g.PLD="\x8B",g.PLU="\x8C",g.RI="\x8D",g.SS2="\x8E",g.SS3="\x8F",g.DCS="\x90",g.PU1="\x91",g.PU2="\x92",g.STS="\x93",g.CCH="\x94",g.MW="\x95",g.SPA="\x96",g.EPA="\x97",g.SOS="\x98",g.SGCI="\x99",g.SCI="\x9A",g.CSI="\x9B",g.ST="\x9C",g.OSC="\x9D",g.PM="\x9E",g.APC="\x9F"},7399:(D,i,g)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.evaluateKeyboardEvent=void 0;var a=g(2584),h={48:["0",")"],49:["1","!"],50:["2","@"],51:["3","#"],52:["4","$"],53:["5","%"],54:["6","^"],55:["7","&"],56:["8","*"],57:["9","("],186:[";",":"],187:["=","+"],188:[",","<"],189:["-","_"],190:[".",">"],191:["/","?"],192:["`","~"],219:["[","{"],220:["\\","|"],221:["]","}"],222:["'",'"']};i.evaluateKeyboardEvent=function(u,f,v,b){var o={type:0,cancel:!1,key:void 0},c=(u.shiftKey?1:0)|(u.altKey?2:0)|(u.ctrlKey?4:0)|(u.metaKey?8:0);switch(u.keyCode){case 0:u.key==="UIKeyInputUpArrow"?o.key=f?a.C0.ESC+"OA":a.C0.ESC+"[A":u.key==="UIKeyInputLeftArrow"?o.key=f?a.C0.ESC+"OD":a.C0.ESC+"[D":u.key==="UIKeyInputRightArrow"?o.key=f?a.C0.ESC+"OC":a.C0.ESC+"[C":u.key==="UIKeyInputDownArrow"&&(o.key=f?a.C0.ESC+"OB":a.C0.ESC+"[B");break;case 8:if(u.shiftKey){o.key=a.C0.BS;break}if(u.altKey){o.key=a.C0.ESC+a.C0.DEL;break}o.key=a.C0.DEL;break;case 9:if(u.shiftKey){o.key=a.C0.ESC+"[Z";break}o.key=a.C0.HT,o.cancel=!0;break;case 13:o.key=u.altKey?a.C0.ESC+a.C0.CR:a.C0.CR,o.cancel=!0;break;case 27:o.key=a.C0.ESC,u.altKey&&(o.key=a.C0.ESC+a.C0.ESC),o.cancel=!0;break;case 37:if(u.metaKey)break;c?(o.key=a.C0.ESC+"[1;"+(c+1)+"D",o.key===a.C0.ESC+"[1;3D"&&(o.key=a.C0.ESC+(v?"b":"[1;5D"))):o.key=f?a.C0.ESC+"OD":a.C0.ESC+"[D";break;case 39:if(u.metaKey)break;c?(o.key=a.C0.ESC+"[1;"+(c+1)+"C",o.key===a.C0.ESC+"[1;3C"&&(o.key=a.C0.ESC+(v?"f":"[1;5C"))):o.key=f?a.C0.ESC+"OC":a.C0.ESC+"[C";break;case 38:if(u.metaKey)break;c?(o.key=a.C0.ESC+"[1;"+(c+1)+"A",v||o.key!==a.C0.ESC+"[1;3A"||(o.key=a.C0.ESC+"[1;5A")):o.key=f?a.C0.ESC+"OA":a.C0.ESC+"[A";break;case 40:if(u.metaKey)break;c?(o.key=a.C0.ESC+"[1;"+(c+1)+"B",v||o.key!==a.C0.ESC+"[1;3B"||(o.key=a.C0.ESC+"[1;5B")):o.key=f?a.C0.ESC+"OB":a.C0.ESC+"[B";break;case 45:u.shiftKey||u.ctrlKey||(o.key=a.C0.ESC+"[2~");break;case 46:o.key=c?a.C0.ESC+"[3;"+(c+1)+"~":a.C0.ESC+"[3~";break;case 36:o.key=c?a.C0.ESC+"[1;"+(c+1)+"H":f?a.C0.ESC+"OH":a.C0.ESC+"[H";break;case 35:o.key=c?a.C0.ESC+"[1;"+(c+1)+"F":f?a.C0.ESC+"OF":a.C0.ESC+"[F";break;case 33:u.shiftKey?o.type=2:o.key=a.C0.ESC+"[5~";break;case 34:u.shiftKey?o.type=3:o.key=a.C0.ESC+"[6~";break;case 112:o.key=c?a.C0.ESC+"[1;"+(c+1)+"P":a.C0.ESC+"OP";break;case 113:o.key=c?a.C0.ESC+"[1;"+(c+1)+"Q":a.C0.ESC+"OQ";break;case 114:o.key=c?a.C0.ESC+"[1;"+(c+1)+"R":a.C0.ESC+"OR";break;case 115:o.key=c?a.C0.ESC+"[1;"+(c+1)+"S":a.C0.ESC+"OS";break;case 116:o.key=c?a.C0.ESC+"[15;"+(c+1)+"~":a.C0.ESC+"[15~";break;case 117:o.key=c?a.C0.ESC+"[17;"+(c+1)+"~":a.C0.ESC+"[17~";break;case 118:o.key=c?a.C0.ESC+"[18;"+(c+1)+"~":a.C0.ESC+"[18~";break;case 119:o.key=c?a.C0.ESC+"[19;"+(c+1)+"~":a.C0.ESC+"[19~";break;case 120:o.key=c?a.C0.ESC+"[20;"+(c+1)+"~":a.C0.ESC+"[20~";break;case 121:o.key=c?a.C0.ESC+"[21;"+(c+1)+"~":a.C0.ESC+"[21~";break;case 122:o.key=c?a.C0.ESC+"[23;"+(c+1)+"~":a.C0.ESC+"[23~";break;case 123:o.key=c?a.C0.ESC+"[24;"+(c+1)+"~":a.C0.ESC+"[24~";break;default:if(!u.ctrlKey||u.shiftKey||u.altKey||u.metaKey)if(v&&!b||!u.altKey||u.metaKey)!v||u.altKey||u.ctrlKey||u.shiftKey||!u.metaKey?u.key&&!u.ctrlKey&&!u.altKey&&!u.metaKey&&u.keyCode>=48&&u.key.length===1?o.key=u.key:u.key&&u.ctrlKey&&u.key==="_"&&(o.key=a.C0.US):u.keyCode===65&&(o.type=1);else{var d=h[u.keyCode],n=d?.[u.shiftKey?1:0];if(n)o.key=a.C0.ESC+n;else if(u.keyCode>=65&&u.keyCode<=90){var t=u.ctrlKey?u.keyCode-64:u.keyCode+32;o.key=a.C0.ESC+String.fromCharCode(t)}}else u.keyCode>=65&&u.keyCode<=90?o.key=String.fromCharCode(u.keyCode-64):u.keyCode===32?o.key=a.C0.NUL:u.keyCode>=51&&u.keyCode<=55?o.key=String.fromCharCode(u.keyCode-51+27):u.keyCode===56?o.key=a.C0.DEL:u.keyCode===219?o.key=a.C0.ESC:u.keyCode===220?o.key=a.C0.FS:u.keyCode===221&&(o.key=a.C0.GS)}return o}},482:(D,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.Utf8ToUtf32=i.StringToUtf32=i.utf32ToString=i.stringFromCodePoint=void 0,i.stringFromCodePoint=function(h){return h>65535?(h-=65536,String.fromCharCode(55296+(h>>10))+String.fromCharCode(h%1024+56320)):String.fromCharCode(h)},i.utf32ToString=function(h,u,f){u===void 0&&(u=0),f===void 0&&(f=h.length);for(var v="",b=u;b<f;++b){var o=h[b];o>65535?(o-=65536,v+=String.fromCharCode(55296+(o>>10))+String.fromCharCode(o%1024+56320)):v+=String.fromCharCode(o)}return v};var g=function(){function h(){this._interim=0}return h.prototype.clear=function(){this._interim=0},h.prototype.decode=function(u,f){var v=u.length;if(!v)return 0;var b=0,o=0;this._interim&&(56320<=(n=u.charCodeAt(o++))&&n<=57343?f[b++]=1024*(this._interim-55296)+n-56320+65536:(f[b++]=this._interim,f[b++]=n),this._interim=0);for(var c=o;c<v;++c){var d=u.charCodeAt(c);if(55296<=d&&d<=56319){if(++c>=v)return this._interim=d,b;var n;56320<=(n=u.charCodeAt(c))&&n<=57343?f[b++]=1024*(d-55296)+n-56320+65536:(f[b++]=d,f[b++]=n)}else d!==65279&&(f[b++]=d)}return b},h}();i.StringToUtf32=g;var a=function(){function h(){this.interim=new Uint8Array(3)}return h.prototype.clear=function(){this.interim.fill(0)},h.prototype.decode=function(u,f){var v=u.length;if(!v)return 0;var b,o,c,d,n=0,t=0,e=0;if(this.interim[0]){var r=!1,s=this.interim[0];s&=(224&s)==192?31:(240&s)==224?15:7;for(var l=0,_=void 0;(_=63&this.interim[++l])&&l<4;)s<<=6,s|=_;for(var p=(224&this.interim[0])==192?2:(240&this.interim[0])==224?3:4,w=p-l;e<w;){if(e>=v)return 0;if((192&(_=u[e++]))!=128){e--,r=!0;break}this.interim[l++]=_,s<<=6,s|=63&_}r||(p===2?s<128?e--:f[n++]=s:p===3?s<2048||s>=55296&&s<=57343||s===65279||(f[n++]=s):s<65536||s>1114111||(f[n++]=s)),this.interim.fill(0)}for(var S=v-4,y=e;y<v;){for(;!(!(y<S)||128&(b=u[y])||128&(o=u[y+1])||128&(c=u[y+2])||128&(d=u[y+3]));)f[n++]=b,f[n++]=o,f[n++]=c,f[n++]=d,y+=4;if((b=u[y++])<128)f[n++]=b;else if((224&b)==192){if(y>=v)return this.interim[0]=b,n;if((192&(o=u[y++]))!=128){y--;continue}if((t=(31&b)<<6|63&o)<128){y--;continue}f[n++]=t}else if((240&b)==224){if(y>=v)return this.interim[0]=b,n;if((192&(o=u[y++]))!=128){y--;continue}if(y>=v)return this.interim[0]=b,this.interim[1]=o,n;if((192&(c=u[y++]))!=128){y--;continue}if((t=(15&b)<<12|(63&o)<<6|63&c)<2048||t>=55296&&t<=57343||t===65279)continue;f[n++]=t}else if((248&b)==240){if(y>=v)return this.interim[0]=b,n;if((192&(o=u[y++]))!=128){y--;continue}if(y>=v)return this.interim[0]=b,this.interim[1]=o,n;if((192&(c=u[y++]))!=128){y--;continue}if(y>=v)return this.interim[0]=b,this.interim[1]=o,this.interim[2]=c,n;if((192&(d=u[y++]))!=128){y--;continue}if((t=(7&b)<<18|(63&o)<<12|(63&c)<<6|63&d)<65536||t>1114111)continue;f[n++]=t}}return n},h}();i.Utf8ToUtf32=a},225:(D,i,g)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.UnicodeV6=void 0;var a,h=g(8273),u=[[768,879],[1155,1158],[1160,1161],[1425,1469],[1471,1471],[1473,1474],[1476,1477],[1479,1479],[1536,1539],[1552,1557],[1611,1630],[1648,1648],[1750,1764],[1767,1768],[1770,1773],[1807,1807],[1809,1809],[1840,1866],[1958,1968],[2027,2035],[2305,2306],[2364,2364],[2369,2376],[2381,2381],[2385,2388],[2402,2403],[2433,2433],[2492,2492],[2497,2500],[2509,2509],[2530,2531],[2561,2562],[2620,2620],[2625,2626],[2631,2632],[2635,2637],[2672,2673],[2689,2690],[2748,2748],[2753,2757],[2759,2760],[2765,2765],[2786,2787],[2817,2817],[2876,2876],[2879,2879],[2881,2883],[2893,2893],[2902,2902],[2946,2946],[3008,3008],[3021,3021],[3134,3136],[3142,3144],[3146,3149],[3157,3158],[3260,3260],[3263,3263],[3270,3270],[3276,3277],[3298,3299],[3393,3395],[3405,3405],[3530,3530],[3538,3540],[3542,3542],[3633,3633],[3636,3642],[3655,3662],[3761,3761],[3764,3769],[3771,3772],[3784,3789],[3864,3865],[3893,3893],[3895,3895],[3897,3897],[3953,3966],[3968,3972],[3974,3975],[3984,3991],[3993,4028],[4038,4038],[4141,4144],[4146,4146],[4150,4151],[4153,4153],[4184,4185],[4448,4607],[4959,4959],[5906,5908],[5938,5940],[5970,5971],[6002,6003],[6068,6069],[6071,6077],[6086,6086],[6089,6099],[6109,6109],[6155,6157],[6313,6313],[6432,6434],[6439,6440],[6450,6450],[6457,6459],[6679,6680],[6912,6915],[6964,6964],[6966,6970],[6972,6972],[6978,6978],[7019,7027],[7616,7626],[7678,7679],[8203,8207],[8234,8238],[8288,8291],[8298,8303],[8400,8431],[12330,12335],[12441,12442],[43014,43014],[43019,43019],[43045,43046],[64286,64286],[65024,65039],[65056,65059],[65279,65279],[65529,65531]],f=[[68097,68099],[68101,68102],[68108,68111],[68152,68154],[68159,68159],[119143,119145],[119155,119170],[119173,119179],[119210,119213],[119362,119364],[917505,917505],[917536,917631],[917760,917999]],v=function(){function b(){if(this.version="6",!a){a=new Uint8Array(65536),(0,h.fill)(a,1),a[0]=0,(0,h.fill)(a,0,1,32),(0,h.fill)(a,0,127,160),(0,h.fill)(a,2,4352,4448),a[9001]=2,a[9002]=2,(0,h.fill)(a,2,11904,42192),a[12351]=1,(0,h.fill)(a,2,44032,55204),(0,h.fill)(a,2,63744,64256),(0,h.fill)(a,2,65040,65050),(0,h.fill)(a,2,65072,65136),(0,h.fill)(a,2,65280,65377),(0,h.fill)(a,2,65504,65511);for(var o=0;o<u.length;++o)(0,h.fill)(a,0,u[o][0],u[o][1]+1)}}return b.prototype.wcwidth=function(o){return o<32?0:o<127?1:o<65536?a[o]:function(c,d){var n,t=0,e=d.length-1;if(c<d[0][0]||c>d[e][1])return!1;for(;e>=t;)if(c>d[n=t+e>>1][1])t=n+1;else{if(!(c<d[n][0]))return!0;e=n-1}return!1}(o,f)?0:o>=131072&&o<=196605||o>=196608&&o<=262141?2:1},b}();i.UnicodeV6=v},5981:(D,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.WriteBuffer=void 0;var g=typeof queueMicrotask>"u"?function(h){Promise.resolve().then(h)}:queueMicrotask,a=function(){function h(u){this._action=u,this._writeBuffer=[],this._callbacks=[],this._pendingData=0,this._bufferOffset=0,this._isSyncWriting=!1,this._syncCalls=0}return h.prototype.writeSync=function(u,f){if(f!==void 0&&this._syncCalls>f)this._syncCalls=0;else if(this._pendingData+=u.length,this._writeBuffer.push(u),this._callbacks.push(void 0),this._syncCalls++,!this._isSyncWriting){var v;for(this._isSyncWriting=!0;v=this._writeBuffer.shift();){this._action(v);var b=this._callbacks.shift();b&&b()}this._pendingData=0,this._bufferOffset=2147483647,this._isSyncWriting=!1,this._syncCalls=0}},h.prototype.write=function(u,f){var v=this;if(this._pendingData>5e7)throw new Error("write data discarded, use flow control to avoid losing data");this._writeBuffer.length||(this._bufferOffset=0,setTimeout(function(){return v._innerWrite()})),this._pendingData+=u.length,this._writeBuffer.push(u),this._callbacks.push(f)},h.prototype._innerWrite=function(u,f){var v=this;u===void 0&&(u=0),f===void 0&&(f=!0);for(var b=u||Date.now();this._writeBuffer.length>this._bufferOffset;){var o=this._writeBuffer[this._bufferOffset],c=this._action(o,f);if(c)return void c.catch(function(n){return g(function(){throw n}),Promise.resolve(!1)}).then(function(n){return Date.now()-b>=12?setTimeout(function(){return v._innerWrite(0,n)}):v._innerWrite(b,n)});var d=this._callbacks[this._bufferOffset];if(d&&d(),this._bufferOffset++,this._pendingData-=o.length,Date.now()-b>=12)break}this._writeBuffer.length>this._bufferOffset?(this._bufferOffset>50&&(this._writeBuffer=this._writeBuffer.slice(this._bufferOffset),this._callbacks=this._callbacks.slice(this._bufferOffset),this._bufferOffset=0),setTimeout(function(){return v._innerWrite()})):(this._writeBuffer.length=0,this._callbacks.length=0,this._pendingData=0,this._bufferOffset=0)},h}();i.WriteBuffer=a},5941:(D,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.toRgbString=i.parseColor=void 0;var g=/^([\da-f]{1})\/([\da-f]{1})\/([\da-f]{1})$|^([\da-f]{2})\/([\da-f]{2})\/([\da-f]{2})$|^([\da-f]{3})\/([\da-f]{3})\/([\da-f]{3})$|^([\da-f]{4})\/([\da-f]{4})\/([\da-f]{4})$/,a=/^[\da-f]+$/;function h(u,f){var v=u.toString(16),b=v.length<2?"0"+v:v;switch(f){case 4:return v[0];case 8:return b;case 12:return(b+b).slice(0,3);default:return b+b}}i.parseColor=function(u){if(u){var f=u.toLowerCase();if(f.indexOf("rgb:")===0){f=f.slice(4);var v=g.exec(f);if(v){var b=v[1]?15:v[4]?255:v[7]?4095:65535;return[Math.round(parseInt(v[1]||v[4]||v[7]||v[10],16)/b*255),Math.round(parseInt(v[2]||v[5]||v[8]||v[11],16)/b*255),Math.round(parseInt(v[3]||v[6]||v[9]||v[12],16)/b*255)]}}else if(f.indexOf("#")===0&&(f=f.slice(1),a.exec(f)&&[3,6,9,12].includes(f.length))){for(var o=f.length/3,c=[0,0,0],d=0;d<3;++d){var n=parseInt(f.slice(o*d,o*d+o),16);c[d]=o===1?n<<4:o===2?n:o===3?n>>4:n>>8}return c}}},i.toRgbString=function(u,f){f===void 0&&(f=16);var v=u[0],b=u[1],o=u[2];return"rgb:"+h(v,f)+"/"+h(b,f)+"/"+h(o,f)}},5770:(D,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.PAYLOAD_LIMIT=void 0,i.PAYLOAD_LIMIT=1e7},6351:(D,i,g)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.DcsHandler=i.DcsParser=void 0;var a=g(482),h=g(8742),u=g(5770),f=[],v=function(){function c(){this._handlers=Object.create(null),this._active=f,this._ident=0,this._handlerFb=function(){},this._stack={paused:!1,loopPosition:0,fallThrough:!1}}return c.prototype.dispose=function(){this._handlers=Object.create(null),this._handlerFb=function(){},this._active=f},c.prototype.registerHandler=function(d,n){this._handlers[d]===void 0&&(this._handlers[d]=[]);var t=this._handlers[d];return t.push(n),{dispose:function(){var e=t.indexOf(n);e!==-1&&t.splice(e,1)}}},c.prototype.clearHandler=function(d){this._handlers[d]&&delete this._handlers[d]},c.prototype.setHandlerFallback=function(d){this._handlerFb=d},c.prototype.reset=function(){if(this._active.length)for(var d=this._stack.paused?this._stack.loopPosition-1:this._active.length-1;d>=0;--d)this._active[d].unhook(!1);this._stack.paused=!1,this._active=f,this._ident=0},c.prototype.hook=function(d,n){if(this.reset(),this._ident=d,this._active=this._handlers[d]||f,this._active.length)for(var t=this._active.length-1;t>=0;t--)this._active[t].hook(n);else this._handlerFb(this._ident,"HOOK",n)},c.prototype.put=function(d,n,t){if(this._active.length)for(var e=this._active.length-1;e>=0;e--)this._active[e].put(d,n,t);else this._handlerFb(this._ident,"PUT",(0,a.utf32ToString)(d,n,t))},c.prototype.unhook=function(d,n){if(n===void 0&&(n=!0),this._active.length){var t=!1,e=this._active.length-1,r=!1;if(this._stack.paused&&(e=this._stack.loopPosition-1,t=n,r=this._stack.fallThrough,this._stack.paused=!1),!r&&t===!1){for(;e>=0&&(t=this._active[e].unhook(d))!==!0;e--)if(t instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=e,this._stack.fallThrough=!1,t;e--}for(;e>=0;e--)if((t=this._active[e].unhook(!1))instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=e,this._stack.fallThrough=!0,t}else this._handlerFb(this._ident,"UNHOOK",d);this._active=f,this._ident=0},c}();i.DcsParser=v;var b=new h.Params;b.addParam(0);var o=function(){function c(d){this._handler=d,this._data="",this._params=b,this._hitLimit=!1}return c.prototype.hook=function(d){this._params=d.length>1||d.params[0]?d.clone():b,this._data="",this._hitLimit=!1},c.prototype.put=function(d,n,t){this._hitLimit||(this._data+=(0,a.utf32ToString)(d,n,t),this._data.length>u.PAYLOAD_LIMIT&&(this._data="",this._hitLimit=!0))},c.prototype.unhook=function(d){var n=this,t=!1;if(this._hitLimit)t=!1;else if(d&&(t=this._handler(this._data,this._params))instanceof Promise)return t.then(function(e){return n._params=b,n._data="",n._hitLimit=!1,e});return this._params=b,this._data="",this._hitLimit=!1,t},c}();i.DcsHandler=o},2015:function(D,i,g){var a,h=this&&this.__extends||(a=function(t,e){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,s){r.__proto__=s}||function(r,s){for(var l in s)Object.prototype.hasOwnProperty.call(s,l)&&(r[l]=s[l])},a(t,e)},function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}a(t,e),t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(i,"__esModule",{value:!0}),i.EscapeSequenceParser=i.VT500_TRANSITION_TABLE=i.TransitionTable=void 0;var u=g(844),f=g(8273),v=g(8742),b=g(6242),o=g(6351),c=function(){function t(e){this.table=new Uint8Array(e)}return t.prototype.setDefault=function(e,r){(0,f.fill)(this.table,e<<4|r)},t.prototype.add=function(e,r,s,l){this.table[r<<8|e]=s<<4|l},t.prototype.addMany=function(e,r,s,l){for(var _=0;_<e.length;_++)this.table[r<<8|e[_]]=s<<4|l},t}();i.TransitionTable=c;var d=160;i.VT500_TRANSITION_TABLE=function(){var t=new c(4095),e=Array.apply(null,Array(256)).map(function(w,S){return S}),r=function(w,S){return e.slice(w,S)},s=r(32,127),l=r(0,24);l.push(25),l.push.apply(l,r(28,32));var _,p=r(0,14);for(_ in t.setDefault(1,0),t.addMany(s,0,2,0),p)t.addMany([24,26,153,154],_,3,0),t.addMany(r(128,144),_,3,0),t.addMany(r(144,152),_,3,0),t.add(156,_,0,0),t.add(27,_,11,1),t.add(157,_,4,8),t.addMany([152,158,159],_,0,7),t.add(155,_,11,3),t.add(144,_,11,9);return t.addMany(l,0,3,0),t.addMany(l,1,3,1),t.add(127,1,0,1),t.addMany(l,8,0,8),t.addMany(l,3,3,3),t.add(127,3,0,3),t.addMany(l,4,3,4),t.add(127,4,0,4),t.addMany(l,6,3,6),t.addMany(l,5,3,5),t.add(127,5,0,5),t.addMany(l,2,3,2),t.add(127,2,0,2),t.add(93,1,4,8),t.addMany(s,8,5,8),t.add(127,8,5,8),t.addMany([156,27,24,26,7],8,6,0),t.addMany(r(28,32),8,0,8),t.addMany([88,94,95],1,0,7),t.addMany(s,7,0,7),t.addMany(l,7,0,7),t.add(156,7,0,0),t.add(127,7,0,7),t.add(91,1,11,3),t.addMany(r(64,127),3,7,0),t.addMany(r(48,60),3,8,4),t.addMany([60,61,62,63],3,9,4),t.addMany(r(48,60),4,8,4),t.addMany(r(64,127),4,7,0),t.addMany([60,61,62,63],4,0,6),t.addMany(r(32,64),6,0,6),t.add(127,6,0,6),t.addMany(r(64,127),6,0,0),t.addMany(r(32,48),3,9,5),t.addMany(r(32,48),5,9,5),t.addMany(r(48,64),5,0,6),t.addMany(r(64,127),5,7,0),t.addMany(r(32,48),4,9,5),t.addMany(r(32,48),1,9,2),t.addMany(r(32,48),2,9,2),t.addMany(r(48,127),2,10,0),t.addMany(r(48,80),1,10,0),t.addMany(r(81,88),1,10,0),t.addMany([89,90,92],1,10,0),t.addMany(r(96,127),1,10,0),t.add(80,1,11,9),t.addMany(l,9,0,9),t.add(127,9,0,9),t.addMany(r(28,32),9,0,9),t.addMany(r(32,48),9,9,12),t.addMany(r(48,60),9,8,10),t.addMany([60,61,62,63],9,9,10),t.addMany(l,11,0,11),t.addMany(r(32,128),11,0,11),t.addMany(r(28,32),11,0,11),t.addMany(l,10,0,10),t.add(127,10,0,10),t.addMany(r(28,32),10,0,10),t.addMany(r(48,60),10,8,10),t.addMany([60,61,62,63],10,0,11),t.addMany(r(32,48),10,9,12),t.addMany(l,12,0,12),t.add(127,12,0,12),t.addMany(r(28,32),12,0,12),t.addMany(r(32,48),12,9,12),t.addMany(r(48,64),12,0,11),t.addMany(r(64,127),12,12,13),t.addMany(r(64,127),10,12,13),t.addMany(r(64,127),9,12,13),t.addMany(l,13,13,13),t.addMany(s,13,13,13),t.add(127,13,0,13),t.addMany([27,156,24,26],13,14,0),t.add(d,0,2,0),t.add(d,8,5,8),t.add(d,6,0,6),t.add(d,11,0,11),t.add(d,13,13,13),t}();var n=function(t){function e(r){r===void 0&&(r=i.VT500_TRANSITION_TABLE);var s=t.call(this)||this;return s._transitions=r,s._parseStack={state:0,handlers:[],handlerPos:0,transition:0,chunkPos:0},s.initialState=0,s.currentState=s.initialState,s._params=new v.Params,s._params.addParam(0),s._collect=0,s.precedingCodepoint=0,s._printHandlerFb=function(l,_,p){},s._executeHandlerFb=function(l){},s._csiHandlerFb=function(l,_){},s._escHandlerFb=function(l){},s._errorHandlerFb=function(l){return l},s._printHandler=s._printHandlerFb,s._executeHandlers=Object.create(null),s._csiHandlers=Object.create(null),s._escHandlers=Object.create(null),s._oscParser=new b.OscParser,s._dcsParser=new o.DcsParser,s._errorHandler=s._errorHandlerFb,s.registerEscHandler({final:"\\"},function(){return!0}),s}return h(e,t),e.prototype._identifier=function(r,s){s===void 0&&(s=[64,126]);var l=0;if(r.prefix){if(r.prefix.length>1)throw new Error("only one byte as prefix supported");if((l=r.prefix.charCodeAt(0))&&60>l||l>63)throw new Error("prefix must be in range 0x3c .. 0x3f")}if(r.intermediates){if(r.intermediates.length>2)throw new Error("only two bytes as intermediates are supported");for(var _=0;_<r.intermediates.length;++_){var p=r.intermediates.charCodeAt(_);if(32>p||p>47)throw new Error("intermediate must be in range 0x20 .. 0x2f");l<<=8,l|=p}}if(r.final.length!==1)throw new Error("final must be a single byte");var w=r.final.charCodeAt(0);if(s[0]>w||w>s[1])throw new Error("final must be in range "+s[0]+" .. "+s[1]);return(l<<=8)|w},e.prototype.identToString=function(r){for(var s=[];r;)s.push(String.fromCharCode(255&r)),r>>=8;return s.reverse().join("")},e.prototype.dispose=function(){this._csiHandlers=Object.create(null),this._executeHandlers=Object.create(null),this._escHandlers=Object.create(null),this._oscParser.dispose(),this._dcsParser.dispose()},e.prototype.setPrintHandler=function(r){this._printHandler=r},e.prototype.clearPrintHandler=function(){this._printHandler=this._printHandlerFb},e.prototype.registerEscHandler=function(r,s){var l=this._identifier(r,[48,126]);this._escHandlers[l]===void 0&&(this._escHandlers[l]=[]);var _=this._escHandlers[l];return _.push(s),{dispose:function(){var p=_.indexOf(s);p!==-1&&_.splice(p,1)}}},e.prototype.clearEscHandler=function(r){this._escHandlers[this._identifier(r,[48,126])]&&delete this._escHandlers[this._identifier(r,[48,126])]},e.prototype.setEscHandlerFallback=function(r){this._escHandlerFb=r},e.prototype.setExecuteHandler=function(r,s){this._executeHandlers[r.charCodeAt(0)]=s},e.prototype.clearExecuteHandler=function(r){this._executeHandlers[r.charCodeAt(0)]&&delete this._executeHandlers[r.charCodeAt(0)]},e.prototype.setExecuteHandlerFallback=function(r){this._executeHandlerFb=r},e.prototype.registerCsiHandler=function(r,s){var l=this._identifier(r);this._csiHandlers[l]===void 0&&(this._csiHandlers[l]=[]);var _=this._csiHandlers[l];return _.push(s),{dispose:function(){var p=_.indexOf(s);p!==-1&&_.splice(p,1)}}},e.prototype.clearCsiHandler=function(r){this._csiHandlers[this._identifier(r)]&&delete this._csiHandlers[this._identifier(r)]},e.prototype.setCsiHandlerFallback=function(r){this._csiHandlerFb=r},e.prototype.registerDcsHandler=function(r,s){return this._dcsParser.registerHandler(this._identifier(r),s)},e.prototype.clearDcsHandler=function(r){this._dcsParser.clearHandler(this._identifier(r))},e.prototype.setDcsHandlerFallback=function(r){this._dcsParser.setHandlerFallback(r)},e.prototype.registerOscHandler=function(r,s){return this._oscParser.registerHandler(r,s)},e.prototype.clearOscHandler=function(r){this._oscParser.clearHandler(r)},e.prototype.setOscHandlerFallback=function(r){this._oscParser.setHandlerFallback(r)},e.prototype.setErrorHandler=function(r){this._errorHandler=r},e.prototype.clearErrorHandler=function(){this._errorHandler=this._errorHandlerFb},e.prototype.reset=function(){this.currentState=this.initialState,this._oscParser.reset(),this._dcsParser.reset(),this._params.reset(),this._params.addParam(0),this._collect=0,this.precedingCodepoint=0,this._parseStack.state!==0&&(this._parseStack.state=2,this._parseStack.handlers=[])},e.prototype._preserveStack=function(r,s,l,_,p){this._parseStack.state=r,this._parseStack.handlers=s,this._parseStack.handlerPos=l,this._parseStack.transition=_,this._parseStack.chunkPos=p},e.prototype.parse=function(r,s,l){var _,p=0,w=0,S=0;if(this._parseStack.state)if(this._parseStack.state===2)this._parseStack.state=0,S=this._parseStack.chunkPos+1;else{if(l===void 0||this._parseStack.state===1)throw this._parseStack.state=1,new Error("improper continuation due to previous async handler, giving up parsing");var y=this._parseStack.handlers,m=this._parseStack.handlerPos-1;switch(this._parseStack.state){case 3:if(l===!1&&m>-1){for(;m>=0&&(_=y[m](this._params))!==!0;m--)if(_ instanceof Promise)return this._parseStack.handlerPos=m,_}this._parseStack.handlers=[];break;case 4:if(l===!1&&m>-1){for(;m>=0&&(_=y[m]())!==!0;m--)if(_ instanceof Promise)return this._parseStack.handlerPos=m,_}this._parseStack.handlers=[];break;case 6:if(p=r[this._parseStack.chunkPos],_=this._dcsParser.unhook(p!==24&&p!==26,l))return _;p===27&&(this._parseStack.transition|=1),this._params.reset(),this._params.addParam(0),this._collect=0;break;case 5:if(p=r[this._parseStack.chunkPos],_=this._oscParser.end(p!==24&&p!==26,l))return _;p===27&&(this._parseStack.transition|=1),this._params.reset(),this._params.addParam(0),this._collect=0}this._parseStack.state=0,S=this._parseStack.chunkPos+1,this.precedingCodepoint=0,this.currentState=15&this._parseStack.transition}for(var M=S;M<s;++M){switch(p=r[M],(w=this._transitions.table[this.currentState<<8|(p<160?p:d)])>>4){case 2:for(var E=M+1;;++E){if(E>=s||(p=r[E])<32||p>126&&p<d){this._printHandler(r,M,E),M=E-1;break}if(++E>=s||(p=r[E])<32||p>126&&p<d){this._printHandler(r,M,E),M=E-1;break}if(++E>=s||(p=r[E])<32||p>126&&p<d){this._printHandler(r,M,E),M=E-1;break}if(++E>=s||(p=r[E])<32||p>126&&p<d){this._printHandler(r,M,E),M=E-1;break}}break;case 3:this._executeHandlers[p]?this._executeHandlers[p]():this._executeHandlerFb(p),this.precedingCodepoint=0;break;case 0:break;case 1:if(this._errorHandler({position:M,code:p,currentState:this.currentState,collect:this._collect,params:this._params,abort:!1}).abort)return;break;case 7:for(var W=(y=this._csiHandlers[this._collect<<8|p])?y.length-1:-1;W>=0&&(_=y[W](this._params))!==!0;W--)if(_ instanceof Promise)return this._preserveStack(3,y,W,w,M),_;W<0&&this._csiHandlerFb(this._collect<<8|p,this._params),this.precedingCodepoint=0;break;case 8:do switch(p){case 59:this._params.addParam(0);break;case 58:this._params.addSubParam(-1);break;default:this._params.addDigit(p-48)}while(++M<s&&(p=r[M])>47&&p<60);M--;break;case 9:this._collect<<=8,this._collect|=p;break;case 10:for(var A=this._escHandlers[this._collect<<8|p],L=A?A.length-1:-1;L>=0&&(_=A[L]())!==!0;L--)if(_ instanceof Promise)return this._preserveStack(4,A,L,w,M),_;L<0&&this._escHandlerFb(this._collect<<8|p),this.precedingCodepoint=0;break;case 11:this._params.reset(),this._params.addParam(0),this._collect=0;break;case 12:this._dcsParser.hook(this._collect<<8|p,this._params);break;case 13:for(var B=M+1;;++B)if(B>=s||(p=r[B])===24||p===26||p===27||p>127&&p<d){this._dcsParser.put(r,M,B),M=B-1;break}break;case 14:if(_=this._dcsParser.unhook(p!==24&&p!==26))return this._preserveStack(6,[],0,w,M),_;p===27&&(w|=1),this._params.reset(),this._params.addParam(0),this._collect=0,this.precedingCodepoint=0;break;case 4:this._oscParser.start();break;case 5:for(var I=M+1;;I++)if(I>=s||(p=r[I])<32||p>127&&p<d){this._oscParser.put(r,M,I),M=I-1;break}break;case 6:if(_=this._oscParser.end(p!==24&&p!==26))return this._preserveStack(5,[],0,w,M),_;p===27&&(w|=1),this._params.reset(),this._params.addParam(0),this._collect=0,this.precedingCodepoint=0}this.currentState=15&w}},e}(u.Disposable);i.EscapeSequenceParser=n},6242:(D,i,g)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.OscHandler=i.OscParser=void 0;var a=g(5770),h=g(482),u=[],f=function(){function b(){this._state=0,this._active=u,this._id=-1,this._handlers=Object.create(null),this._handlerFb=function(){},this._stack={paused:!1,loopPosition:0,fallThrough:!1}}return b.prototype.registerHandler=function(o,c){this._handlers[o]===void 0&&(this._handlers[o]=[]);var d=this._handlers[o];return d.push(c),{dispose:function(){var n=d.indexOf(c);n!==-1&&d.splice(n,1)}}},b.prototype.clearHandler=function(o){this._handlers[o]&&delete this._handlers[o]},b.prototype.setHandlerFallback=function(o){this._handlerFb=o},b.prototype.dispose=function(){this._handlers=Object.create(null),this._handlerFb=function(){},this._active=u},b.prototype.reset=function(){if(this._state===2)for(var o=this._stack.paused?this._stack.loopPosition-1:this._active.length-1;o>=0;--o)this._active[o].end(!1);this._stack.paused=!1,this._active=u,this._id=-1,this._state=0},b.prototype._start=function(){if(this._active=this._handlers[this._id]||u,this._active.length)for(var o=this._active.length-1;o>=0;o--)this._active[o].start();else this._handlerFb(this._id,"START")},b.prototype._put=function(o,c,d){if(this._active.length)for(var n=this._active.length-1;n>=0;n--)this._active[n].put(o,c,d);else this._handlerFb(this._id,"PUT",(0,h.utf32ToString)(o,c,d))},b.prototype.start=function(){this.reset(),this._state=1},b.prototype.put=function(o,c,d){if(this._state!==3){if(this._state===1)for(;c<d;){var n=o[c++];if(n===59){this._state=2,this._start();break}if(n<48||57<n)return void(this._state=3);this._id===-1&&(this._id=0),this._id=10*this._id+n-48}this._state===2&&d-c>0&&this._put(o,c,d)}},b.prototype.end=function(o,c){if(c===void 0&&(c=!0),this._state!==0){if(this._state!==3)if(this._state===1&&this._start(),this._active.length){var d=!1,n=this._active.length-1,t=!1;if(this._stack.paused&&(n=this._stack.loopPosition-1,d=c,t=this._stack.fallThrough,this._stack.paused=!1),!t&&d===!1){for(;n>=0&&(d=this._active[n].end(o))!==!0;n--)if(d instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=n,this._stack.fallThrough=!1,d;n--}for(;n>=0;n--)if((d=this._active[n].end(!1))instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=n,this._stack.fallThrough=!0,d}else this._handlerFb(this._id,"END",o);this._active=u,this._id=-1,this._state=0}},b}();i.OscParser=f;var v=function(){function b(o){this._handler=o,this._data="",this._hitLimit=!1}return b.prototype.start=function(){this._data="",this._hitLimit=!1},b.prototype.put=function(o,c,d){this._hitLimit||(this._data+=(0,h.utf32ToString)(o,c,d),this._data.length>a.PAYLOAD_LIMIT&&(this._data="",this._hitLimit=!0))},b.prototype.end=function(o){var c=this,d=!1;if(this._hitLimit)d=!1;else if(o&&(d=this._handler(this._data))instanceof Promise)return d.then(function(n){return c._data="",c._hitLimit=!1,n});return this._data="",this._hitLimit=!1,d},b}();i.OscHandler=v},8742:(D,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.Params=void 0;var g=2147483647,a=function(){function h(u,f){if(u===void 0&&(u=32),f===void 0&&(f=32),this.maxLength=u,this.maxSubParamsLength=f,f>256)throw new Error("maxSubParamsLength must not be greater than 256");this.params=new Int32Array(u),this.length=0,this._subParams=new Int32Array(f),this._subParamsLength=0,this._subParamsIdx=new Uint16Array(u),this._rejectDigits=!1,this._rejectSubDigits=!1,this._digitIsSub=!1}return h.fromArray=function(u){var f=new h;if(!u.length)return f;for(var v=Array.isArray(u[0])?1:0;v<u.length;++v){var b=u[v];if(Array.isArray(b))for(var o=0;o<b.length;++o)f.addSubParam(b[o]);else f.addParam(b)}return f},h.prototype.clone=function(){var u=new h(this.maxLength,this.maxSubParamsLength);return u.params.set(this.params),u.length=this.length,u._subParams.set(this._subParams),u._subParamsLength=this._subParamsLength,u._subParamsIdx.set(this._subParamsIdx),u._rejectDigits=this._rejectDigits,u._rejectSubDigits=this._rejectSubDigits,u._digitIsSub=this._digitIsSub,u},h.prototype.toArray=function(){for(var u=[],f=0;f<this.length;++f){u.push(this.params[f]);var v=this._subParamsIdx[f]>>8,b=255&this._subParamsIdx[f];b-v>0&&u.push(Array.prototype.slice.call(this._subParams,v,b))}return u},h.prototype.reset=function(){this.length=0,this._subParamsLength=0,this._rejectDigits=!1,this._rejectSubDigits=!1,this._digitIsSub=!1},h.prototype.addParam=function(u){if(this._digitIsSub=!1,this.length>=this.maxLength)this._rejectDigits=!0;else{if(u<-1)throw new Error("values lesser than -1 are not allowed");this._subParamsIdx[this.length]=this._subParamsLength<<8|this._subParamsLength,this.params[this.length++]=u>g?g:u}},h.prototype.addSubParam=function(u){if(this._digitIsSub=!0,this.length)if(this._rejectDigits||this._subParamsLength>=this.maxSubParamsLength)this._rejectSubDigits=!0;else{if(u<-1)throw new Error("values lesser than -1 are not allowed");this._subParams[this._subParamsLength++]=u>g?g:u,this._subParamsIdx[this.length-1]++}},h.prototype.hasSubParams=function(u){return(255&this._subParamsIdx[u])-(this._subParamsIdx[u]>>8)>0},h.prototype.getSubParams=function(u){var f=this._subParamsIdx[u]>>8,v=255&this._subParamsIdx[u];return v-f>0?this._subParams.subarray(f,v):null},h.prototype.getSubParamsAll=function(){for(var u={},f=0;f<this.length;++f){var v=this._subParamsIdx[f]>>8,b=255&this._subParamsIdx[f];b-v>0&&(u[f]=this._subParams.slice(v,b))}return u},h.prototype.addDigit=function(u){var f;if(!(this._rejectDigits||!(f=this._digitIsSub?this._subParamsLength:this.length)||this._digitIsSub&&this._rejectSubDigits)){var v=this._digitIsSub?this._subParams:this.params,b=v[f-1];v[f-1]=~b?Math.min(10*b+u,g):u}},h}();i.Params=a},5741:(D,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.AddonManager=void 0;var g=function(){function a(){this._addons=[]}return a.prototype.dispose=function(){for(var h=this._addons.length-1;h>=0;h--)this._addons[h].instance.dispose()},a.prototype.loadAddon=function(h,u){var f=this,v={instance:u,dispose:u.dispose,isDisposed:!1};this._addons.push(v),u.dispose=function(){return f._wrappedAddonDispose(v)},u.activate(h)},a.prototype._wrappedAddonDispose=function(h){if(!h.isDisposed){for(var u=-1,f=0;f<this._addons.length;f++)if(this._addons[f]===h){u=f;break}if(u===-1)throw new Error("Could not dispose an addon that has not been loaded");h.isDisposed=!0,h.dispose.apply(h.instance),this._addons.splice(u,1)}},a}();i.AddonManager=g},8771:(D,i,g)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.BufferApiView=void 0;var a=g(3785),h=g(511),u=function(){function f(v,b){this._buffer=v,this.type=b}return f.prototype.init=function(v){return this._buffer=v,this},Object.defineProperty(f.prototype,"cursorY",{get:function(){return this._buffer.y},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"cursorX",{get:function(){return this._buffer.x},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"viewportY",{get:function(){return this._buffer.ydisp},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"baseY",{get:function(){return this._buffer.ybase},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"length",{get:function(){return this._buffer.lines.length},enumerable:!1,configurable:!0}),f.prototype.getLine=function(v){var b=this._buffer.lines.get(v);if(b)return new a.BufferLineApiView(b)},f.prototype.getNullCell=function(){return new h.CellData},f}();i.BufferApiView=u},3785:(D,i,g)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.BufferLineApiView=void 0;var a=g(511),h=function(){function u(f){this._line=f}return Object.defineProperty(u.prototype,"isWrapped",{get:function(){return this._line.isWrapped},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"length",{get:function(){return this._line.length},enumerable:!1,configurable:!0}),u.prototype.getCell=function(f,v){if(!(f<0||f>=this._line.length))return v?(this._line.loadCell(f,v),v):this._line.loadCell(f,new a.CellData)},u.prototype.translateToString=function(f,v,b){return this._line.translateToString(f,v,b)},u}();i.BufferLineApiView=h},8285:(D,i,g)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.BufferNamespaceApi=void 0;var a=g(8771),h=g(8460),u=function(){function f(v){var b=this;this._core=v,this._onBufferChange=new h.EventEmitter,this._normal=new a.BufferApiView(this._core.buffers.normal,"normal"),this._alternate=new a.BufferApiView(this._core.buffers.alt,"alternate"),this._core.buffers.onBufferActivate(function(){return b._onBufferChange.fire(b.active)})}return Object.defineProperty(f.prototype,"onBufferChange",{get:function(){return this._onBufferChange.event},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"active",{get:function(){if(this._core.buffers.active===this._core.buffers.normal)return this.normal;if(this._core.buffers.active===this._core.buffers.alt)return this.alternate;throw new Error("Active buffer is neither normal nor alternate")},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"normal",{get:function(){return this._normal.init(this._core.buffers.normal)},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"alternate",{get:function(){return this._alternate.init(this._core.buffers.alt)},enumerable:!1,configurable:!0}),f}();i.BufferNamespaceApi=u},7975:(D,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.ParserApi=void 0;var g=function(){function a(h){this._core=h}return a.prototype.registerCsiHandler=function(h,u){return this._core.registerCsiHandler(h,function(f){return u(f.toArray())})},a.prototype.addCsiHandler=function(h,u){return this.registerCsiHandler(h,u)},a.prototype.registerDcsHandler=function(h,u){return this._core.registerDcsHandler(h,function(f,v){return u(f,v.toArray())})},a.prototype.addDcsHandler=function(h,u){return this.registerDcsHandler(h,u)},a.prototype.registerEscHandler=function(h,u){return this._core.registerEscHandler(h,u)},a.prototype.addEscHandler=function(h,u){return this.registerEscHandler(h,u)},a.prototype.registerOscHandler=function(h,u){return this._core.registerOscHandler(h,u)},a.prototype.addOscHandler=function(h,u){return this.registerOscHandler(h,u)},a}();i.ParserApi=g},7090:(D,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.UnicodeApi=void 0;var g=function(){function a(h){this._core=h}return a.prototype.register=function(h){this._core.unicodeService.register(h)},Object.defineProperty(a.prototype,"versions",{get:function(){return this._core.unicodeService.versions},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"activeVersion",{get:function(){return this._core.unicodeService.activeVersion},set:function(h){this._core.unicodeService.activeVersion=h},enumerable:!1,configurable:!0}),a}();i.UnicodeApi=g},744:function(D,i,g){var a,h=this&&this.__extends||(a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])},a(n,t)},function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=n}a(n,t),n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}),u=this&&this.__decorate||function(n,t,e,r){var s,l=arguments.length,_=l<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")_=Reflect.decorate(n,t,e,r);else for(var p=n.length-1;p>=0;p--)(s=n[p])&&(_=(l<3?s(_):l>3?s(t,e,_):s(t,e))||_);return l>3&&_&&Object.defineProperty(t,e,_),_},f=this&&this.__param||function(n,t){return function(e,r){t(e,r,n)}};Object.defineProperty(i,"__esModule",{value:!0}),i.BufferService=i.MINIMUM_ROWS=i.MINIMUM_COLS=void 0;var v=g(2585),b=g(5295),o=g(8460),c=g(844);i.MINIMUM_COLS=2,i.MINIMUM_ROWS=1;var d=function(n){function t(e){var r=n.call(this)||this;return r._optionsService=e,r.isUserScrolling=!1,r._onResize=new o.EventEmitter,r._onScroll=new o.EventEmitter,r.cols=Math.max(e.rawOptions.cols||0,i.MINIMUM_COLS),r.rows=Math.max(e.rawOptions.rows||0,i.MINIMUM_ROWS),r.buffers=new b.BufferSet(e,r),r}return h(t,n),Object.defineProperty(t.prototype,"onResize",{get:function(){return this._onResize.event},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"onScroll",{get:function(){return this._onScroll.event},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"buffer",{get:function(){return this.buffers.active},enumerable:!1,configurable:!0}),t.prototype.dispose=function(){n.prototype.dispose.call(this),this.buffers.dispose()},t.prototype.resize=function(e,r){this.cols=e,this.rows=r,this.buffers.resize(e,r),this.buffers.setupTabStops(this.cols),this._onResize.fire({cols:e,rows:r})},t.prototype.reset=function(){this.buffers.reset(),this.isUserScrolling=!1},t.prototype.scroll=function(e,r){r===void 0&&(r=!1);var s,l=this.buffer;(s=this._cachedBlankLine)&&s.length===this.cols&&s.getFg(0)===e.fg&&s.getBg(0)===e.bg||(s=l.getBlankLine(e,r),this._cachedBlankLine=s),s.isWrapped=r;var _=l.ybase+l.scrollTop,p=l.ybase+l.scrollBottom;if(l.scrollTop===0){var w=l.lines.isFull;p===l.lines.length-1?w?l.lines.recycle().copyFrom(s):l.lines.push(s.clone()):l.lines.splice(p+1,0,s.clone()),w?this.isUserScrolling&&(l.ydisp=Math.max(l.ydisp-1,0)):(l.ybase++,this.isUserScrolling||l.ydisp++)}else{var S=p-_+1;l.lines.shiftElements(_+1,S-1,-1),l.lines.set(p,s.clone())}this.isUserScrolling||(l.ydisp=l.ybase),this._onScroll.fire(l.ydisp)},t.prototype.scrollLines=function(e,r,s){var l=this.buffer;if(e<0){if(l.ydisp===0)return;this.isUserScrolling=!0}else e+l.ydisp>=l.ybase&&(this.isUserScrolling=!1);var _=l.ydisp;l.ydisp=Math.max(Math.min(l.ydisp+e,l.ybase),0),_!==l.ydisp&&(r||this._onScroll.fire(l.ydisp))},t.prototype.scrollPages=function(e){this.scrollLines(e*(this.rows-1))},t.prototype.scrollToTop=function(){this.scrollLines(-this.buffer.ydisp)},t.prototype.scrollToBottom=function(){this.scrollLines(this.buffer.ybase-this.buffer.ydisp)},t.prototype.scrollToLine=function(e){var r=e-this.buffer.ydisp;r!==0&&this.scrollLines(r)},u([f(0,v.IOptionsService)],t)}(c.Disposable);i.BufferService=d},7994:(D,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.CharsetService=void 0;var g=function(){function a(){this.glevel=0,this._charsets=[]}return a.prototype.reset=function(){this.charset=void 0,this._charsets=[],this.glevel=0},a.prototype.setgLevel=function(h){this.glevel=h,this.charset=this._charsets[h]},a.prototype.setgCharset=function(h,u){this._charsets[h]=u,this.glevel===h&&(this.charset=u)},a}();i.CharsetService=g},1753:function(D,i,g){var a=this&&this.__decorate||function(n,t,e,r){var s,l=arguments.length,_=l<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")_=Reflect.decorate(n,t,e,r);else for(var p=n.length-1;p>=0;p--)(s=n[p])&&(_=(l<3?s(_):l>3?s(t,e,_):s(t,e))||_);return l>3&&_&&Object.defineProperty(t,e,_),_},h=this&&this.__param||function(n,t){return function(e,r){t(e,r,n)}};Object.defineProperty(i,"__esModule",{value:!0}),i.CoreMouseService=void 0;var u=g(2585),f=g(8460),v={NONE:{events:0,restrict:function(){return!1}},X10:{events:1,restrict:function(n){return n.button!==4&&n.action===1&&(n.ctrl=!1,n.alt=!1,n.shift=!1,!0)}},VT200:{events:19,restrict:function(n){return n.action!==32}},DRAG:{events:23,restrict:function(n){return n.action!==32||n.button!==3}},ANY:{events:31,restrict:function(n){return!0}}};function b(n,t){var e=(n.ctrl?16:0)|(n.shift?4:0)|(n.alt?8:0);return n.button===4?(e|=64,e|=n.action):(e|=3&n.button,4&n.button&&(e|=64),8&n.button&&(e|=128),n.action===32?e|=32:n.action!==0||t||(e|=3)),e}var o=String.fromCharCode,c={DEFAULT:function(n){var t=[b(n,!1)+32,n.col+32,n.row+32];return t[0]>255||t[1]>255||t[2]>255?"":"\x1B[M"+o(t[0])+o(t[1])+o(t[2])},SGR:function(n){var t=n.action===0&&n.button!==4?"m":"M";return"\x1B[<"+b(n,!0)+";"+n.col+";"+n.row+t}},d=function(){function n(t,e){this._bufferService=t,this._coreService=e,this._protocols={},this._encodings={},this._activeProtocol="",this._activeEncoding="",this._onProtocolChange=new f.EventEmitter,this._lastEvent=null;for(var r=0,s=Object.keys(v);r<s.length;r++){var l=s[r];this.addProtocol(l,v[l])}for(var _=0,p=Object.keys(c);_<p.length;_++){var w=p[_];this.addEncoding(w,c[w])}this.reset()}return n.prototype.addProtocol=function(t,e){this._protocols[t]=e},n.prototype.addEncoding=function(t,e){this._encodings[t]=e},Object.defineProperty(n.prototype,"activeProtocol",{get:function(){return this._activeProtocol},set:function(t){if(!this._protocols[t])throw new Error('unknown protocol "'+t+'"');this._activeProtocol=t,this._onProtocolChange.fire(this._protocols[t].events)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"areMouseEventsActive",{get:function(){return this._protocols[this._activeProtocol].events!==0},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"activeEncoding",{get:function(){return this._activeEncoding},set:function(t){if(!this._encodings[t])throw new Error('unknown encoding "'+t+'"');this._activeEncoding=t},enumerable:!1,configurable:!0}),n.prototype.reset=function(){this.activeProtocol="NONE",this.activeEncoding="DEFAULT",this._lastEvent=null},Object.defineProperty(n.prototype,"onProtocolChange",{get:function(){return this._onProtocolChange.event},enumerable:!1,configurable:!0}),n.prototype.triggerMouseEvent=function(t){if(t.col<0||t.col>=this._bufferService.cols||t.row<0||t.row>=this._bufferService.rows||t.button===4&&t.action===32||t.button===3&&t.action!==32||t.button!==4&&(t.action===2||t.action===3)||(t.col++,t.row++,t.action===32&&this._lastEvent&&this._compareEvents(this._lastEvent,t))||!this._protocols[this._activeProtocol].restrict(t))return!1;var e=this._encodings[this._activeEncoding](t);return e&&(this._activeEncoding==="DEFAULT"?this._coreService.triggerBinaryEvent(e):this._coreService.triggerDataEvent(e,!0)),this._lastEvent=t,!0},n.prototype.explainEvents=function(t){return{down:!!(1&t),up:!!(2&t),drag:!!(4&t),move:!!(8&t),wheel:!!(16&t)}},n.prototype._compareEvents=function(t,e){return t.col===e.col&&t.row===e.row&&t.button===e.button&&t.action===e.action&&t.ctrl===e.ctrl&&t.alt===e.alt&&t.shift===e.shift},a([h(0,u.IBufferService),h(1,u.ICoreService)],n)}();i.CoreMouseService=d},6975:function(D,i,g){var a,h=this&&this.__extends||(a=function(e,r){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var _ in l)Object.prototype.hasOwnProperty.call(l,_)&&(s[_]=l[_])},a(e,r)},function(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function s(){this.constructor=e}a(e,r),e.prototype=r===null?Object.create(r):(s.prototype=r.prototype,new s)}),u=this&&this.__decorate||function(e,r,s,l){var _,p=arguments.length,w=p<3?r:l===null?l=Object.getOwnPropertyDescriptor(r,s):l;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")w=Reflect.decorate(e,r,s,l);else for(var S=e.length-1;S>=0;S--)(_=e[S])&&(w=(p<3?_(w):p>3?_(r,s,w):_(r,s))||w);return p>3&&w&&Object.defineProperty(r,s,w),w},f=this&&this.__param||function(e,r){return function(s,l){r(s,l,e)}};Object.defineProperty(i,"__esModule",{value:!0}),i.CoreService=void 0;var v=g(2585),b=g(8460),o=g(1439),c=g(844),d=Object.freeze({insertMode:!1}),n=Object.freeze({applicationCursorKeys:!1,applicationKeypad:!1,bracketedPasteMode:!1,origin:!1,reverseWraparound:!1,sendFocus:!1,wraparound:!0}),t=function(e){function r(s,l,_,p){var w=e.call(this)||this;return w._bufferService=l,w._logService=_,w._optionsService=p,w.isCursorInitialized=!1,w.isCursorHidden=!1,w._onData=w.register(new b.EventEmitter),w._onUserInput=w.register(new b.EventEmitter),w._onBinary=w.register(new b.EventEmitter),w._scrollToBottom=s,w.register({dispose:function(){return w._scrollToBottom=void 0}}),w.modes=(0,o.clone)(d),w.decPrivateModes=(0,o.clone)(n),w}return h(r,e),Object.defineProperty(r.prototype,"onData",{get:function(){return this._onData.event},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"onUserInput",{get:function(){return this._onUserInput.event},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"onBinary",{get:function(){return this._onBinary.event},enumerable:!1,configurable:!0}),r.prototype.reset=function(){this.modes=(0,o.clone)(d),this.decPrivateModes=(0,o.clone)(n)},r.prototype.triggerDataEvent=function(s,l){if(l===void 0&&(l=!1),!this._optionsService.rawOptions.disableStdin){var _=this._bufferService.buffer;_.ybase!==_.ydisp&&this._scrollToBottom(),l&&this._onUserInput.fire(),this._logService.debug('sending data "'+s+'"',function(){return s.split("").map(function(p){return p.charCodeAt(0)})}),this._onData.fire(s)}},r.prototype.triggerBinaryEvent=function(s){this._optionsService.rawOptions.disableStdin||(this._logService.debug('sending binary "'+s+'"',function(){return s.split("").map(function(l){return l.charCodeAt(0)})}),this._onBinary.fire(s))},u([f(1,v.IBufferService),f(2,v.ILogService),f(3,v.IOptionsService)],r)}(c.Disposable);i.CoreService=t},3730:function(D,i,g){var a=this&&this.__decorate||function(v,b,o,c){var d,n=arguments.length,t=n<3?b:c===null?c=Object.getOwnPropertyDescriptor(b,o):c;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")t=Reflect.decorate(v,b,o,c);else for(var e=v.length-1;e>=0;e--)(d=v[e])&&(t=(n<3?d(t):n>3?d(b,o,t):d(b,o))||t);return n>3&&t&&Object.defineProperty(b,o,t),t},h=this&&this.__param||function(v,b){return function(o,c){b(o,c,v)}};Object.defineProperty(i,"__esModule",{value:!0}),i.DirtyRowService=void 0;var u=g(2585),f=function(){function v(b){this._bufferService=b,this.clearRange()}return Object.defineProperty(v.prototype,"start",{get:function(){return this._start},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"end",{get:function(){return this._end},enumerable:!1,configurable:!0}),v.prototype.clearRange=function(){this._start=this._bufferService.buffer.y,this._end=this._bufferService.buffer.y},v.prototype.markDirty=function(b){b<this._start?this._start=b:b>this._end&&(this._end=b)},v.prototype.markRangeDirty=function(b,o){if(b>o){var c=b;b=o,o=c}b<this._start&&(this._start=b),o>this._end&&(this._end=o)},v.prototype.markAllDirty=function(){this.markRangeDirty(0,this._bufferService.rows-1)},a([h(0,u.IBufferService)],v)}();i.DirtyRowService=f},4348:function(D,i,g){var a=this&&this.__spreadArray||function(b,o,c){if(c||arguments.length===2)for(var d,n=0,t=o.length;n<t;n++)!d&&n in o||(d||(d=Array.prototype.slice.call(o,0,n)),d[n]=o[n]);return b.concat(d||Array.prototype.slice.call(o))};Object.defineProperty(i,"__esModule",{value:!0}),i.InstantiationService=i.ServiceCollection=void 0;var h=g(2585),u=g(8343),f=function(){function b(){for(var o=[],c=0;c<arguments.length;c++)o[c]=arguments[c];this._entries=new Map;for(var d=0,n=o;d<n.length;d++){var t=n[d],e=t[0],r=t[1];this.set(e,r)}}return b.prototype.set=function(o,c){var d=this._entries.get(o);return this._entries.set(o,c),d},b.prototype.forEach=function(o){this._entries.forEach(function(c,d){return o(d,c)})},b.prototype.has=function(o){return this._entries.has(o)},b.prototype.get=function(o){return this._entries.get(o)},b}();i.ServiceCollection=f;var v=function(){function b(){this._services=new f,this._services.set(h.IInstantiationService,this)}return b.prototype.setService=function(o,c){this._services.set(o,c)},b.prototype.getService=function(o){return this._services.get(o)},b.prototype.createInstance=function(o){for(var c=[],d=1;d<arguments.length;d++)c[d-1]=arguments[d];for(var n=(0,u.getServiceDependencies)(o).sort(function(p,w){return p.index-w.index}),t=[],e=0,r=n;e<r.length;e++){var s=r[e],l=this._services.get(s.id);if(!l)throw new Error("[createInstance] "+o.name+" depends on UNKNOWN service "+s.id+".");t.push(l)}var _=n.length>0?n[0].index:c.length;if(c.length!==_)throw new Error("[createInstance] First service dependency of "+o.name+" at position "+(_+1)+" conflicts with "+c.length+" static arguments");return new(o.bind.apply(o,a([void 0],a(a([],c,!0),t,!0),!1)))},b}();i.InstantiationService=v},7866:function(D,i,g){var a=this&&this.__decorate||function(o,c,d,n){var t,e=arguments.length,r=e<3?c:n===null?n=Object.getOwnPropertyDescriptor(c,d):n;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(o,c,d,n);else for(var s=o.length-1;s>=0;s--)(t=o[s])&&(r=(e<3?t(r):e>3?t(c,d,r):t(c,d))||r);return e>3&&r&&Object.defineProperty(c,d,r),r},h=this&&this.__param||function(o,c){return function(d,n){c(d,n,o)}},u=this&&this.__spreadArray||function(o,c,d){if(d||arguments.length===2)for(var n,t=0,e=c.length;t<e;t++)!n&&t in c||(n||(n=Array.prototype.slice.call(c,0,t)),n[t]=c[t]);return o.concat(n||Array.prototype.slice.call(c))};Object.defineProperty(i,"__esModule",{value:!0}),i.LogService=void 0;var f=g(2585),v={debug:f.LogLevelEnum.DEBUG,info:f.LogLevelEnum.INFO,warn:f.LogLevelEnum.WARN,error:f.LogLevelEnum.ERROR,off:f.LogLevelEnum.OFF},b=function(){function o(c){var d=this;this._optionsService=c,this.logLevel=f.LogLevelEnum.OFF,this._updateLogLevel(),this._optionsService.onOptionChange(function(n){n==="logLevel"&&d._updateLogLevel()})}return o.prototype._updateLogLevel=function(){this.logLevel=v[this._optionsService.rawOptions.logLevel]},o.prototype._evalLazyOptionalParams=function(c){for(var d=0;d<c.length;d++)typeof c[d]=="function"&&(c[d]=c[d]())},o.prototype._log=function(c,d,n){this._evalLazyOptionalParams(n),c.call.apply(c,u([console,"xterm.js: "+d],n,!1))},o.prototype.debug=function(c){for(var d=[],n=1;n<arguments.length;n++)d[n-1]=arguments[n];this.logLevel<=f.LogLevelEnum.DEBUG&&this._log(console.log,c,d)},o.prototype.info=function(c){for(var d=[],n=1;n<arguments.length;n++)d[n-1]=arguments[n];this.logLevel<=f.LogLevelEnum.INFO&&this._log(console.info,c,d)},o.prototype.warn=function(c){for(var d=[],n=1;n<arguments.length;n++)d[n-1]=arguments[n];this.logLevel<=f.LogLevelEnum.WARN&&this._log(console.warn,c,d)},o.prototype.error=function(c){for(var d=[],n=1;n<arguments.length;n++)d[n-1]=arguments[n];this.logLevel<=f.LogLevelEnum.ERROR&&this._log(console.error,c,d)},a([h(0,f.IOptionsService)],o)}();i.LogService=b},7302:function(D,i,g){var a=this&&this.__assign||function(){return a=Object.assign||function(b){for(var o,c=1,d=arguments.length;c<d;c++)for(var n in o=arguments[c])Object.prototype.hasOwnProperty.call(o,n)&&(b[n]=o[n]);return b},a.apply(this,arguments)};Object.defineProperty(i,"__esModule",{value:!0}),i.OptionsService=i.DEFAULT_OPTIONS=i.DEFAULT_BELL_SOUND=void 0;var h=g(8460),u=g(6114);i.DEFAULT_BELL_SOUND="data:audio/mp3;base64,SUQzBAAAAAAAI1RTU0UAAAAPAAADTGF2ZjU4LjMyLjEwNAAAAAAAAAAAAAAA//tQxAADB8AhSmxhIIEVCSiJrDCQBTcu3UrAIwUdkRgQbFAZC1CQEwTJ9mjRvBA4UOLD8nKVOWfh+UlK3z/177OXrfOdKl7pyn3Xf//WreyTRUoAWgBgkOAGbZHBgG1OF6zM82DWbZaUmMBptgQhGjsyYqc9ae9XFz280948NMBWInljyzsNRFLPWdnZGWrddDsjK1unuSrVN9jJsK8KuQtQCtMBjCEtImISdNKJOopIpBFpNSMbIHCSRpRR5iakjTiyzLhchUUBwCgyKiweBv/7UsQbg8isVNoMPMjAAAA0gAAABEVFGmgqK////9bP/6XCykxBTUUzLjEwMKqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqq",i.DEFAULT_OPTIONS={cols:80,rows:24,cursorBlink:!1,cursorStyle:"block",cursorWidth:1,customGlyphs:!0,bellSound:i.DEFAULT_BELL_SOUND,bellStyle:"none",drawBoldTextInBrightColors:!0,fastScrollModifier:"alt",fastScrollSensitivity:5,fontFamily:"courier-new, courier, monospace",fontSize:15,fontWeight:"normal",fontWeightBold:"bold",lineHeight:1,linkTooltipHoverDuration:500,letterSpacing:0,logLevel:"info",scrollback:1e3,scrollSensitivity:1,screenReaderMode:!1,macOptionIsMeta:!1,macOptionClickForcesSelection:!1,minimumContrastRatio:1,disableStdin:!1,allowProposedApi:!0,allowTransparency:!1,tabStopWidth:8,theme:{},rightClickSelectsWord:u.isMac,rendererType:"canvas",windowOptions:{},windowsMode:!1,wordSeparator:" ()[]{}',\"`",altClickMovesCursor:!0,convertEol:!1,termName:"xterm",cancelEvents:!1};var f=["normal","bold","100","200","300","400","500","600","700","800","900"],v=function(){function b(o){this._onOptionChange=new h.EventEmitter;var c=a({},i.DEFAULT_OPTIONS);for(var d in o)if(d in c)try{var n=o[d];c[d]=this._sanitizeAndValidateOption(d,n)}catch(t){console.error(t)}this.rawOptions=c,this.options=a({},c),this._setupOptions()}return Object.defineProperty(b.prototype,"onOptionChange",{get:function(){return this._onOptionChange.event},enumerable:!1,configurable:!0}),b.prototype._setupOptions=function(){var o=this,c=function(e){if(!(e in i.DEFAULT_OPTIONS))throw new Error('No option with key "'+e+'"');return o.rawOptions[e]},d=function(e,r){if(!(e in i.DEFAULT_OPTIONS))throw new Error('No option with key "'+e+'"');r=o._sanitizeAndValidateOption(e,r),o.rawOptions[e]!==r&&(o.rawOptions[e]=r,o._onOptionChange.fire(e))};for(var n in this.rawOptions){var t={get:c.bind(this,n),set:d.bind(this,n)};Object.defineProperty(this.options,n,t)}},b.prototype.setOption=function(o,c){this.options[o]=c},b.prototype._sanitizeAndValidateOption=function(o,c){switch(o){case"bellStyle":case"cursorStyle":case"rendererType":case"wordSeparator":c||(c=i.DEFAULT_OPTIONS[o]);break;case"fontWeight":case"fontWeightBold":if(typeof c=="number"&&1<=c&&c<=1e3)break;c=f.includes(c)?c:i.DEFAULT_OPTIONS[o];break;case"cursorWidth":c=Math.floor(c);case"lineHeight":case"tabStopWidth":if(c<1)throw new Error(o+" cannot be less than 1, value: "+c);break;case"minimumContrastRatio":c=Math.max(1,Math.min(21,Math.round(10*c)/10));break;case"scrollback":if((c=Math.min(c,4294967295))<0)throw new Error(o+" cannot be less than 0, value: "+c);break;case"fastScrollSensitivity":case"scrollSensitivity":if(c<=0)throw new Error(o+" cannot be less than or equal to 0, value: "+c);case"rows":case"cols":if(!c&&c!==0)throw new Error(o+" must be numeric, value: "+c)}return c},b.prototype.getOption=function(o){return this.options[o]},b}();i.OptionsService=v},8343:(D,i)=>{function g(a,h,u){h.di$target===h?h.di$dependencies.push({id:a,index:u}):(h.di$dependencies=[{id:a,index:u}],h.di$target=h)}Object.defineProperty(i,"__esModule",{value:!0}),i.createDecorator=i.getServiceDependencies=i.serviceRegistry=void 0,i.serviceRegistry=new Map,i.getServiceDependencies=function(a){return a.di$dependencies||[]},i.createDecorator=function(a){if(i.serviceRegistry.has(a))return i.serviceRegistry.get(a);var h=function(u,f,v){if(arguments.length!==3)throw new Error("@IServiceName-decorator can only be used to decorate a parameter");g(h,u,v)};return h.toString=function(){return a},i.serviceRegistry.set(a,h),h}},2585:(D,i,g)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.IUnicodeService=i.IOptionsService=i.ILogService=i.LogLevelEnum=i.IInstantiationService=i.IDirtyRowService=i.ICharsetService=i.ICoreService=i.ICoreMouseService=i.IBufferService=void 0;var a,h=g(8343);i.IBufferService=(0,h.createDecorator)("BufferService"),i.ICoreMouseService=(0,h.createDecorator)("CoreMouseService"),i.ICoreService=(0,h.createDecorator)("CoreService"),i.ICharsetService=(0,h.createDecorator)("CharsetService"),i.IDirtyRowService=(0,h.createDecorator)("DirtyRowService"),i.IInstantiationService=(0,h.createDecorator)("InstantiationService"),(a=i.LogLevelEnum||(i.LogLevelEnum={}))[a.DEBUG=0]="DEBUG",a[a.INFO=1]="INFO",a[a.WARN=2]="WARN",a[a.ERROR=3]="ERROR",a[a.OFF=4]="OFF",i.ILogService=(0,h.createDecorator)("LogService"),i.IOptionsService=(0,h.createDecorator)("OptionsService"),i.IUnicodeService=(0,h.createDecorator)("UnicodeService")},1480:(D,i,g)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.UnicodeService=void 0;var a=g(8460),h=g(225),u=function(){function f(){this._providers=Object.create(null),this._active="",this._onChange=new a.EventEmitter;var v=new h.UnicodeV6;this.register(v),this._active=v.version,this._activeProvider=v}return Object.defineProperty(f.prototype,"onChange",{get:function(){return this._onChange.event},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"versions",{get:function(){return Object.keys(this._providers)},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"activeVersion",{get:function(){return this._active},set:function(v){if(!this._providers[v])throw new Error('unknown Unicode version "'+v+'"');this._active=v,this._activeProvider=this._providers[v],this._onChange.fire(v)},enumerable:!1,configurable:!0}),f.prototype.register=function(v){this._providers[v.version]=v},f.prototype.wcwidth=function(v){return this._activeProvider.wcwidth(v)},f.prototype.getStringCellWidth=function(v){for(var b=0,o=v.length,c=0;c<o;++c){var d=v.charCodeAt(c);if(55296<=d&&d<=56319){if(++c>=o)return b+this.wcwidth(d);var n=v.charCodeAt(c);56320<=n&&n<=57343?d=1024*(d-55296)+n-56320+65536:b+=this.wcwidth(n)}b+=this.wcwidth(d)}return b},f}();i.UnicodeService=u}},H={};return function D(i){var g=H[i];if(g!==void 0)return g.exports;var a=H[i]={exports:{}};return C[i].call(a.exports,a,a.exports,D),a.exports}(4389)})()})})(gn);var bn={exports:{}};(function(k,x){(function(C,H){k.exports=H()})(self,function(){return(()=>{var C={775:(D,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.FitAddon=void 0;var g=function(){function a(){}return a.prototype.activate=function(h){this._terminal=h},a.prototype.dispose=function(){},a.prototype.fit=function(){var h=this.proposeDimensions();if(h&&this._terminal){var u=this._terminal._core;this._terminal.rows===h.rows&&this._terminal.cols===h.cols||(u._renderService.clear(),this._terminal.resize(h.cols,h.rows))}},a.prototype.proposeDimensions=function(){if(this._terminal&&this._terminal.element&&this._terminal.element.parentElement){var h=this._terminal._core;if(h._renderService.dimensions.actualCellWidth!==0&&h._renderService.dimensions.actualCellHeight!==0){var u=window.getComputedStyle(this._terminal.element.parentElement),f=parseInt(u.getPropertyValue("height")),v=Math.max(0,parseInt(u.getPropertyValue("width"))),b=window.getComputedStyle(this._terminal.element),o=f-(parseInt(b.getPropertyValue("padding-top"))+parseInt(b.getPropertyValue("padding-bottom"))),c=v-(parseInt(b.getPropertyValue("padding-right"))+parseInt(b.getPropertyValue("padding-left")))-h.viewport.scrollBarWidth;return{cols:Math.max(2,Math.floor(c/h._renderService.dimensions.actualCellWidth)),rows:Math.max(1,Math.floor(o/h._renderService.dimensions.actualCellHeight))}}}},a}();i.FitAddon=g}},H={};return function D(i){if(H[i])return H[i].exports;var g=H[i]={exports:{}};return C[i](g,g.exports,D),g.exports}(775)})()})})(bn);var pn={exports:{}};(function(k,x){(function(C,H){k.exports=H()})(self,function(){return(()=>{var C={};return(()=>{var H=C;Object.defineProperty(H,"__esModule",{value:!0}),H.SearchAddon=void 0;var D=" ~!@#$%^&*()+`-=[]{}|\\;:\"',./<>?",i=function(){function g(){this._linesCacheTimeoutId=0}return g.prototype.activate=function(a){this._terminal=a},g.prototype.dispose=function(){},g.prototype.findNext=function(a,h){if(!this._terminal)throw new Error("Cannot use addon until it has been loaded");if(!a||a.length===0)return this._terminal.clearSelection(),!1;var u,f=0,v=0;if(this._terminal.hasSelection()){var b=!!h&&h.incremental;u=this._terminal.getSelectionPosition(),v=b?u.startRow:u.endRow,f=b?u.startColumn:u.endColumn}this._initLinesCache();var o={startRow:v,startCol:f},c=this._findInLine(a,o,h);if(!c)for(var d=v+1;d<this._terminal.buffer.active.baseY+this._terminal.rows&&(o.startRow=d,o.startCol=0,!(c=this._findInLine(a,o,h)));d++);if(!c&&v!==0)for(d=0;d<v&&(o.startRow=d,o.startCol=0,!(c=this._findInLine(a,o,h)));d++);return!c&&u&&(o.startRow=u.startRow,o.startCol=0,c=this._findInLine(a,o,h)),this._selectResult(c)},g.prototype.findPrevious=function(a,h){if(!this._terminal)throw new Error("Cannot use addon until it has been loaded");if(!a||a.length===0)return this._terminal.clearSelection(),!1;var u,f,v=!0,b=this._terminal.buffer.active.baseY+this._terminal.rows,o=this._terminal.cols,c=!!h&&h.incremental;this._terminal.hasSelection()&&(b=(f=this._terminal.getSelectionPosition()).startRow,o=f.startColumn),this._initLinesCache();var d={startRow:b,startCol:o};if(c?(u=this._findInLine(a,d,h,!1))&&u.row===b&&u.col===o||(f&&(d.startRow=f.endRow,d.startCol=f.endColumn),u=this._findInLine(a,d,h,!0)):u=this._findInLine(a,d,h,v),!u){d.startCol=Math.max(d.startCol,this._terminal.cols);for(var n=b-1;n>=0&&(d.startRow=n,!(u=this._findInLine(a,d,h,v)));n--);}if(!u&&b!==this._terminal.buffer.active.baseY+this._terminal.rows)for(n=this._terminal.buffer.active.baseY+this._terminal.rows;n>=b&&(d.startRow=n,!(u=this._findInLine(a,d,h,v)));n--);return!(u||!f)||this._selectResult(u)},g.prototype._initLinesCache=function(){var a=this,h=this._terminal;this._linesCache||(this._linesCache=new Array(h.buffer.active.length),this._cursorMoveListener=h.onCursorMove(function(){return a._destroyLinesCache()}),this._resizeListener=h.onResize(function(){return a._destroyLinesCache()})),window.clearTimeout(this._linesCacheTimeoutId),this._linesCacheTimeoutId=window.setTimeout(function(){return a._destroyLinesCache()},15e3)},g.prototype._destroyLinesCache=function(){this._linesCache=void 0,this._cursorMoveListener&&(this._cursorMoveListener.dispose(),this._cursorMoveListener=void 0),this._resizeListener&&(this._resizeListener.dispose(),this._resizeListener=void 0),this._linesCacheTimeoutId&&(window.clearTimeout(this._linesCacheTimeoutId),this._linesCacheTimeoutId=0)},g.prototype._isWholeWord=function(a,h,u){return(a===0||D.includes(h[a-1]))&&(a+u.length===h.length||D.includes(h[a+u.length]))},g.prototype._findInLine=function(a,h,u,f){var v;u===void 0&&(u={}),f===void 0&&(f=!1);var b=this._terminal,o=h.startRow,c=h.startCol,d=b.buffer.active.getLine(o);if(d?.isWrapped)return f?void(h.startCol+=b.cols):(h.startRow--,h.startCol+=b.cols,this._findInLine(a,h,u));var n=(v=this._linesCache)===null||v===void 0?void 0:v[o];n||(n=this._translateBufferLineToStringWithWrap(o,!0),this._linesCache&&(this._linesCache[o]=n));var t=n[0],e=n[1],r=this._bufferColsToStringOffset(o,c),s=u.caseSensitive?a:a.toLowerCase(),l=u.caseSensitive?t:t.toLowerCase(),_=-1;if(u.regex){var p=RegExp(s,"g"),w=void 0;if(f)for(;w=p.exec(l.slice(0,r));)_=p.lastIndex-w[0].length,a=w[0],p.lastIndex-=a.length-1;else(w=p.exec(l.slice(r)))&&w[0].length>0&&(_=r+(p.lastIndex-w[0].length),a=w[0])}else f?r-s.length>=0&&(_=l.lastIndexOf(s,r-s.length)):_=l.indexOf(s,r);if(_>=0){if(u.wholeWord&&!this._isWholeWord(_,l,a))return;for(var S=0;S<e.length-1&&_>=e[S+1];)S++;for(var y=S;y<e.length-1&&_+a.length>=e[y+1];)y++;var m=_-e[S],M=_+a.length-e[y],E=this._stringLengthToBufferSize(o+S,m);return{term:a,col:E,row:o+S,size:this._stringLengthToBufferSize(o+y,M)-E+b.cols*(y-S)}}},g.prototype._stringLengthToBufferSize=function(a,h){var u=this._terminal.buffer.active.getLine(a);if(!u)return 0;for(var f=0;f<h;f++){var v=u.getCell(f);if(!v)break;var b=v.getChars();b.length>1&&(h-=b.length-1);var o=u.getCell(f+1);o&&o.getWidth()===0&&h++}return h},g.prototype._bufferColsToStringOffset=function(a,h){for(var u=this._terminal,f=a,v=0,b=u.buffer.active.getLine(f);h>0&&b;){for(var o=0;o<h&&o<u.cols;o++){var c=b.getCell(o);if(!c)break;c.getWidth()&&(v+=c.getChars().length)}if(f++,(b=u.buffer.active.getLine(f))&&!b.isWrapped)break;h-=u.cols}return v},g.prototype._translateBufferLineToStringWithWrap=function(a,h){for(var u,f=this._terminal,v=[],b=[0],o=f.buffer.active.getLine(a);o;){var c=f.buffer.active.getLine(a+1),d=!!c&&c.isWrapped,n=o.translateToString(!d&&h);if(d&&c){var t=o.getCell(o.length-1);t&&t.getCode()===0&&t.getWidth()===1&&((u=c.getCell(0))===null||u===void 0?void 0:u.getWidth())===2&&(n=n.slice(0,-1))}if(v.push(n),!d)break;b.push(b[b.length-1]+n.length),a++,o=c}return[v.join(""),b]},g.prototype._selectResult=function(a){var h=this._terminal;if(!a)return h.clearSelection(),!1;if(h.select(a.col,a.row,a.size),a.row>=h.buffer.active.viewportY+h.rows||a.row<h.buffer.active.viewportY){var u=a.row-h.buffer.active.viewportY;u-=Math.floor(h.rows/2),h.scrollLines(u)}return!0},g}();H.SearchAddon=i})(),C})()})})(pn);var Qr={exports:{}};(function(k,x){(function(C,H){H(x)})(_n,function(C){var H={foreground:"#a5a2a2",background:"#090300",cursor:"#a5a2a2",black:"#090300",brightBlack:"#5c5855",red:"#db2d20",brightRed:"#e8bbd0",green:"#01a252",brightGreen:"#3a3432",yellow:"#fded02",brightYellow:"#4a4543",blue:"#01a0e4",brightBlue:"#807d7c",magenta:"#a16a94",brightMagenta:"#d6d5d4",cyan:"#b5e4f4",brightCyan:"#cdab53",white:"#a5a2a2",brightWhite:"#f7f7f7"},D={foreground:"#f8dcc0",background:"#1f1d45",cursor:"#efbf38",black:"#050404",brightBlack:"#4e7cbf",red:"#bd0013",brightRed:"#fc5f5a",green:"#4ab118",brightGreen:"#9eff6e",yellow:"#e7741e",brightYellow:"#efc11a",blue:"#0f4ac6",brightBlue:"#1997c6",magenta:"#665993",brightMagenta:"#9b5953",cyan:"#70a598",brightCyan:"#c8faf4",white:"#f8dcc0",brightWhite:"#f6f5fb"},i={foreground:"#d0d0d0",background:"#212121",cursor:"#d0d0d0",black:"#151515",brightBlack:"#505050",red:"#ac4142",brightRed:"#ac4142",green:"#7e8e50",brightGreen:"#7e8e50",yellow:"#e5b567",brightYellow:"#e5b567",blue:"#6c99bb",brightBlue:"#6c99bb",magenta:"#9f4e85",brightMagenta:"#9f4e85",cyan:"#7dd6cf",brightCyan:"#7dd6cf",white:"#d0d0d0",brightWhite:"#f5f5f5"},g={foreground:"#637d75",background:"#0f1610",cursor:"#73fa91",black:"#112616",brightBlack:"#3c4812",red:"#7f2b27",brightRed:"#e08009",green:"#2f7e25",brightGreen:"#18e000",yellow:"#717f24",brightYellow:"#bde000",blue:"#2f6a7f",brightBlue:"#00aae0",magenta:"#47587f",brightMagenta:"#0058e0",cyan:"#327f77",brightCyan:"#00e0c4",white:"#647d75",brightWhite:"#73fa91"},a={foreground:"#fffaf4",background:"#0e1019",cursor:"#ff0018",black:"#232323",brightBlack:"#444444",red:"#ff000f",brightRed:"#ff2740",green:"#8ce10b",brightGreen:"#abe15b",yellow:"#ffb900",brightYellow:"#ffd242",blue:"#008df8",brightBlue:"#0092ff",magenta:"#6d43a6",brightMagenta:"#9a5feb",cyan:"#00d8eb",brightCyan:"#67fff0",white:"#ffffff",brightWhite:"#ffffff"},h={foreground:"#ddeedd",background:"#1c1c1c",cursor:"#e2bbef",black:"#3d352a",brightBlack:"#554444",red:"#cd5c5c",brightRed:"#cc5533",green:"#86af80",brightGreen:"#88aa22",yellow:"#e8ae5b",brightYellow:"#ffa75d",blue:"#6495ed",brightBlue:"#87ceeb",magenta:"#deb887",brightMagenta:"#996600",cyan:"#b0c4de",brightCyan:"#b0c4de",white:"#bbaa99",brightWhite:"#ddccbb"},u={foreground:"#979db4",background:"#202746",cursor:"#979db4",black:"#202746",brightBlack:"#6b7394",red:"#c94922",brightRed:"#c76b29",green:"#ac9739",brightGreen:"#293256",yellow:"#c08b30",brightYellow:"#5e6687",blue:"#3d8fd1",brightBlue:"#898ea4",magenta:"#6679cc",brightMagenta:"#dfe2f1",cyan:"#22a2c9",brightCyan:"#9c637a",white:"#979db4",brightWhite:"#f5f7ff"},f={foreground:"#c5c8c6",background:"#161719",cursor:"#d0d0d0",black:"#000000",brightBlack:"#000000",red:"#fd5ff1",brightRed:"#fd5ff1",green:"#87c38a",brightGreen:"#94fa36",yellow:"#ffd7b1",brightYellow:"#f5ffa8",blue:"#85befd",brightBlue:"#96cbfe",magenta:"#b9b6fc",brightMagenta:"#b9b6fc",cyan:"#85befd",brightCyan:"#85befd",white:"#e0e0e0",brightWhite:"#e0e0e0"},v={foreground:"#6f6f6f",background:"#1b1d1e",cursor:"#fcef0c",black:"#1b1d1e",brightBlack:"#505354",red:"#e6dc44",brightRed:"#fff78e",green:"#c8be46",brightGreen:"#fff27d",yellow:"#f4fd22",brightYellow:"#feed6c",blue:"#737174",brightBlue:"#919495",magenta:"#747271",brightMagenta:"#9a9a9d",cyan:"#62605f",brightCyan:"#a3a3a6",white:"#c6c5bf",brightWhite:"#dadbd6"},b={foreground:"#968c83",background:"#20111b",cursor:"#968c83",black:"#20111b",brightBlack:"#5e5252",red:"#be100e",brightRed:"#be100e",green:"#858162",brightGreen:"#858162",yellow:"#eaa549",brightYellow:"#eaa549",blue:"#426a79",brightBlue:"#426a79",magenta:"#97522c",brightMagenta:"#97522c",cyan:"#989a9c",brightCyan:"#989a9c",white:"#968c83",brightWhite:"#d5ccba"},o={foreground:"#e0dbb7",background:"#2a1f1d",cursor:"#573d26",black:"#573d26",brightBlack:"#9b6c4a",red:"#be2d26",brightRed:"#e84627",green:"#6ba18a",brightGreen:"#95d8ba",yellow:"#e99d2a",brightYellow:"#d0d150",blue:"#5a86ad",brightBlue:"#b8d3ed",magenta:"#ac80a6",brightMagenta:"#d19ecb",cyan:"#74a6ad",brightCyan:"#93cfd7",white:"#e0dbb7",brightWhite:"#fff9d5"},c={foreground:"#d9e6f2",background:"#0d1926",cursor:"#d9e6f2",black:"#000000",brightBlack:"#262626",red:"#b87a7a",brightRed:"#dbbdbd",green:"#7ab87a",brightGreen:"#bddbbd",yellow:"#b8b87a",brightYellow:"#dbdbbd",blue:"#7a7ab8",brightBlue:"#bdbddb",magenta:"#b87ab8",brightMagenta:"#dbbddb",cyan:"#7ab8b8",brightCyan:"#bddbdb",white:"#d9d9d9",brightWhite:"#ffffff"},d={foreground:"#ffff4e",background:"#0000a4",cursor:"#ffa560",black:"#4f4f4f",brightBlack:"#7c7c7c",red:"#ff6c60",brightRed:"#ffb6b0",green:"#a8ff60",brightGreen:"#ceffac",yellow:"#ffffb6",brightYellow:"#ffffcc",blue:"#96cbfe",brightBlue:"#b5dcff",magenta:"#ff73fd",brightMagenta:"#ff9cfe",cyan:"#c6c5fe",brightCyan:"#dfdffe",white:"#eeeeee",brightWhite:"#ffffff"},n={foreground:"#b3c9d7",background:"#191919",cursor:"#f34b00",black:"#191919",brightBlack:"#191919",red:"#ff355b",brightRed:"#ff355b",green:"#b7e876",brightGreen:"#b7e876",yellow:"#ffc251",brightYellow:"#ffc251",blue:"#76d4ff",brightBlue:"#76d5ff",magenta:"#ba76e7",brightMagenta:"#ba76e7",cyan:"#6cbfb5",brightCyan:"#6cbfb5",white:"#c2c8d7",brightWhite:"#c2c8d7"},t={foreground:"#e6e1dc",background:"#2b2b2b",cursor:"#ffffff",black:"#000000",brightBlack:"#323232",red:"#da4939",brightRed:"#ff7b6b",green:"#519f50",brightGreen:"#83d182",yellow:"#ffd24a",brightYellow:"#ffff7c",blue:"#6d9cbe",brightBlue:"#9fcef0",magenta:"#d0d0ff",brightMagenta:"#ffffff",cyan:"#6e9cbe",brightCyan:"#a0cef0",white:"#ffffff",brightWhite:"#ffffff"},e={foreground:"#d6dbe5",background:"#131313",cursor:"#b9b9b9",black:"#1f1f1f",brightBlack:"#d6dbe5",red:"#f81118",brightRed:"#de352e",green:"#2dc55e",brightGreen:"#1dd361",yellow:"#ecba0f",brightYellow:"#f3bd09",blue:"#2a84d2",brightBlue:"#1081d6",magenta:"#4e5ab7",brightMagenta:"#5350b9",cyan:"#1081d6",brightCyan:"#0f7ddb",white:"#d6dbe5",brightWhite:"#ffffff"},r={foreground:"#7869c4",background:"#40318d",cursor:"#7869c4",black:"#090300",brightBlack:"#000000",red:"#883932",brightRed:"#883932",green:"#55a049",brightGreen:"#55a049",yellow:"#bfce72",brightYellow:"#bfce72",blue:"#40318d",brightBlue:"#40318d",magenta:"#8b3f96",brightMagenta:"#8b3f96",cyan:"#67b6bd",brightCyan:"#67b6bd",white:"#ffffff",brightWhite:"#f7f7f7"},s={foreground:"#d2d8d9",background:"#2b2d2e",cursor:"#708284",black:"#7d8b8f",brightBlack:"#888888",red:"#b23a52",brightRed:"#f24840",green:"#789b6a",brightGreen:"#80c470",yellow:"#b9ac4a",brightYellow:"#ffeb62",blue:"#2a7fac",brightBlue:"#4196ff",magenta:"#bd4f5a",brightMagenta:"#fc5275",cyan:"#44a799",brightCyan:"#53cdbd",white:"#d2d8d9",brightWhite:"#d2d8d9"},l={foreground:"#d9e6f2",background:"#29262f",cursor:"#d9e6f2",black:"#000000",brightBlack:"#323232",red:"#c37372",brightRed:"#dbaaaa",green:"#72c373",brightGreen:"#aadbaa",yellow:"#c2c372",brightYellow:"#dadbaa",blue:"#7372c3",brightBlue:"#aaaadb",magenta:"#c372c2",brightMagenta:"#dbaada",cyan:"#72c2c3",brightCyan:"#aadadb",white:"#d9d9d9",brightWhite:"#ffffff"},_={foreground:"#aea47a",background:"#191c27",cursor:"#92805b",black:"#181818",brightBlack:"#555555",red:"#810009",brightRed:"#ac3835",green:"#48513b",brightGreen:"#a6a75d",yellow:"#cc8b3f",brightYellow:"#dcdf7c",blue:"#576d8c",brightBlue:"#3097c6",magenta:"#724d7c",brightMagenta:"#d33061",cyan:"#5c4f4b",brightCyan:"#f3dbb2",white:"#aea47f",brightWhite:"#f4f4f4"},p={foreground:"#ffffff",background:"#132738",cursor:"#f0cc09",black:"#000000",brightBlack:"#555555",red:"#ff0000",brightRed:"#f40e17",green:"#38de21",brightGreen:"#3bd01d",yellow:"#ffe50a",brightYellow:"#edc809",blue:"#1460d2",brightBlue:"#5555ff",magenta:"#ff005d",brightMagenta:"#ff55ff",cyan:"#00bbbb",brightCyan:"#6ae3fa",white:"#bbbbbb",brightWhite:"#ffffff"},w={foreground:"#8ff586",background:"#142838",cursor:"#c4206f",black:"#142631",brightBlack:"#fff688",red:"#ff2320",brightRed:"#d4312e",green:"#3ba5ff",brightGreen:"#8ff586",yellow:"#e9e75c",brightYellow:"#e9f06d",blue:"#8ff586",brightBlue:"#3c7dd2",magenta:"#781aa0",brightMagenta:"#8230a7",cyan:"#8ff586",brightCyan:"#6cbc67",white:"#ba46b2",brightWhite:"#8ff586"},S={foreground:"#68525a",background:"#150707",cursor:"#68525a",black:"#2b1b1d",brightBlack:"#3d2b2e",red:"#91002b",brightRed:"#c5255d",green:"#579524",brightGreen:"#8dff57",yellow:"#ab311b",brightYellow:"#c8381d",blue:"#8c87b0",brightBlue:"#cfc9ff",magenta:"#692f50",brightMagenta:"#fc6cba",cyan:"#e8a866",brightCyan:"#ffceaf",white:"#68525a",brightWhite:"#b0949d"},y={foreground:"#ffffff",background:"#000000",cursor:"#bbbbbb",black:"#000000",brightBlack:"#555555",red:"#ff5555",brightRed:"#ff5555",green:"#55ff55",brightGreen:"#55ff55",yellow:"#ffff55",brightYellow:"#ffff55",blue:"#5555ff",brightBlue:"#5555ff",magenta:"#ff55ff",brightMagenta:"#ff55ff",cyan:"#55ffff",brightCyan:"#55ffff",white:"#bbbbbb",brightWhite:"#ffffff"},m={foreground:"#bababa",background:"#222324",cursor:"#bbbbbb",black:"#000000",brightBlack:"#000000",red:"#e8341c",brightRed:"#e05a4f",green:"#68c256",brightGreen:"#77b869",yellow:"#f2d42c",brightYellow:"#efd64b",blue:"#1c98e8",brightBlue:"#387cd3",magenta:"#8e69c9",brightMagenta:"#957bbe",cyan:"#1c98e8",brightCyan:"#3d97e2",white:"#bababa",brightWhite:"#bababa"},M={foreground:"#ffffff",background:"#333333",cursor:"#00ff00",black:"#4d4d4d",brightBlack:"#555555",red:"#ff2b2b",brightRed:"#ff5555",green:"#98fb98",brightGreen:"#55ff55",yellow:"#f0e68c",brightYellow:"#ffff55",blue:"#cd853f",brightBlue:"#87ceff",magenta:"#ffdead",brightMagenta:"#ff55ff",cyan:"#ffa0a0",brightCyan:"#ffd700",white:"#f5deb3",brightWhite:"#ffffff"},E={foreground:"#b9bcba",background:"#1f1f1f",cursor:"#f83e19",black:"#3a3d43",brightBlack:"#888987",red:"#be3f48",brightRed:"#fb001f",green:"#879a3b",brightGreen:"#0f722f",yellow:"#c5a635",brightYellow:"#c47033",blue:"#4f76a1",brightBlue:"#186de3",magenta:"#855c8d",brightMagenta:"#fb0067",cyan:"#578fa4",brightCyan:"#2e706d",white:"#b9bcba",brightWhite:"#fdffb9"},W={foreground:"#ebebeb",background:"#262c35",cursor:"#d9002f",black:"#191919",brightBlack:"#191919",red:"#bf091d",brightRed:"#bf091d",green:"#3d9751",brightGreen:"#3d9751",yellow:"#f6bb34",brightYellow:"#f6bb34",blue:"#17b2e0",brightBlue:"#17b2e0",magenta:"#7830b0",brightMagenta:"#7830b0",cyan:"#8bd2ed",brightCyan:"#8bd2ed",white:"#ffffff",brightWhite:"#ffffff"},A={foreground:"#f8f8f2",background:"#1e1f29",cursor:"#bbbbbb",black:"#000000",brightBlack:"#555555",red:"#ff5555",brightRed:"#ff5555",green:"#50fa7b",brightGreen:"#50fa7b",yellow:"#f1fa8c",brightYellow:"#f1fa8c",blue:"#bd93f9",brightBlue:"#bd93f9",magenta:"#ff79c6",brightMagenta:"#ff79c6",cyan:"#8be9fd",brightCyan:"#8be9fd",white:"#bbbbbb",brightWhite:"#ffffff"},L={foreground:"#b7a1ff",background:"#1f1d27",cursor:"#ff9839",black:"#1f1d27",brightBlack:"#353147",red:"#d9393e",brightRed:"#d9393e",green:"#2dcd73",brightGreen:"#2dcd73",yellow:"#d9b76e",brightYellow:"#d9b76e",blue:"#ffc284",brightBlue:"#ffc284",magenta:"#de8d40",brightMagenta:"#de8d40",cyan:"#2488ff",brightCyan:"#2488ff",white:"#b7a1ff",brightWhite:"#eae5ff"},B={foreground:"#00a595",background:"#000000",cursor:"#bbbbbb",black:"#000000",brightBlack:"#555555",red:"#9f0000",brightRed:"#ff0000",green:"#008b00",brightGreen:"#00ee00",yellow:"#ffd000",brightYellow:"#ffff00",blue:"#0081ff",brightBlue:"#0000ff",magenta:"#bc00ca",brightMagenta:"#ff00ff",cyan:"#008b8b",brightCyan:"#00cdcd",white:"#bbbbbb",brightWhite:"#ffffff"},I={foreground:"#e5c7a9",background:"#292520",cursor:"#f6f7ec",black:"#121418",brightBlack:"#675f54",red:"#c94234",brightRed:"#ff645a",green:"#85c54c",brightGreen:"#98e036",yellow:"#f5ae2e",brightYellow:"#e0d561",blue:"#1398b9",brightBlue:"#5fdaff",magenta:"#d0633d",brightMagenta:"#ff9269",cyan:"#509552",brightCyan:"#84f088",white:"#e5c6aa",brightWhite:"#f6f7ec"},F={foreground:"#807a74",background:"#22211d",cursor:"#facb80",black:"#3c3c30",brightBlack:"#555445",red:"#98290f",brightRed:"#e0502a",green:"#479a43",brightGreen:"#61e070",yellow:"#7f7111",brightYellow:"#d69927",blue:"#497f7d",brightBlue:"#79d9d9",magenta:"#7f4e2f",brightMagenta:"#cd7c54",cyan:"#387f58",brightCyan:"#59d599",white:"#807974",brightWhite:"#fff1e9"},N={foreground:"#efefef",background:"#181818",cursor:"#bbbbbb",black:"#242424",brightBlack:"#4b4b4b",red:"#d71c15",brightRed:"#fc1c18",green:"#5aa513",brightGreen:"#6bc219",yellow:"#fdb40c",brightYellow:"#fec80e",blue:"#063b8c",brightBlue:"#0955ff",magenta:"#e40038",brightMagenta:"#fb0050",cyan:"#2595e1",brightCyan:"#3ea8fc",white:"#efefef",brightWhite:"#8c00ec"},G={foreground:"#ffffff",background:"#323232",cursor:"#d6d6d6",black:"#353535",brightBlack:"#535353",red:"#d25252",brightRed:"#f00c0c",green:"#a5c261",brightGreen:"#c2e075",yellow:"#ffc66d",brightYellow:"#e1e48b",blue:"#6c99bb",brightBlue:"#8ab7d9",magenta:"#d197d9",brightMagenta:"#efb5f7",cyan:"#bed6ff",brightCyan:"#dcf4ff",white:"#eeeeec",brightWhite:"#ffffff"},J={foreground:"#b8a898",background:"#2a211c",cursor:"#ffffff",black:"#000000",brightBlack:"#555753",red:"#cc0000",brightRed:"#ef2929",green:"#1a921c",brightGreen:"#9aff87",yellow:"#f0e53a",brightYellow:"#fffb5c",blue:"#0066ff",brightBlue:"#43a8ed",magenta:"#c5656b",brightMagenta:"#ff818a",cyan:"#06989a",brightCyan:"#34e2e2",white:"#d3d7cf",brightWhite:"#eeeeec"},V={foreground:"#dbdae0",background:"#292f33",cursor:"#d4605a",black:"#292f33",brightBlack:"#092028",red:"#cb1e2d",brightRed:"#d4605a",green:"#edb8ac",brightGreen:"#d4605a",yellow:"#b7ab9b",brightYellow:"#a86671",blue:"#2e78c2",brightBlue:"#7c85c4",magenta:"#c0236f",brightMagenta:"#5c5db2",cyan:"#309186",brightCyan:"#819090",white:"#eae3ce",brightWhite:"#fcf4df"},Z={foreground:"#7c8fa4",background:"#0e1011",cursor:"#708284",black:"#002831",brightBlack:"#001e27",red:"#e63853",brightRed:"#e1003f",green:"#5eb83c",brightGreen:"#1d9000",yellow:"#a57706",brightYellow:"#cd9409",blue:"#359ddf",brightBlue:"#006fc0",magenta:"#d75cff",brightMagenta:"#a200da",cyan:"#4b73a2",brightCyan:"#005794",white:"#dcdcdc",brightWhite:"#e2e2e2"},R={foreground:"#9ba2b2",background:"#1e2027",cursor:"#f6f7ec",black:"#585f6d",brightBlack:"#585f6d",red:"#d95360",brightRed:"#d95360",green:"#5ab977",brightGreen:"#5ab977",yellow:"#dfb563",brightYellow:"#dfb563",blue:"#4d89c4",brightBlue:"#4c89c5",magenta:"#d55119",brightMagenta:"#d55119",cyan:"#44a8b6",brightCyan:"#44a8b6",white:"#e6e5ff",brightWhite:"#e6e5ff"},q={foreground:"#ecf0fe",background:"#232537",cursor:"#fecd5e",black:"#03073c",brightBlack:"#6c5b30",red:"#c6004a",brightRed:"#da4b8a",green:"#acf157",brightGreen:"#dbffa9",yellow:"#fecd5e",brightYellow:"#fee6a9",blue:"#525fb8",brightBlue:"#b2befa",magenta:"#986f82",brightMagenta:"#fda5cd",cyan:"#968763",brightCyan:"#a5bd86",white:"#ecf0fc",brightWhite:"#f6ffec"},T={foreground:"#2cc55d",background:"#002240",cursor:"#e5be0c",black:"#222d3f",brightBlack:"#212c3c",red:"#a82320",brightRed:"#d4312e",green:"#32a548",brightGreen:"#2d9440",yellow:"#e58d11",brightYellow:"#e5be0c",blue:"#3167ac",brightBlue:"#3c7dd2",magenta:"#781aa0",brightMagenta:"#8230a7",cyan:"#2c9370",brightCyan:"#35b387",white:"#b0b6ba",brightWhite:"#e7eced"},P={foreground:"#b8dbef",background:"#1d1f21",cursor:"#708284",black:"#1d1d19",brightBlack:"#1d1d19",red:"#f18339",brightRed:"#d22a24",green:"#9fd364",brightGreen:"#a7d42c",yellow:"#f4ef6d",brightYellow:"#ff8949",blue:"#5096be",brightBlue:"#61b9d0",magenta:"#695abc",brightMagenta:"#695abc",cyan:"#d63865",brightCyan:"#d63865",white:"#ffffff",brightWhite:"#ffffff"},O={foreground:"#dbd1b9",background:"#0e0d15",cursor:"#bbbbbb",black:"#08002e",brightBlack:"#331e4d",red:"#64002c",brightRed:"#d02063",green:"#5d731a",brightGreen:"#b4ce59",yellow:"#cd751c",brightYellow:"#fac357",blue:"#1d6da1",brightBlue:"#40a4cf",magenta:"#b7077e",brightMagenta:"#f12aae",cyan:"#42a38c",brightCyan:"#62caa8",white:"#f3e0b8",brightWhite:"#fff5db"},z={foreground:"#e2d8cd",background:"#051519",cursor:"#9e9ecb",black:"#333333",brightBlack:"#3d3d3d",red:"#f8818e",brightRed:"#fb3d66",green:"#92d3a2",brightGreen:"#6bb48d",yellow:"#1a8e63",brightYellow:"#30c85a",blue:"#8ed0ce",brightBlue:"#39a7a2",magenta:"#5e468c",brightMagenta:"#7e62b3",cyan:"#31658c",brightCyan:"#6096bf",white:"#e2d8cd",brightWhite:"#e2d8cd"},K={foreground:"#adadad",background:"#1b1c1d",cursor:"#cdcdcd",black:"#242526",brightBlack:"#5fac6d",red:"#f8511b",brightRed:"#f74319",green:"#565747",brightGreen:"#74ec4c",yellow:"#fa771d",brightYellow:"#fdc325",blue:"#2c70b7",brightBlue:"#3393ca",magenta:"#f02e4f",brightMagenta:"#e75e4f",cyan:"#3ca1a6",brightCyan:"#4fbce6",white:"#adadad",brightWhite:"#8c735b"},X={foreground:"#dec165",background:"#251200",cursor:"#e5591c",black:"#000000",brightBlack:"#7f6a55",red:"#d6262b",brightRed:"#e55a1c",green:"#919c00",brightGreen:"#bfc65a",yellow:"#be8a13",brightYellow:"#ffcb1b",blue:"#4699a3",brightBlue:"#7cc9cf",magenta:"#8d4331",brightMagenta:"#d26349",cyan:"#da8213",brightCyan:"#e6a96b",white:"#ddc265",brightWhite:"#ffeaa3"},$={foreground:"#ffffff",background:"#1d2837",cursor:"#bbbbbb",black:"#000000",brightBlack:"#555555",red:"#f9555f",brightRed:"#fa8c8f",green:"#21b089",brightGreen:"#35bb9a",yellow:"#fef02a",brightYellow:"#ffff55",blue:"#589df6",brightBlue:"#589df6",magenta:"#944d95",brightMagenta:"#e75699",cyan:"#1f9ee7",brightCyan:"#3979bc",white:"#bbbbbb",brightWhite:"#ffffff"},Q={foreground:"#3e3e3e",background:"#f4f4f4",cursor:"#3f3f3f",black:"#3e3e3e",brightBlack:"#666666",red:"#970b16",brightRed:"#de0000",green:"#07962a",brightGreen:"#87d5a2",yellow:"#f8eec7",brightYellow:"#f1d007",blue:"#003e8a",brightBlue:"#2e6cba",magenta:"#e94691",brightMagenta:"#ffa29f",cyan:"#89d1ec",brightCyan:"#1cfafe",white:"#ffffff",brightWhite:"#ffffff"},he={foreground:"#ffffff",background:"#0c1115",cursor:"#6c6c6c",black:"#2e343c",brightBlack:"#404a55",red:"#bd0f2f",brightRed:"#bd0f2f",green:"#35a770",brightGreen:"#49e998",yellow:"#fb9435",brightYellow:"#fddf6e",blue:"#1f5872",brightBlue:"#2a8bc1",magenta:"#bd2523",brightMagenta:"#ea4727",cyan:"#778397",brightCyan:"#a0b6d3",white:"#ffffff",brightWhite:"#ffffff"},Y={foreground:"#9f9fa1",background:"#171423",cursor:"#a288f7",black:"#2d283f",brightBlack:"#59516a",red:"#ed2261",brightRed:"#f0729a",green:"#1fa91b",brightGreen:"#53aa5e",yellow:"#8ddc20",brightYellow:"#b2dc87",blue:"#487df4",brightBlue:"#a9bcec",magenta:"#8d35c9",brightMagenta:"#ad81c2",cyan:"#3bdeed",brightCyan:"#9de3eb",white:"#9e9ea0",brightWhite:"#a288f7"},ie={foreground:"#fff0a5",background:"#13773d",cursor:"#8c2800",black:"#000000",brightBlack:"#555555",red:"#bb0000",brightRed:"#bb0000",green:"#00bb00",brightGreen:"#00bb00",yellow:"#e7b000",brightYellow:"#e7b000",blue:"#0000a3",brightBlue:"#0000bb",magenta:"#950062",brightMagenta:"#ff55ff",cyan:"#00bbbb",brightCyan:"#55ffff",white:"#bbbbbb",brightWhite:"#ffffff"},ae={foreground:"#e6d4a3",background:"#1e1e1e",cursor:"#bbbbbb",black:"#161819",brightBlack:"#7f7061",red:"#f73028",brightRed:"#be0f17",green:"#aab01e",brightGreen:"#868715",yellow:"#f7b125",brightYellow:"#cc881a",blue:"#719586",brightBlue:"#377375",magenta:"#c77089",brightMagenta:"#a04b73",cyan:"#7db669",brightCyan:"#578e57",white:"#faefbb",brightWhite:"#e6d4a3"},fe={foreground:"#a0a0a0",background:"#121212",cursor:"#bbbbbb",black:"#1b1d1e",brightBlack:"#505354",red:"#f92672",brightRed:"#ff669d",green:"#a6e22e",brightGreen:"#beed5f",yellow:"#fd971f",brightYellow:"#e6db74",blue:"#66d9ef",brightBlue:"#66d9ef",magenta:"#9e6ffe",brightMagenta:"#9e6ffe",cyan:"#5e7175",brightCyan:"#a3babf",white:"#ccccc6",brightWhite:"#f8f8f2"},ye={foreground:"#a8a49d",background:"#010101",cursor:"#a8a49d",black:"#010101",brightBlack:"#726e6a",red:"#f8b63f",brightRed:"#f8b63f",green:"#7fb5e1",brightGreen:"#7fb5e1",yellow:"#d6da25",brightYellow:"#d6da25",blue:"#489e48",brightBlue:"#489e48",magenta:"#b296c6",brightMagenta:"#b296c6",cyan:"#f5bfd7",brightCyan:"#f5bfd7",white:"#a8a49d",brightWhite:"#fefbea"},xt={foreground:"#ededed",background:"#222225",cursor:"#e0d9b9",black:"#000000",brightBlack:"#5d504a",red:"#d00e18",brightRed:"#f07e18",green:"#138034",brightGreen:"#b1d130",yellow:"#ffcb3e",brightYellow:"#fff120",blue:"#006bb3",brightBlue:"#4fc2fd",magenta:"#6b2775",brightMagenta:"#de0071",cyan:"#384564",brightCyan:"#5d504a",white:"#ededed",brightWhite:"#ffffff"},At={foreground:"#84c138",background:"#100b05",cursor:"#23ff18",black:"#000000",brightBlack:"#666666",red:"#b6214a",brightRed:"#e50000",green:"#00a600",brightGreen:"#86a93e",yellow:"#bfbf00",brightYellow:"#e5e500",blue:"#246eb2",brightBlue:"#0000ff",magenta:"#b200b2",brightMagenta:"#e500e5",cyan:"#00a6b2",brightCyan:"#00e5e5",white:"#bfbfbf",brightWhite:"#e5e5e5"},Ot={foreground:"#00ff00",background:"#000000",cursor:"#23ff18",black:"#000000",brightBlack:"#666666",red:"#990000",brightRed:"#e50000",green:"#00a600",brightGreen:"#00d900",yellow:"#999900",brightYellow:"#e5e500",blue:"#0000b2",brightBlue:"#0000ff",magenta:"#b200b2",brightMagenta:"#e500e5",cyan:"#00a6b2",brightCyan:"#00e5e5",white:"#bfbfbf",brightWhite:"#e5e5e5"},Tt={foreground:"#dbdbdb",background:"#000000",cursor:"#bbbbbb",black:"#575757",brightBlack:"#262626",red:"#ff1b00",brightRed:"#d51d00",green:"#a5e055",brightGreen:"#a5df55",yellow:"#fbe74a",brightYellow:"#fbe84a",blue:"#496487",brightBlue:"#89beff",magenta:"#fd5ff1",brightMagenta:"#c001c1",cyan:"#86e9fe",brightCyan:"#86eafe",white:"#cbcccb",brightWhite:"#dbdbdb"},Dt={foreground:"#b7bcba",background:"#161719",cursor:"#b7bcba",black:"#2a2e33",brightBlack:"#1d1f22",red:"#b84d51",brightRed:"#8d2e32",green:"#b3bf5a",brightGreen:"#798431",yellow:"#e4b55e",brightYellow:"#e58a50",blue:"#6e90b0",brightBlue:"#4b6b88",magenta:"#a17eac",brightMagenta:"#6e5079",cyan:"#7fbfb4",brightCyan:"#4d7b74",white:"#b5b9b6",brightWhite:"#5a626a"},Pt={foreground:"#d9efd3",background:"#3a3d3f",cursor:"#42ff58",black:"#1f1f1f",brightBlack:"#032710",red:"#fb002a",brightRed:"#a7ff3f",green:"#339c24",brightGreen:"#9fff6d",yellow:"#659b25",brightYellow:"#d2ff6d",blue:"#149b45",brightBlue:"#72ffb5",magenta:"#53b82c",brightMagenta:"#50ff3e",cyan:"#2cb868",brightCyan:"#22ff71",white:"#e0ffef",brightWhite:"#daefd0"},It={foreground:"#ffcb83",background:"#262626",cursor:"#fc531d",black:"#000000",brightBlack:"#6a4f2a",red:"#c13900",brightRed:"#ff8c68",green:"#a4a900",brightGreen:"#f6ff40",yellow:"#caaf00",brightYellow:"#ffe36e",blue:"#bd6d00",brightBlue:"#ffbe55",magenta:"#fc5e00",brightMagenta:"#fc874f",cyan:"#f79500",brightCyan:"#c69752",white:"#ffc88a",brightWhite:"#fafaff"},Ht={foreground:"#f1f1f1",background:"#000000",cursor:"#808080",black:"#4f4f4f",brightBlack:"#7b7b7b",red:"#fa6c60",brightRed:"#fcb6b0",green:"#a8ff60",brightGreen:"#cfffab",yellow:"#fffeb7",brightYellow:"#ffffcc",blue:"#96cafe",brightBlue:"#b5dcff",magenta:"#fa73fd",brightMagenta:"#fb9cfe",cyan:"#c6c5fe",brightCyan:"#e0e0fe",white:"#efedef",brightWhite:"#ffffff"},Wt={foreground:"#ffcc2f",background:"#2c1d16",cursor:"#23ff18",black:"#2c1d16",brightBlack:"#666666",red:"#ef5734",brightRed:"#e50000",green:"#2baf2b",brightGreen:"#86a93e",yellow:"#bebf00",brightYellow:"#e5e500",blue:"#246eb2",brightBlue:"#0000ff",magenta:"#d05ec1",brightMagenta:"#e500e5",cyan:"#00acee",brightCyan:"#00e5e5",white:"#bfbfbf",brightWhite:"#e5e5e5"},Ft={foreground:"#f7f6ec",background:"#1e1e1e",cursor:"#edcf4f",black:"#343935",brightBlack:"#595b59",red:"#cf3f61",brightRed:"#d18fa6",green:"#7bb75b",brightGreen:"#767f2c",yellow:"#e9b32a",brightYellow:"#78592f",blue:"#4c9ad4",brightBlue:"#135979",magenta:"#a57fc4",brightMagenta:"#604291",cyan:"#389aad",brightCyan:"#76bbca",white:"#fafaf6",brightWhite:"#b2b5ae"},jt={foreground:"#dedede",background:"#121212",cursor:"#ffa560",black:"#929292",brightBlack:"#bdbdbd",red:"#e27373",brightRed:"#ffa1a1",green:"#94b979",brightGreen:"#bddeab",yellow:"#ffba7b",brightYellow:"#ffdca0",blue:"#97bedc",brightBlue:"#b1d8f6",magenta:"#e1c0fa",brightMagenta:"#fbdaff",cyan:"#00988e",brightCyan:"#1ab2a8",white:"#dedede",brightWhite:"#ffffff"},Ut={foreground:"#adadad",background:"#202020",cursor:"#ffffff",black:"#000000",brightBlack:"#555555",red:"#fa5355",brightRed:"#fb7172",green:"#126e00",brightGreen:"#67ff4f",yellow:"#c2c300",brightYellow:"#ffff00",blue:"#4581eb",brightBlue:"#6d9df1",magenta:"#fa54ff",brightMagenta:"#fb82ff",cyan:"#33c2c1",brightCyan:"#60d3d1",white:"#adadad",brightWhite:"#eeeeee"},Re={foreground:"#f7f7f7",background:"#0e100a",cursor:"#9fda9c",black:"#4d4d4d",brightBlack:"#5a5a5a",red:"#c70031",brightRed:"#f01578",green:"#29cf13",brightGreen:"#6ce05c",yellow:"#d8e30e",brightYellow:"#f3f79e",blue:"#3449d1",brightBlue:"#97a4f7",magenta:"#8400ff",brightMagenta:"#c495f0",cyan:"#0798ab",brightCyan:"#68f2e0",white:"#e2d1e3",brightWhite:"#ffffff"},xe={foreground:"#959595",background:"#222222",cursor:"#424242",black:"#2b2b2b",brightBlack:"#454747",red:"#d45a60",brightRed:"#d3232f",green:"#afba67",brightGreen:"#aabb39",yellow:"#e5d289",brightYellow:"#e5be39",blue:"#a0bad6",brightBlue:"#6699d6",magenta:"#c092d6",brightMagenta:"#ab53d6",cyan:"#91bfb7",brightCyan:"#5fc0ae",white:"#3c3d3d",brightWhite:"#c1c2c2"},Ae={foreground:"#736e7d",background:"#050014",cursor:"#8c91fa",black:"#230046",brightBlack:"#372d46",red:"#7d1625",brightRed:"#e05167",green:"#337e6f",brightGreen:"#52e0c4",yellow:"#7f6f49",brightYellow:"#e0c386",blue:"#4f4a7f",brightBlue:"#8e87e0",magenta:"#5a3f7f",brightMagenta:"#a776e0",cyan:"#58777f",brightCyan:"#9ad4e0",white:"#736e7d",brightWhite:"#8c91fa"},Oe={foreground:"#afc2c2",background:"#303030",cursor:"#ffffff",black:"#000000",brightBlack:"#000000",red:"#ff3030",brightRed:"#ff3030",green:"#559a70",brightGreen:"#559a70",yellow:"#ccac00",brightYellow:"#ccac00",blue:"#0099cc",brightBlue:"#0099cc",magenta:"#cc69c8",brightMagenta:"#cc69c8",cyan:"#7ac4cc",brightCyan:"#7ac4cc",white:"#bccccc",brightWhite:"#bccccc"},Te={foreground:"#afc2c2",background:"#000000",cursor:"#ffffff",black:"#000000",brightBlack:"#000000",red:"#ff3030",brightRed:"#ff3030",green:"#559a70",brightGreen:"#559a70",yellow:"#ccac00",brightYellow:"#ccac00",blue:"#0099cc",brightBlue:"#0099cc",magenta:"#cc69c8",brightMagenta:"#cc69c8",cyan:"#7ac4cc",brightCyan:"#7ac4cc",white:"#bccccc",brightWhite:"#bccccc"},De={foreground:"#afc2c2",background:"#000000",cursor:"#ffffff",black:"#bccccd",brightBlack:"#ffffff",red:"#ff3030",brightRed:"#ff3030",green:"#559a70",brightGreen:"#559a70",yellow:"#ccac00",brightYellow:"#ccac00",blue:"#0099cc",brightBlue:"#0099cc",magenta:"#cc69c8",brightMagenta:"#cc69c8",cyan:"#7ac4cc",brightCyan:"#7ac4cc",white:"#000000",brightWhite:"#000000"},Pe={foreground:"#000000",background:"#fef49c",cursor:"#7f7f7f",black:"#000000",brightBlack:"#666666",red:"#cc0000",brightRed:"#e50000",green:"#00a600",brightGreen:"#00d900",yellow:"#999900",brightYellow:"#e5e500",blue:"#0000b2",brightBlue:"#0000ff",magenta:"#b200b2",brightMagenta:"#e500e5",cyan:"#00a6b2",brightCyan:"#00e5e5",white:"#cccccc",brightWhite:"#e5e5e5"},Ie={foreground:"#232322",background:"#eaeaea",cursor:"#16afca",black:"#212121",brightBlack:"#424242",red:"#b7141f",brightRed:"#e83b3f",green:"#457b24",brightGreen:"#7aba3a",yellow:"#f6981e",brightYellow:"#ffea2e",blue:"#134eb2",brightBlue:"#54a4f3",magenta:"#560088",brightMagenta:"#aa4dbc",cyan:"#0e717c",brightCyan:"#26bbd1",white:"#efefef",brightWhite:"#d9d9d9"},He={foreground:"#e5e5e5",background:"#232322",cursor:"#16afca",black:"#212121",brightBlack:"#424242",red:"#b7141f",brightRed:"#e83b3f",green:"#457b24",brightGreen:"#7aba3a",yellow:"#f6981e",brightYellow:"#ffea2e",blue:"#134eb2",brightBlue:"#54a4f3",magenta:"#560088",brightMagenta:"#aa4dbc",cyan:"#0e717c",brightCyan:"#26bbd1",white:"#efefef",brightWhite:"#d9d9d9"},We={foreground:"#bbbbbb",background:"#000000",cursor:"#bbbbbb",black:"#000000",brightBlack:"#555555",red:"#e52222",brightRed:"#ff5555",green:"#a6e32d",brightGreen:"#55ff55",yellow:"#fc951e",brightYellow:"#ffff55",blue:"#c48dff",brightBlue:"#5555ff",magenta:"#fa2573",brightMagenta:"#ff55ff",cyan:"#67d9f0",brightCyan:"#55ffff",white:"#f2f2f2",brightWhite:"#ffffff"},Fe={foreground:"#cac296",background:"#1d1908",cursor:"#d3ba30",black:"#000000",brightBlack:"#5e5219",red:"#b64c00",brightRed:"#ff9149",green:"#7c8b16",brightGreen:"#b2ca3b",yellow:"#d3bd26",brightYellow:"#ffe54a",blue:"#616bb0",brightBlue:"#acb8ff",magenta:"#8c5a90",brightMagenta:"#ffa0ff",cyan:"#916c25",brightCyan:"#ffbc51",white:"#cac29a",brightWhite:"#fed698"},je={foreground:"#e1e1e0",background:"#2d3743",cursor:"#000000",black:"#000000",brightBlack:"#555555",red:"#ff4242",brightRed:"#ff3242",green:"#74af68",brightGreen:"#74cd68",yellow:"#ffad29",brightYellow:"#ffb929",blue:"#338f86",brightBlue:"#23d7d7",magenta:"#9414e6",brightMagenta:"#ff37ff",cyan:"#23d7d7",brightCyan:"#00ede1",white:"#e1e1e0",brightWhite:"#ffffff"},Ue={foreground:"#bbbbbb",background:"#121212",cursor:"#bbbbbb",black:"#121212",brightBlack:"#555555",red:"#fa2573",brightRed:"#f6669d",green:"#98e123",brightGreen:"#b1e05f",yellow:"#dfd460",brightYellow:"#fff26d",blue:"#1080d0",brightBlue:"#00afff",magenta:"#8700ff",brightMagenta:"#af87ff",cyan:"#43a8d0",brightCyan:"#51ceff",white:"#bbbbbb",brightWhite:"#ffffff"},qe={foreground:"#f7d66a",background:"#120b0d",cursor:"#c46c32",black:"#351b0e",brightBlack:"#874228",red:"#9b291c",brightRed:"#ff4331",green:"#636232",brightGreen:"#b4b264",yellow:"#c36e28",brightYellow:"#ff9566",blue:"#515c5d",brightBlue:"#9eb2b4",magenta:"#9b1d29",brightMagenta:"#ff5b6a",cyan:"#588056",brightCyan:"#8acd8f",white:"#f7d75c",brightWhite:"#ffe598"},Ne={foreground:"#c4c5b5",background:"#1a1a1a",cursor:"#f6f7ec",black:"#1a1a1a",brightBlack:"#625e4c",red:"#f4005f",brightRed:"#f4005f",green:"#98e024",brightGreen:"#98e024",yellow:"#fa8419",brightYellow:"#e0d561",blue:"#9d65ff",brightBlue:"#9d65ff",magenta:"#f4005f",brightMagenta:"#f4005f",cyan:"#58d1eb",brightCyan:"#58d1eb",white:"#c4c5b5",brightWhite:"#f6f6ef"},Ge={foreground:"#f9f9f9",background:"#121212",cursor:"#fb0007",black:"#121212",brightBlack:"#838383",red:"#fa2934",brightRed:"#f6669d",green:"#98e123",brightGreen:"#b1e05f",yellow:"#fff30a",brightYellow:"#fff26d",blue:"#0443ff",brightBlue:"#0443ff",magenta:"#f800f8",brightMagenta:"#f200f6",cyan:"#01b6ed",brightCyan:"#51ceff",white:"#ffffff",brightWhite:"#ffffff"},Ye={foreground:"#a0a0a0",background:"#222222",cursor:"#aa9175",black:"#383838",brightBlack:"#474747",red:"#a95551",brightRed:"#a97775",green:"#666666",brightGreen:"#8c8c8c",yellow:"#a98051",brightYellow:"#a99175",blue:"#657d3e",brightBlue:"#98bd5e",magenta:"#767676",brightMagenta:"#a3a3a3",cyan:"#c9c9c9",brightCyan:"#dcdcdc",white:"#d0b8a3",brightWhite:"#d8c8bb"},ze={foreground:"#ffffff",background:"#271f19",cursor:"#ffffff",black:"#000000",brightBlack:"#000000",red:"#800000",brightRed:"#800000",green:"#61ce3c",brightGreen:"#61ce3c",yellow:"#fbde2d",brightYellow:"#fbde2d",blue:"#253b76",brightBlue:"#253b76",magenta:"#ff0080",brightMagenta:"#ff0080",cyan:"#8da6ce",brightCyan:"#8da6ce",white:"#f8f8f8",brightWhite:"#f8f8f8"},Ke={foreground:"#e6e8ef",background:"#1c1e22",cursor:"#f6f7ec",black:"#23252b",brightBlack:"#23252b",red:"#b54036",brightRed:"#b54036",green:"#5ab977",brightGreen:"#5ab977",yellow:"#deb566",brightYellow:"#deb566",blue:"#6a7c93",brightBlue:"#6a7c93",magenta:"#a4799d",brightMagenta:"#a4799d",cyan:"#3f94a8",brightCyan:"#3f94a8",white:"#e6e8ef",brightWhite:"#ebedf2"},Ve={foreground:"#bbbbbb",background:"#000000",cursor:"#bbbbbb",black:"#4c4c4c",brightBlack:"#555555",red:"#bb0000",brightRed:"#ff5555",green:"#5fde8f",brightGreen:"#55ff55",yellow:"#f3f167",brightYellow:"#ffff55",blue:"#276bd8",brightBlue:"#5555ff",magenta:"#bb00bb",brightMagenta:"#ff55ff",cyan:"#00dadf",brightCyan:"#55ffff",white:"#bbbbbb",brightWhite:"#ffffff"},Xe={foreground:"#bbbbbb",background:"#171717",cursor:"#bbbbbb",black:"#4c4c4c",brightBlack:"#555555",red:"#bb0000",brightRed:"#ff5555",green:"#04f623",brightGreen:"#7df71d",yellow:"#f3f167",brightYellow:"#ffff55",blue:"#64d0f0",brightBlue:"#62cbe8",magenta:"#ce6fdb",brightMagenta:"#ff9bf5",cyan:"#00dadf",brightCyan:"#00ccd8",white:"#bbbbbb",brightWhite:"#ffffff"},Je={foreground:"#3b2322",background:"#dfdbc3",cursor:"#73635a",black:"#000000",brightBlack:"#808080",red:"#cc0000",brightRed:"#cc0000",green:"#009600",brightGreen:"#009600",yellow:"#d06b00",brightYellow:"#d06b00",blue:"#0000cc",brightBlue:"#0000cc",magenta:"#cc00cc",brightMagenta:"#cc00cc",cyan:"#0087cc",brightCyan:"#0087cc",white:"#cccccc",brightWhite:"#ffffff"},Ze={foreground:"#cdcdcd",background:"#283033",cursor:"#c0cad0",black:"#000000",brightBlack:"#555555",red:"#a60001",brightRed:"#ff0003",green:"#00bb00",brightGreen:"#93c863",yellow:"#fecd22",brightYellow:"#fef874",blue:"#3a9bdb",brightBlue:"#a1d7ff",magenta:"#bb00bb",brightMagenta:"#ff55ff",cyan:"#00bbbb",brightCyan:"#55ffff",white:"#bbbbbb",brightWhite:"#ffffff"},$e={foreground:"#ffffff",background:"#224fbc",cursor:"#7f7f7f",black:"#000000",brightBlack:"#666666",red:"#990000",brightRed:"#e50000",green:"#00a600",brightGreen:"#00d900",yellow:"#999900",brightYellow:"#e5e500",blue:"#0000b2",brightBlue:"#0000ff",magenta:"#b200b2",brightMagenta:"#e500e5",cyan:"#00a6b2",brightCyan:"#00e5e5",white:"#bfbfbf",brightWhite:"#e5e5e5"},Qe={foreground:"#c2c8d7",background:"#1c262b",cursor:"#b3b8c3",black:"#000000",brightBlack:"#777777",red:"#ee2b2a",brightRed:"#dc5c60",green:"#40a33f",brightGreen:"#70be71",yellow:"#ffea2e",brightYellow:"#fff163",blue:"#1e80f0",brightBlue:"#54a4f3",magenta:"#8800a0",brightMagenta:"#aa4dbc",cyan:"#16afca",brightCyan:"#42c7da",white:"#a4a4a4",brightWhite:"#ffffff"},et={foreground:"#8a8dae",background:"#222125",cursor:"#5b6ea7",black:"#000000",brightBlack:"#5b3725",red:"#ac2e31",brightRed:"#ff3d48",green:"#31ac61",brightGreen:"#3bff99",yellow:"#ac4300",brightYellow:"#ff5e1e",blue:"#2d57ac",brightBlue:"#4488ff",magenta:"#b08528",brightMagenta:"#ffc21d",cyan:"#1fa6ac",brightCyan:"#1ffaff",white:"#8a8eac",brightWhite:"#5b6ea7"},tt={foreground:"#dcdfe4",background:"#282c34",cursor:"#a3b3cc",black:"#282c34",brightBlack:"#282c34",red:"#e06c75",brightRed:"#e06c75",green:"#98c379",brightGreen:"#98c379",yellow:"#e5c07b",brightYellow:"#e5c07b",blue:"#61afef",brightBlue:"#61afef",magenta:"#c678dd",brightMagenta:"#c678dd",cyan:"#56b6c2",brightCyan:"#56b6c2",white:"#dcdfe4",brightWhite:"#dcdfe4"},rt={foreground:"#383a42",background:"#fafafa",cursor:"#bfceff",black:"#383a42",brightBlack:"#4f525e",red:"#e45649",brightRed:"#e06c75",green:"#50a14f",brightGreen:"#98c379",yellow:"#c18401",brightYellow:"#e5c07b",blue:"#0184bc",brightBlue:"#61afef",magenta:"#a626a4",brightMagenta:"#c678dd",cyan:"#0997b3",brightCyan:"#56b6c2",white:"#fafafa",brightWhite:"#ffffff"},it={foreground:"#e1e1e1",background:"#141e43",cursor:"#43d58e",black:"#000000",brightBlack:"#3f5648",red:"#ff4242",brightRed:"#ff3242",green:"#74af68",brightGreen:"#74cd68",yellow:"#ffad29",brightYellow:"#ffb929",blue:"#338f86",brightBlue:"#23d7d7",magenta:"#9414e6",brightMagenta:"#ff37ff",cyan:"#23d7d7",brightCyan:"#00ede1",white:"#e2e2e2",brightWhite:"#ffffff"},nt={foreground:"#a39e9b",background:"#2f1e2e",cursor:"#a39e9b",black:"#2f1e2e",brightBlack:"#776e71",red:"#ef6155",brightRed:"#ef6155",green:"#48b685",brightGreen:"#48b685",yellow:"#fec418",brightYellow:"#fec418",blue:"#06b6ef",brightBlue:"#06b6ef",magenta:"#815ba4",brightMagenta:"#815ba4",cyan:"#5bc4bf",brightCyan:"#5bc4bf",white:"#a39e9b",brightWhite:"#e7e9db"},ot={foreground:"#a39e9b",background:"#2f1e2e",cursor:"#a39e9b",black:"#2f1e2e",brightBlack:"#776e71",red:"#ef6155",brightRed:"#ef6155",green:"#48b685",brightGreen:"#48b685",yellow:"#fec418",brightYellow:"#fec418",blue:"#06b6ef",brightBlue:"#06b6ef",magenta:"#815ba4",brightMagenta:"#815ba4",cyan:"#5bc4bf",brightCyan:"#5bc4bf",white:"#a39e9b",brightWhite:"#e7e9db"},st={foreground:"#f2f2f2",background:"#000000",cursor:"#4d4d4d",black:"#2a2a2a",brightBlack:"#666666",red:"#ff0000",brightRed:"#ff0080",green:"#79ff0f",brightGreen:"#66ff66",yellow:"#e7bf00",brightYellow:"#f3d64e",blue:"#396bd7",brightBlue:"#709aed",magenta:"#b449be",brightMagenta:"#db67e6",cyan:"#66ccff",brightCyan:"#7adff2",white:"#bbbbbb",brightWhite:"#ffffff"},at={foreground:"#f1f1f1",background:"#212121",cursor:"#20bbfc",black:"#212121",brightBlack:"#424242",red:"#c30771",brightRed:"#fb007a",green:"#10a778",brightGreen:"#5fd7af",yellow:"#a89c14",brightYellow:"#f3e430",blue:"#008ec4",brightBlue:"#20bbfc",magenta:"#523c79",brightMagenta:"#6855de",cyan:"#20a5ba",brightCyan:"#4fb8cc",white:"#d9d9d9",brightWhite:"#f1f1f1"},ct={foreground:"#424242",background:"#f1f1f1",cursor:"#20bbfc",black:"#212121",brightBlack:"#424242",red:"#c30771",brightRed:"#fb007a",green:"#10a778",brightGreen:"#5fd7af",yellow:"#a89c14",brightYellow:"#f3e430",blue:"#008ec4",brightBlue:"#20bbfc",magenta:"#523c79",brightMagenta:"#6855de",cyan:"#20a5ba",brightCyan:"#4fb8cc",white:"#d9d9d9",brightWhite:"#f1f1f1"},lt={foreground:"#414141",background:"#ffffff",cursor:"#5e77c8",black:"#414141",brightBlack:"#3f3f3f",red:"#b23771",brightRed:"#db3365",green:"#66781e",brightGreen:"#829429",yellow:"#cd6f34",brightYellow:"#cd6f34",blue:"#3c5ea8",brightBlue:"#3c5ea8",magenta:"#a454b2",brightMagenta:"#a454b2",cyan:"#66781e",brightCyan:"#829429",white:"#ffffff",brightWhite:"#f2f2f2"},ht={foreground:"#d0d0d0",background:"#1c1c1c",cursor:"#e4c9af",black:"#2f2e2d",brightBlack:"#4a4845",red:"#a36666",brightRed:"#d78787",green:"#90a57d",brightGreen:"#afbea2",yellow:"#d7af87",brightYellow:"#e4c9af",blue:"#7fa5bd",brightBlue:"#a1bdce",magenta:"#c79ec4",brightMagenta:"#d7beda",cyan:"#8adbb4",brightCyan:"#b1e7dd",white:"#d0d0d0",brightWhite:"#efefef"},ft={foreground:"#f2f2f2",background:"#000000",cursor:"#4d4d4d",black:"#000000",brightBlack:"#666666",red:"#990000",brightRed:"#e50000",green:"#00a600",brightGreen:"#00d900",yellow:"#999900",brightYellow:"#e5e500",blue:"#2009db",brightBlue:"#0000ff",magenta:"#b200b2",brightMagenta:"#e500e5",cyan:"#00a6b2",brightCyan:"#00e5e5",white:"#bfbfbf",brightWhite:"#e5e5e5"},ut={foreground:"#ffffff",background:"#762423",cursor:"#ffffff",black:"#000000",brightBlack:"#262626",red:"#d62e4e",brightRed:"#e02553",green:"#71be6b",brightGreen:"#aff08c",yellow:"#beb86b",brightYellow:"#dfddb7",blue:"#489bee",brightBlue:"#65aaf1",magenta:"#e979d7",brightMagenta:"#ddb7df",cyan:"#6bbeb8",brightCyan:"#b7dfdd",white:"#d6d6d6",brightWhite:"#ffffff"},dt={foreground:"#d7c9a7",background:"#7a251e",cursor:"#ffffff",black:"#000000",brightBlack:"#555555",red:"#ff3f00",brightRed:"#bb0000",green:"#00bb00",brightGreen:"#00bb00",yellow:"#e7b000",brightYellow:"#e7b000",blue:"#0072ff",brightBlue:"#0072ae",magenta:"#bb00bb",brightMagenta:"#ff55ff",cyan:"#00bbbb",brightCyan:"#55ffff",white:"#bbbbbb",brightWhite:"#ffffff"},_t={foreground:"#ffffff",background:"#2b2b2b",cursor:"#7f7f7f",black:"#000000",brightBlack:"#666666",red:"#cdaf95",brightRed:"#eecbad",green:"#a8ff60",brightGreen:"#bcee68",yellow:"#bfbb1f",brightYellow:"#e5e500",blue:"#75a5b0",brightBlue:"#86bdc9",magenta:"#ff73fd",brightMagenta:"#e500e5",cyan:"#5a647e",brightCyan:"#8c9bc4",white:"#bfbfbf",brightWhite:"#e5e5e5"},gt={foreground:"#514968",background:"#100815",cursor:"#524966",black:"#241f2b",brightBlack:"#312d3d",red:"#91284c",brightRed:"#d5356c",green:"#23801c",brightGreen:"#2cd946",yellow:"#b49d27",brightYellow:"#fde83b",blue:"#6580b0",brightBlue:"#90baf9",magenta:"#674d96",brightMagenta:"#a479e3",cyan:"#8aaabe",brightCyan:"#acd4eb",white:"#524966",brightWhite:"#9e8cbd"},bt={foreground:"#ececec",background:"#2c3941",cursor:"#ececec",black:"#2c3941",brightBlack:"#5d7079",red:"#865f5b",brightRed:"#865f5b",green:"#66907d",brightGreen:"#66907d",yellow:"#b1a990",brightYellow:"#b1a990",blue:"#6a8e95",brightBlue:"#6a8e95",magenta:"#b18a73",brightMagenta:"#b18a73",cyan:"#88b2ac",brightCyan:"#88b2ac",white:"#ececec",brightWhite:"#ececec"},pt={foreground:"#deb88d",background:"#09141b",cursor:"#fca02f",black:"#17384c",brightBlack:"#434b53",red:"#d15123",brightRed:"#d48678",green:"#027c9b",brightGreen:"#628d98",yellow:"#fca02f",brightYellow:"#fdd39f",blue:"#1e4950",brightBlue:"#1bbcdd",magenta:"#68d4f1",brightMagenta:"#bbe3ee",cyan:"#50a3b5",brightCyan:"#87acb4",white:"#deb88d",brightWhite:"#fee4ce"},vt={foreground:"#d4e7d4",background:"#243435",cursor:"#57647a",black:"#757575",brightBlack:"#8a8a8a",red:"#825d4d",brightRed:"#cf937a",green:"#728c62",brightGreen:"#98d9aa",yellow:"#ada16d",brightYellow:"#fae79d",blue:"#4d7b82",brightBlue:"#7ac3cf",magenta:"#8a7267",brightMagenta:"#d6b2a1",cyan:"#729494",brightCyan:"#ade0e0",white:"#e0e0e0",brightWhite:"#e0e0e0"},yt={foreground:"#cacecd",background:"#111213",cursor:"#e3bf21",black:"#323232",brightBlack:"#323232",red:"#c22832",brightRed:"#c22832",green:"#8ec43d",brightGreen:"#8ec43d",yellow:"#e0c64f",brightYellow:"#e0c64f",blue:"#43a5d5",brightBlue:"#43a5d5",magenta:"#8b57b5",brightMagenta:"#8b57b5",cyan:"#8ec43d",brightCyan:"#8ec43d",white:"#eeeeee",brightWhite:"#ffffff"},mt={foreground:"#405555",background:"#001015",cursor:"#4afcd6",black:"#012026",brightBlack:"#384451",red:"#b2302d",brightRed:"#ff4242",green:"#00a941",brightGreen:"#2aea5e",yellow:"#5e8baa",brightYellow:"#8ed4fd",blue:"#449a86",brightBlue:"#61d5ba",magenta:"#00599d",brightMagenta:"#1298ff",cyan:"#5d7e19",brightCyan:"#98d028",white:"#405555",brightWhite:"#58fbd6"},Ct={foreground:"#35b1d2",background:"#222222",cursor:"#87d3c4",black:"#222222",brightBlack:"#ffffff",red:"#e2a8bf",brightRed:"#ffcdd9",green:"#81d778",brightGreen:"#beffa8",yellow:"#c4c9c0",brightYellow:"#d0ccca",blue:"#264b49",brightBlue:"#7ab0d2",magenta:"#a481d3",brightMagenta:"#c5a7d9",cyan:"#15ab9c",brightCyan:"#8cdfe0",white:"#02c5e0",brightWhite:"#e0e0e0"},St={foreground:"#f7f7f7",background:"#1b1b1b",cursor:"#bbbbbb",black:"#000000",brightBlack:"#7a7a7a",red:"#b84131",brightRed:"#d6837c",green:"#7da900",brightGreen:"#c4f137",yellow:"#c4a500",brightYellow:"#fee14d",blue:"#62a3c4",brightBlue:"#8dcff0",magenta:"#ba8acc",brightMagenta:"#f79aff",cyan:"#207383",brightCyan:"#6ad9cf",white:"#a1a1a1",brightWhite:"#f7f7f7"},wt={foreground:"#99a3a2",background:"#242626",cursor:"#d2e0de",black:"#000000",brightBlack:"#666c6c",red:"#a2686a",brightRed:"#dd5c60",green:"#9aa56a",brightGreen:"#bfdf55",yellow:"#a3906a",brightYellow:"#deb360",blue:"#6b8fa3",brightBlue:"#62b1df",magenta:"#6a71a3",brightMagenta:"#606edf",cyan:"#6ba58f",brightCyan:"#64e39c",white:"#99a3a2",brightWhite:"#d2e0de"},kt={foreground:"#d2d8d9",background:"#3d3f41",cursor:"#708284",black:"#25292a",brightBlack:"#25292a",red:"#f24840",brightRed:"#f24840",green:"#629655",brightGreen:"#629655",yellow:"#b68800",brightYellow:"#b68800",blue:"#2075c7",brightBlue:"#2075c7",magenta:"#797fd4",brightMagenta:"#797fd4",cyan:"#15968d",brightCyan:"#15968d",white:"#d2d8d9",brightWhite:"#d2d8d9"},qt={foreground:"#708284",background:"#001e27",cursor:"#708284",black:"#002831",brightBlack:"#001e27",red:"#d11c24",brightRed:"#bd3613",green:"#738a05",brightGreen:"#475b62",yellow:"#a57706",brightYellow:"#536870",blue:"#2176c7",brightBlue:"#708284",magenta:"#c61c6f",brightMagenta:"#5956ba",cyan:"#259286",brightCyan:"#819090",white:"#eae3cb",brightWhite:"#fcf4dc"},Nt={foreground:"#708284",background:"#001e27",cursor:"#708284",black:"#002831",brightBlack:"#475b62",red:"#d11c24",brightRed:"#bd3613",green:"#738a05",brightGreen:"#475b62",yellow:"#a57706",brightYellow:"#536870",blue:"#2176c7",brightBlue:"#708284",magenta:"#c61c6f",brightMagenta:"#5956ba",cyan:"#259286",brightCyan:"#819090",white:"#eae3cb",brightWhite:"#fcf4dc"},Gt={foreground:"#9cc2c3",background:"#001e27",cursor:"#f34b00",black:"#002831",brightBlack:"#006488",red:"#d11c24",brightRed:"#f5163b",green:"#6cbe6c",brightGreen:"#51ef84",yellow:"#a57706",brightYellow:"#b27e28",blue:"#2176c7",brightBlue:"#178ec8",magenta:"#c61c6f",brightMagenta:"#e24d8e",cyan:"#259286",brightCyan:"#00b39e",white:"#eae3cb",brightWhite:"#fcf4dc"},Yt={foreground:"#536870",background:"#fcf4dc",cursor:"#536870",black:"#002831",brightBlack:"#001e27",red:"#d11c24",brightRed:"#bd3613",green:"#738a05",brightGreen:"#475b62",yellow:"#a57706",brightYellow:"#536870",blue:"#2176c7",brightBlue:"#708284",magenta:"#c61c6f",brightMagenta:"#5956ba",cyan:"#259286",brightCyan:"#819090",white:"#eae3cb",brightWhite:"#fcf4dc"},zt={foreground:"#b3b8c3",background:"#20242d",cursor:"#b3b8c3",black:"#000000",brightBlack:"#000000",red:"#b04b57",brightRed:"#b04b57",green:"#87b379",brightGreen:"#87b379",yellow:"#e5c179",brightYellow:"#e5c179",blue:"#7d8fa4",brightBlue:"#7d8fa4",magenta:"#a47996",brightMagenta:"#a47996",cyan:"#85a7a5",brightCyan:"#85a7a5",white:"#b3b8c3",brightWhite:"#ffffff"},Kt={foreground:"#bdbaae",background:"#222222",cursor:"#bbbbbb",black:"#15171c",brightBlack:"#555555",red:"#ec5f67",brightRed:"#ff6973",green:"#81a764",brightGreen:"#93d493",yellow:"#fec254",brightYellow:"#ffd256",blue:"#5486c0",brightBlue:"#4d84d1",magenta:"#bf83c1",brightMagenta:"#ff55ff",cyan:"#57c2c1",brightCyan:"#83e9e4",white:"#efece7",brightWhite:"#ffffff"},Vt={foreground:"#c9c6bc",background:"#222222",cursor:"#bbbbbb",black:"#15171c",brightBlack:"#555555",red:"#b24a56",brightRed:"#ec5f67",green:"#92b477",brightGreen:"#89e986",yellow:"#c6735a",brightYellow:"#fec254",blue:"#7c8fa5",brightBlue:"#5486c0",magenta:"#a5789e",brightMagenta:"#bf83c1",cyan:"#80cdcb",brightCyan:"#58c2c1",white:"#b3b8c3",brightWhite:"#ffffff"},Xt={foreground:"#ecf0c1",background:"#0a1e24",cursor:"#708284",black:"#6e5346",brightBlack:"#684c31",red:"#e35b00",brightRed:"#ff8a3a",green:"#5cab96",brightGreen:"#aecab8",yellow:"#e3cd7b",brightYellow:"#ffc878",blue:"#0f548b",brightBlue:"#67a0ce",magenta:"#e35b00",brightMagenta:"#ff8a3a",cyan:"#06afc7",brightCyan:"#83a7b4",white:"#f0f1ce",brightWhite:"#fefff1"},Jt={foreground:"#e3e3e3",background:"#1b1d1e",cursor:"#2c3fff",black:"#1b1d1e",brightBlack:"#505354",red:"#e60813",brightRed:"#ff0325",green:"#e22928",brightGreen:"#ff3338",yellow:"#e24756",brightYellow:"#fe3a35",blue:"#2c3fff",brightBlue:"#1d50ff",magenta:"#2435db",brightMagenta:"#747cff",cyan:"#3256ff",brightCyan:"#6184ff",white:"#fffef6",brightWhite:"#fffff9"},Zt={foreground:"#4d4d4c",background:"#ffffff",cursor:"#4d4d4c",black:"#000000",brightBlack:"#000000",red:"#ff4d83",brightRed:"#ff0021",green:"#1f8c3b",brightGreen:"#1fc231",yellow:"#1fc95b",brightYellow:"#d5b807",blue:"#1dd3ee",brightBlue:"#15a9fd",magenta:"#8959a8",brightMagenta:"#8959a8",cyan:"#3e999f",brightCyan:"#3e999f",white:"#ffffff",brightWhite:"#ffffff"},$t={foreground:"#acacab",background:"#1a1a1a",cursor:"#fcfbcc",black:"#050505",brightBlack:"#141414",red:"#e9897c",brightRed:"#f99286",green:"#b6377d",brightGreen:"#c3f786",yellow:"#ecebbe",brightYellow:"#fcfbcc",blue:"#a9cdeb",brightBlue:"#b6defb",magenta:"#75507b",brightMagenta:"#ad7fa8",cyan:"#c9caec",brightCyan:"#d7d9fc",white:"#f2f2f2",brightWhite:"#e2e2e2"},Qt={foreground:"#c9c9c9",background:"#1a1818",cursor:"#ffffff",black:"#302b2a",brightBlack:"#4d4e48",red:"#a7463d",brightRed:"#aa000c",green:"#587744",brightGreen:"#128c21",yellow:"#9d602a",brightYellow:"#fc6a21",blue:"#485b98",brightBlue:"#7999f7",magenta:"#864651",brightMagenta:"#fd8aa1",cyan:"#9c814f",brightCyan:"#fad484",white:"#c9c9c9",brightWhite:"#ffffff"},er={foreground:"#ffffff",background:"#000000",cursor:"#dc322f",black:"#000000",brightBlack:"#1b1d21",red:"#dc322f",brightRed:"#dc322f",green:"#56db3a",brightGreen:"#56db3a",yellow:"#ff8400",brightYellow:"#ff8400",blue:"#0084d4",brightBlue:"#0084d4",magenta:"#b729d9",brightMagenta:"#b729d9",cyan:"#ccccff",brightCyan:"#ccccff",white:"#ffffff",brightWhite:"#ffffff"},tr={foreground:"#d0d0d0",background:"#262626",cursor:"#e4c9af",black:"#1c1c1c",brightBlack:"#1c1c1c",red:"#d68686",brightRed:"#d68686",green:"#aed686",brightGreen:"#aed686",yellow:"#d7af87",brightYellow:"#e4c9af",blue:"#86aed6",brightBlue:"#86aed6",magenta:"#d6aed6",brightMagenta:"#d6aed6",cyan:"#8adbb4",brightCyan:"#b1e7dd",white:"#d0d0d0",brightWhite:"#efefef"},rr={foreground:"#000000",background:"#ffffff",cursor:"#7f7f7f",black:"#000000",brightBlack:"#666666",red:"#990000",brightRed:"#e50000",green:"#00a600",brightGreen:"#00d900",yellow:"#999900",brightYellow:"#e5e500",blue:"#0000b2",brightBlue:"#0000ff",magenta:"#b200b2",brightMagenta:"#e500e5",cyan:"#00a6b2",brightCyan:"#00e5e5",white:"#bfbfbf",brightWhite:"#e5e5e5"},ir={foreground:"#f8f8f8",background:"#1b1d1e",cursor:"#fc971f",black:"#1b1d1e",brightBlack:"#505354",red:"#f92672",brightRed:"#ff5995",green:"#4df840",brightGreen:"#b6e354",yellow:"#f4fd22",brightYellow:"#feed6c",blue:"#2757d6",brightBlue:"#3f78ff",magenta:"#8c54fe",brightMagenta:"#9e6ffe",cyan:"#38c8b5",brightCyan:"#23cfd5",white:"#ccccc6",brightWhite:"#f8f8f2"},lr={foreground:"#b5b5b5",background:"#1b1d1e",cursor:"#16b61b",black:"#1b1d1e",brightBlack:"#505354",red:"#269d1b",brightRed:"#8dff2a",green:"#13ce30",brightGreen:"#48ff77",yellow:"#63e457",brightYellow:"#3afe16",blue:"#2525f5",brightBlue:"#506b95",magenta:"#641f74",brightMagenta:"#72589d",cyan:"#378ca9",brightCyan:"#4085a6",white:"#d9d8d1",brightWhite:"#e5e6e1"},mr={foreground:"#4d4d4c",background:"#ffffff",cursor:"#4d4d4c",black:"#000000",brightBlack:"#000000",red:"#c82829",brightRed:"#c82829",green:"#718c00",brightGreen:"#718c00",yellow:"#eab700",brightYellow:"#eab700",blue:"#4271ae",brightBlue:"#4271ae",magenta:"#8959a8",brightMagenta:"#8959a8",cyan:"#3e999f",brightCyan:"#3e999f",white:"#ffffff",brightWhite:"#ffffff"},hr={foreground:"#c5c8c6",background:"#1d1f21",cursor:"#c5c8c6",black:"#000000",brightBlack:"#000000",red:"#cc6666",brightRed:"#cc6666",green:"#b5bd68",brightGreen:"#b5bd68",yellow:"#f0c674",brightYellow:"#f0c674",blue:"#81a2be",brightBlue:"#81a2be",magenta:"#b294bb",brightMagenta:"#b294bb",cyan:"#8abeb7",brightCyan:"#8abeb7",white:"#ffffff",brightWhite:"#ffffff"},fr={foreground:"#ffffff",background:"#002451",cursor:"#ffffff",black:"#000000",brightBlack:"#000000",red:"#ff9da4",brightRed:"#ff9da4",green:"#d1f1a9",brightGreen:"#d1f1a9",yellow:"#ffeead",brightYellow:"#ffeead",blue:"#bbdaff",brightBlue:"#bbdaff",magenta:"#ebbbff",brightMagenta:"#ebbbff",cyan:"#99ffff",brightCyan:"#99ffff",white:"#ffffff",brightWhite:"#ffffff"},Cr={foreground:"#eaeaea",background:"#000000",cursor:"#eaeaea",black:"#000000",brightBlack:"#000000",red:"#d54e53",brightRed:"#d54e53",green:"#b9ca4a",brightGreen:"#b9ca4a",yellow:"#e7c547",brightYellow:"#e7c547",blue:"#7aa6da",brightBlue:"#7aa6da",magenta:"#c397d8",brightMagenta:"#c397d8",cyan:"#70c0b1",brightCyan:"#70c0b1",white:"#ffffff",brightWhite:"#ffffff"},Sr={foreground:"#cccccc",background:"#2d2d2d",cursor:"#cccccc",black:"#000000",brightBlack:"#000000",red:"#f2777a",brightRed:"#f2777a",green:"#99cc99",brightGreen:"#99cc99",yellow:"#ffcc66",brightYellow:"#ffcc66",blue:"#6699cc",brightBlue:"#6699cc",magenta:"#cc99cc",brightMagenta:"#cc99cc",cyan:"#66cccc",brightCyan:"#66cccc",white:"#ffffff",brightWhite:"#ffffff"},U={foreground:"#31d07b",background:"#24364b",cursor:"#d5d5d5",black:"#2c3f58",brightBlack:"#336889",red:"#be2d26",brightRed:"#dd5944",green:"#1a9172",brightGreen:"#31d07b",yellow:"#db8e27",brightYellow:"#e7d84b",blue:"#325d96",brightBlue:"#34a6da",magenta:"#8a5edc",brightMagenta:"#ae6bdc",cyan:"#35a08f",brightCyan:"#42c3ae",white:"#23d183",brightWhite:"#d5d5d5"},j={foreground:"#786b53",background:"#191919",cursor:"#fac814",black:"#321300",brightBlack:"#433626",red:"#b2270e",brightRed:"#ed5d20",green:"#44a900",brightGreen:"#55f238",yellow:"#aa820c",brightYellow:"#f2b732",blue:"#58859a",brightBlue:"#85cfed",magenta:"#97363d",brightMagenta:"#e14c5a",cyan:"#b25a1e",brightCyan:"#f07d14",white:"#786b53",brightWhite:"#ffc800"},ue={foreground:"#eeeeec",background:"#300a24",cursor:"#bbbbbb",black:"#2e3436",brightBlack:"#555753",red:"#cc0000",brightRed:"#ef2929",green:"#4e9a06",brightGreen:"#8ae234",yellow:"#c4a000",brightYellow:"#fce94f",blue:"#3465a4",brightBlue:"#729fcf",magenta:"#75507b",brightMagenta:"#ad7fa8",cyan:"#06989a",brightCyan:"#34e2e2",white:"#d3d7cf",brightWhite:"#eeeeec"},Se={foreground:"#ffffff",background:"#011116",cursor:"#4afcd6",black:"#022026",brightBlack:"#384451",red:"#b2302d",brightRed:"#ff4242",green:"#00a941",brightGreen:"#2aea5e",yellow:"#59819c",brightYellow:"#8ed4fd",blue:"#459a86",brightBlue:"#61d5ba",magenta:"#00599d",brightMagenta:"#1298ff",cyan:"#5d7e19",brightCyan:"#98d028",white:"#405555",brightWhite:"#58fbd6"},we={foreground:"#877a9b",background:"#1b1b23",cursor:"#a063eb",black:"#000000",brightBlack:"#5d3225",red:"#b0425b",brightRed:"#ff6388",green:"#37a415",brightGreen:"#29e620",yellow:"#ad5c42",brightYellow:"#f08161",blue:"#564d9b",brightBlue:"#867aed",magenta:"#6c3ca1",brightMagenta:"#a05eee",cyan:"#808080",brightCyan:"#eaeaea",white:"#87799c",brightWhite:"#bfa3ff"},te={foreground:"#dcdccc",background:"#25234f",cursor:"#ff5555",black:"#25234f",brightBlack:"#709080",red:"#705050",brightRed:"#dca3a3",green:"#60b48a",brightGreen:"#60b48a",yellow:"#dfaf8f",brightYellow:"#f0dfaf",blue:"#5555ff",brightBlue:"#5555ff",magenta:"#f08cc3",brightMagenta:"#ec93d3",cyan:"#8cd0d3",brightCyan:"#93e0e3",white:"#709080",brightWhite:"#ffffff"},de={foreground:"#ffffff",background:"#000000",cursor:"#ffffff",black:"#878787",brightBlack:"#555555",red:"#ff6600",brightRed:"#ff0000",green:"#ccff04",brightGreen:"#00ff00",yellow:"#ffcc00",brightYellow:"#ffff00",blue:"#44b4cc",brightBlue:"#0000ff",magenta:"#9933cc",brightMagenta:"#ff00ff",cyan:"#44b4cc",brightCyan:"#00ffff",white:"#f5f5f5",brightWhite:"#e5e5e5"},_e={foreground:"#708284",background:"#1c1d1f",cursor:"#708284",black:"#56595c",brightBlack:"#45484b",red:"#c94c22",brightRed:"#bd3613",green:"#85981c",brightGreen:"#738a04",yellow:"#b4881d",brightYellow:"#a57705",blue:"#2e8bce",brightBlue:"#2176c7",magenta:"#d13a82",brightMagenta:"#c61c6f",cyan:"#32a198",brightCyan:"#259286",white:"#c9c6bd",brightWhite:"#c9c6bd"},ke={foreground:"#536870",background:"#fcf4dc",cursor:"#536870",black:"#56595c",brightBlack:"#45484b",red:"#c94c22",brightRed:"#bd3613",green:"#85981c",brightGreen:"#738a04",yellow:"#b4881d",brightYellow:"#a57705",blue:"#2e8bce",brightBlue:"#2176c7",magenta:"#d13a82",brightMagenta:"#c61c6f",cyan:"#32a198",brightCyan:"#259286",white:"#d3d0c9",brightWhite:"#c9c6bd"},ne={foreground:"#afdab6",background:"#404040",cursor:"#30ff24",black:"#000000",brightBlack:"#fefcfc",red:"#e24346",brightRed:"#e97071",green:"#39b13a",brightGreen:"#9cc090",yellow:"#dae145",brightYellow:"#ddda7a",blue:"#4261c5",brightBlue:"#7b91d6",magenta:"#f920fb",brightMagenta:"#f674ba",cyan:"#2abbd4",brightCyan:"#5ed1e5",white:"#d0b8a3",brightWhite:"#d8c8bb"},ge={foreground:"#b3b3b3",background:"#000000",cursor:"#53ae71",black:"#000000",brightBlack:"#555555",red:"#cc5555",brightRed:"#ff5555",green:"#55cc55",brightGreen:"#55ff55",yellow:"#cdcd55",brightYellow:"#ffff55",blue:"#5555cc",brightBlue:"#5555ff",magenta:"#cc55cc",brightMagenta:"#ff55ff",cyan:"#7acaca",brightCyan:"#55ffff",white:"#cccccc",brightWhite:"#ffffff"},Le={foreground:"#dafaff",background:"#1f1726",cursor:"#dd00ff",black:"#000507",brightBlack:"#009cc9",red:"#d94085",brightRed:"#da6bac",green:"#2ab250",brightGreen:"#f4dca5",yellow:"#ffd16f",brightYellow:"#eac066",blue:"#883cdc",brightBlue:"#308cba",magenta:"#ececec",brightMagenta:"#ae636b",cyan:"#c1b8b7",brightCyan:"#ff919d",white:"#fff8de",brightWhite:"#e4838d"},Ee={foreground:"#dedacf",background:"#171717",cursor:"#bbbbbb",black:"#000000",brightBlack:"#313131",red:"#ff615a",brightRed:"#f58c80",green:"#b1e969",brightGreen:"#ddf88f",yellow:"#ebd99c",brightYellow:"#eee5b2",blue:"#5da9f6",brightBlue:"#a5c7ff",magenta:"#e86aff",brightMagenta:"#ddaaff",cyan:"#82fff7",brightCyan:"#b7fff9",white:"#dedacf",brightWhite:"#ffffff"},me={foreground:"#999993",background:"#101010",cursor:"#9e9ecb",black:"#333333",brightBlack:"#3d3d3d",red:"#8c4665",brightRed:"#bf4d80",green:"#287373",brightGreen:"#53a6a6",yellow:"#7c7c99",brightYellow:"#9e9ecb",blue:"#395573",brightBlue:"#477ab3",magenta:"#5e468c",brightMagenta:"#7e62b3",cyan:"#31658c",brightCyan:"#6096bf",white:"#899ca1",brightWhite:"#c0c0c0"},Ce={foreground:"#dcdccc",background:"#3f3f3f",cursor:"#73635a",black:"#4d4d4d",brightBlack:"#709080",red:"#705050",brightRed:"#dca3a3",green:"#60b48a",brightGreen:"#c3bf9f",yellow:"#f0dfaf",brightYellow:"#e0cf9f",blue:"#506070",brightBlue:"#94bff3",magenta:"#dc8cc3",brightMagenta:"#ec93d3",cyan:"#8cd0d3",brightCyan:"#93e0e3",white:"#dcdccc",brightWhite:"#ffffff"},ce={foreground:"#e6e1cf",background:"#0f1419",cursor:"#f29718",black:"#000000",brightBlack:"#323232",red:"#ff3333",brightRed:"#ff6565",green:"#b8cc52",brightGreen:"#eafe84",yellow:"#e7c547",brightYellow:"#fff779",blue:"#36a3d9",brightBlue:"#68d5ff",magenta:"#f07178",brightMagenta:"#ffa3aa",cyan:"#95e6cb",brightCyan:"#c7fffd",white:"#ffffff",brightWhite:"#ffffff"},oe={foreground:"#cdcdcd",background:"#000000",cursor:"#d0d0d0",black:"#000000",brightBlack:"#535353",red:"#d11600",brightRed:"#f4152c",green:"#37c32c",brightGreen:"#01ea10",yellow:"#e3c421",brightYellow:"#ffee1d",blue:"#5c6bfd",brightBlue:"#8cb0f8",magenta:"#dd5be5",brightMagenta:"#e056f5",cyan:"#6eb4f2",brightCyan:"#67ecff",white:"#e0e0e0",brightWhite:"#f4f4f4"},ee={foreground:"#ffffff",background:"#323232",cursor:"#d6d6d6",black:"#323232",brightBlack:"#535353",red:"#d25252",brightRed:"#f07070",green:"#7fe173",brightGreen:"#9dff91",yellow:"#ffc66d",brightYellow:"#ffe48b",blue:"#4099ff",brightBlue:"#5eb7f7",magenta:"#f680ff",brightMagenta:"#ff9dff",cyan:"#bed6ff",brightCyan:"#dcf4ff",white:"#eeeeec",brightWhite:"#ffffff"},be={Night_3024:H,AdventureTime:D,Afterglow:i,AlienBlood:g,Argonaut:a,Arthur:h,AtelierSulphurpool:u,Atom:f,Batman:v,Belafonte_Night:b,BirdsOfParadise:o,Blazer:c,Borland:d,Bright_Lights:n,Broadcast:t,Brogrammer:e,C64:r,Chalk:s,Chalkboard:l,Ciapre:_,Cobalt2:p,Cobalt_Neon:w,CrayonPonyFish:S,Dark_Pastel:y,Darkside:m,Desert:M,DimmedMonokai:E,DotGov:W,Dracula:A,Duotone_Dark:L,ENCOM:B,Earthsong:I,Elemental:F,Elementary:N,Espresso:G,Espresso_Libre:J,Fideloper:V,FirefoxDev:Z,Firewatch:R,FishTank:q,Flat:T,Flatland:P,Floraverse:O,ForestBlue:z,FrontEndDelight:K,FunForrest:X,Galaxy:$,Github:Q,Glacier:he,Grape:Y,Grass:ie,Gruvbox_Dark:ae,Hardcore:fe,Harper:ye,Highway:xt,Hipster_Green:At,Homebrew:Ot,Hurtado:Tt,Hybrid:Dt,IC_Green_PPL:Pt,IC_Orange_PPL:It,IR_Black:Ht,Jackie_Brown:Wt,Japanesque:Ft,Jellybeans:jt,JetBrains_Darcula:Ut,Kibble:Re,Later_This_Evening:xe,Lavandula:Ae,LiquidCarbon:Oe,LiquidCarbonTransparent:Te,LiquidCarbonTransparentInverse:De,Man_Page:Pe,Material:Ie,MaterialDark:He,Mathias:We,Medallion:Fe,Misterioso:je,Molokai:Ue,MonaLisa:qe,Monokai_Soda:Ne,Monokai_Vivid:Ge,N0tch2k:Ye,Neopolitan:ze,Neutron:Ke,NightLion_v1:Ve,NightLion_v2:Xe,Novel:Je,Obsidian:Ze,Ocean:$e,OceanicMaterial:Qe,Ollie:et,OneHalfDark:tt,OneHalfLight:rt,Pandora:it,Paraiso_Dark:nt,Parasio_Dark:ot,PaulMillr:st,PencilDark:at,PencilLight:ct,Piatto_Light:lt,Pnevma:ht,Pro:ft,Red_Alert:ut,Red_Sands:dt,Rippedcasts:_t,Royal:gt,Ryuuko:bt,SeaShells:pt,Seafoam_Pastel:vt,Seti:yt,Shaman:mt,Slate:Ct,Smyck:St,SoftServer:wt,Solarized_Darcula:kt,Solarized_Dark:qt,Solarized_Dark_Patched:Nt,Solarized_Dark_Higher_Contrast:Gt,Solarized_Light:Yt,SpaceGray:zt,SpaceGray_Eighties:Kt,SpaceGray_Eighties_Dull:Vt,Spacedust:Xt,Spiderman:Jt,Spring:Zt,Square:$t,Sundried:Qt,Symfonic:er,Teerb:tr,Terminal_Basic:rr,Thayer_Bright:ir,The_Hulk:lr,Tomorrow:mr,Tomorrow_Night:hr,Tomorrow_Night_Blue:fr,Tomorrow_Night_Bright:Cr,Tomorrow_Night_Eighties:Sr,ToyChest:U,Treehouse:j,Ubuntu:ue,UnderTheSea:Se,Urple:we,Vaughn:te,VibrantInk:de,Violet_Dark:_e,Violet_Light:ke,WarmNeon:ne,Wez:ge,WildCherry:Le,Wombat:Ee,Wryan:me,Zenburn:Ce,ayu:ce,deep:oe,idleToes:ee};C.AdventureTime=D,C.Afterglow=i,C.AlienBlood=g,C.Argonaut=a,C.Arthur=h,C.AtelierSulphurpool=u,C.Atom=f,C.Batman=v,C.Belafonte_Night=b,C.BirdsOfParadise=o,C.Blazer=c,C.Borland=d,C.Bright_Lights=n,C.Broadcast=t,C.Brogrammer=e,C.C64=r,C.Chalk=s,C.Chalkboard=l,C.Ciapre=_,C.Cobalt2=p,C.Cobalt_Neon=w,C.CrayonPonyFish=S,C.Dark_Pastel=y,C.Darkside=m,C.Desert=M,C.DimmedMonokai=E,C.DotGov=W,C.Dracula=A,C.Duotone_Dark=L,C.ENCOM=B,C.Earthsong=I,C.Elemental=F,C.Elementary=N,C.Espresso=G,C.Espresso_Libre=J,C.Fideloper=V,C.FirefoxDev=Z,C.Firewatch=R,C.FishTank=q,C.Flat=T,C.Flatland=P,C.Floraverse=O,C.ForestBlue=z,C.FrontEndDelight=K,C.FunForrest=X,C.Galaxy=$,C.Github=Q,C.Glacier=he,C.Grape=Y,C.Grass=ie,C.Gruvbox_Dark=ae,C.Hardcore=fe,C.Harper=ye,C.Highway=xt,C.Hipster_Green=At,C.Homebrew=Ot,C.Hurtado=Tt,C.Hybrid=Dt,C.IC_Green_PPL=Pt,C.IC_Orange_PPL=It,C.IR_Black=Ht,C.Jackie_Brown=Wt,C.Japanesque=Ft,C.Jellybeans=jt,C.JetBrains_Darcula=Ut,C.Kibble=Re,C.Later_This_Evening=xe,C.Lavandula=Ae,C.LiquidCarbon=Oe,C.LiquidCarbonTransparent=Te,C.LiquidCarbonTransparentInverse=De,C.Man_Page=Pe,C.Material=Ie,C.MaterialDark=He,C.Mathias=We,C.Medallion=Fe,C.Misterioso=je,C.Molokai=Ue,C.MonaLisa=qe,C.Monokai_Soda=Ne,C.Monokai_Vivid=Ge,C.N0tch2k=Ye,C.Neopolitan=ze,C.Neutron=Ke,C.NightLion_v1=Ve,C.NightLion_v2=Xe,C.Night_3024=H,C.Novel=Je,C.Obsidian=Ze,C.Ocean=$e,C.OceanicMaterial=Qe,C.Ollie=et,C.OneHalfDark=tt,C.OneHalfLight=rt,C.Pandora=it,C.Paraiso_Dark=nt,C.Parasio_Dark=ot,C.PaulMillr=st,C.PencilDark=at,C.PencilLight=ct,C.Piatto_Light=lt,C.Pnevma=ht,C.Pro=ft,C.Red_Alert=ut,C.Red_Sands=dt,C.Rippedcasts=_t,C.Royal=gt,C.Ryuuko=bt,C.SeaShells=pt,C.Seafoam_Pastel=vt,C.Seti=yt,C.Shaman=mt,C.Slate=Ct,C.Smyck=St,C.SoftServer=wt,C.Solarized_Darcula=kt,C.Solarized_Dark=qt,C.Solarized_Dark_Higher_Contrast=Gt,C.Solarized_Dark_Patched=Nt,C.Solarized_Light=Yt,C.SpaceGray=zt,C.SpaceGray_Eighties=Kt,C.SpaceGray_Eighties_Dull=Vt,C.Spacedust=Xt,C.Spiderman=Jt,C.Spring=Zt,C.Square=$t,C.Sundried=Qt,C.Symfonic=er,C.Teerb=tr,C.Terminal_Basic=rr,C.Thayer_Bright=ir,C.The_Hulk=lr,C.Tomorrow=mr,C.Tomorrow_Night=hr,C.Tomorrow_Night_Blue=fr,C.Tomorrow_Night_Bright=Cr,C.Tomorrow_Night_Eighties=Sr,C.ToyChest=U,C.Treehouse=j,C.Ubuntu=ue,C.UnderTheSea=Se,C.Urple=we,C.Vaughn=te,C.VibrantInk=de,C.Violet_Dark=_e,C.Violet_Light=ke,C.WarmNeon=ne,C.Wez=ge,C.WildCherry=Le,C.Wombat=Ee,C.Wryan=me,C.Zenburn=Ce,C.ayu=ce,C.deep=oe,C.default=be,C.idleToes=ee,Object.defineProperty(C,"__esModule",{value:!0})})})(Qr,Qr.exports);const li=Symbol("store-raw"),Mr=Symbol("store-node"),vn=Symbol("store-name");function hi(k,x){let C=k[sr];if(!C){Object.defineProperty(k,sr,{value:C=new Proxy(k,Cn)});const H=Object.keys(k),D=Object.getOwnPropertyDescriptors(k);for(let i=0,g=H.length;i<g;i++){const a=H[i];if(D[a].get){const h=D[a].get.bind(C);Object.defineProperty(k,a,{get:h})}}}return C}function Br(k){return k!=null&&typeof k=="object"&&(k[sr]||!k.__proto__||k.__proto__===Object.prototype||Array.isArray(k))}function Rr(k,x=new Set){let C,H,D,i;if(C=k!=null&&k[li])return C;if(!Br(k)||x.has(k))return k;if(Array.isArray(k)){Object.isFrozen(k)?k=k.slice(0):x.add(k);for(let g=0,a=k.length;g<a;g++)D=k[g],(H=Rr(D,x))!==D&&(k[g]=H)}else{Object.isFrozen(k)?k=Object.assign({},k):x.add(k);const g=Object.keys(k),a=Object.getOwnPropertyDescriptors(k);for(let h=0,u=g.length;h<u;h++)i=g[h],!a[i].get&&(D=k[i],(H=Rr(D,x))!==D&&(k[i]=H))}return k}function xr(k){let x=k[Mr];return x||Object.defineProperty(k,Mr,{value:x={}}),x}function yn(k,x){const C=Reflect.getOwnPropertyDescriptor(k,x);return!C||C.get||!C.configurable||x===sr||x===Mr||x===vn||(delete C.value,delete C.writable,C.get=()=>k[sr][x]),C}function mn(k){if(ii()){const x=xr(k);(x._||(x._=Ir()))()}return Reflect.ownKeys(k)}function Ir(){const[k,x]=gi(void 0,{equals:!1,internal:!0});return k.$=x,k}const Cn={get(k,x,C){if(x===li)return k;if(x===sr)return C;const H=k[x];if(x===Mr||x==="__proto__")return H;const D=Br(H);if(ii()&&(typeof H!="function"||k.hasOwnProperty(x))){let i,g;D&&(i=xr(H))&&(g=i._||(i._=Ir()),g()),i=xr(k),g=i[x]||(i[x]=Ir()),g()}return D?hi(H):H},set(){return!0},deleteProperty(){return!0},ownKeys:mn,getOwnPropertyDescriptor:yn};function fi(k,x,C){if(k[x]===C)return;const H=Array.isArray(k),D=k.length,i=C===void 0,g=H||i===x in k;i?delete k[x]:k[x]=C;let a=xr(k),h;(h=a[x])&&h.$(),H&&k.length!==D&&(h=a.length)&&h.$(),g&&(h=a._)&&h.$()}function Sn(k,x){const C=Object.keys(x);for(let H=0;H<C.length;H+=1){const D=C[H];fi(k,D,x[D])}}function _r(k,x,C=[]){let H,D=k;if(x.length>1){H=x.shift();const g=typeof H,a=Array.isArray(k);if(Array.isArray(H)){for(let h=0;h<H.length;h++)_r(k,[H[h]].concat(x),C);return}else if(a&&g==="function"){for(let h=0;h<k.length;h++)H(k[h],h)&&_r(k,[h].concat(x),C);return}else if(a&&g==="object"){const{from:h=0,to:u=k.length-1,by:f=1}=H;for(let v=h;v<=u;v+=f)_r(k,[v].concat(x),C);return}else if(x.length>1){_r(k[H],x,[H].concat(C));return}D=k[H],C=[H].concat(C)}let i=x[0];typeof i=="function"&&(i=i(D,C),i===D)||H===void 0&&i==null||(i=Rr(i),H===void 0||Br(D)&&Br(i)&&!Array.isArray(i)?Sn(D,i):fi(k,H,i))}function An(k,x){const C=Rr(k||{}),H=hi(C);function D(...i){ri(()=>_r(C,i))}return[H,D]}export{bn as a,pn as b,An as c,gn as d,Ln as e,ar as f,xn as g,Bi as h,gi as i,wn as j,bi as k,Di as l,En as m,Oi as n,kn as o,Mn as r,Rn as s,Bn as t,Qr as x};
