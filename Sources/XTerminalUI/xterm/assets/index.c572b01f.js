const Ui=function(){const M=document.createElement("link").relList;if(M&&M.supports&&M.supports("modulepreload"))return;for(const T of document.querySelectorAll('link[rel="modulepreload"]'))H(T);new MutationObserver(T=>{for(const o of T)if(o.type==="childList")for(const y of o.addedNodes)y.tagName==="LINK"&&y.rel==="modulepreload"&&H(y)}).observe(document,{childList:!0,subtree:!0});function w(T){const o={};return T.integrity&&(o.integrity=T.integrity),T.referrerpolicy&&(o.referrerPolicy=T.referrerpolicy),T.crossorigin==="use-credentials"?o.credentials="include":T.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function H(T){if(T.ep)return;T.ep=!0;const o=w(T);fetch(T.href,o)}};Ui();const He={};function qi(L){He.context=L}const Ni=(L,M)=>L===M,pr=Symbol("solid-proxy"),Gi=Symbol("solid-track"),ai={equals:Ni};let bi=wi;const Mr={},Ge=1,Pr=2,vi={owned:null,cleanups:null,context:null,owner:null};var me=null;let Ar=null,ue=null,xr=null,Se=null,Ae=null,Jr=0;function zi(L,M){const w=ue,H=me,T=L.length===0,o=T?vi:{owned:null,cleanups:null,context:null,owner:M||H},y=T?L:()=>L(()=>ii(o));me=o,ue=null;try{return ri(y,!0)}finally{ue=w,me=H}}function _r(L,M){M=M?Object.assign({},ai,M):ai;const w={value:L,observers:null,observerSlots:null,pending:Mr,comparator:M.equals||void 0},H=T=>(typeof T=="function"&&(T=T(w.pending!==Mr?w.pending:w.value)),ei(w,T));return[Ki.bind(w),H]}function Yi(L,M,w){const H=ti(L,M,!0,Ge);Or(H)}function je(L,M,w){const H=ti(L,M,!1,Ge);Or(H)}function yi(L,M,w){bi=Xi;const H=ti(L,M,!1,Ge);H.user=!0,Ae?Ae.push(H):Or(H)}function mi(L){if(xr)return L();let M;const w=xr=[];try{M=L()}finally{xr=null}return ri(()=>{for(let H=0;H<w.length;H+=1){const T=w[H];if(T.pending!==Mr){const o=T.pending;T.pending=Mr,ei(T,o)}}},!1),M}function Qr(L){let M,w=ue;return ue=null,M=L(),ue=w,M}function Ir(L){yi(()=>Qr(L))}function Si(L){return me===null||(me.cleanups===null?me.cleanups=[L]:me.cleanups.push(L)),L}function Ci(){return ue}function Ki(){const L=Ar;if(this.sources&&(this.state||L)){const M=Se;Se=null,this.state===Ge||L?Or(this):Hr(this),Se=M}if(ue){const M=this.observers?this.observers.length:0;ue.sources?(ue.sources.push(this),ue.sourceSlots.push(M)):(ue.sources=[this],ue.sourceSlots=[M]),this.observers?(this.observers.push(ue),this.observerSlots.push(ue.sources.length-1)):(this.observers=[ue],this.observerSlots=[ue.sources.length-1])}return this.value}function ei(L,M,w){if(xr)return L.pending===Mr&&xr.push(L),L.pending=M,M;if(L.comparator&&L.comparator(L.value,M))return M;let H=!1;return L.value=M,L.observers&&L.observers.length&&ri(()=>{for(let T=0;T<L.observers.length;T+=1){const o=L.observers[T];H&&Ar.disposed.has(o),(H&&!o.tState||!H&&!o.state)&&(o.pure?Se.push(o):Ae.push(o),o.observers&&ki(o)),H||(o.state=Ge)}if(Se.length>1e6)throw Se=[],new Error},!1),M}function Or(L){if(!L.fn)return;ii(L);const M=me,w=ue,H=Jr;ue=me=L,Vi(L,L.value,H),ue=w,me=M}function Vi(L,M,w){let H;try{H=L.fn(M)}catch(T){Li(T)}(!L.updatedAt||L.updatedAt<=w)&&(L.observers&&L.observers.length?ei(L,H):L.value=H,L.updatedAt=w)}function ti(L,M,w,H=Ge,T){const o={fn:L,state:H,updatedAt:null,owned:null,sources:null,sourceSlots:null,cleanups:null,value:M,owner:me,context:null,pure:w};return me===null||me!==vi&&(me.owned?me.owned.push(o):me.owned=[o]),o}function Rr(L){const M=Ar;if(L.state===0||M)return;if(L.state===Pr||M)return Hr(L);if(L.suspense&&Qr(L.suspense.inFallback))return L.suspense.effects.push(L);const w=[L];for(;(L=L.owner)&&(!L.updatedAt||L.updatedAt<Jr);)(L.state||M)&&w.push(L);for(let H=w.length-1;H>=0;H--)if(L=w[H],L.state===Ge||M)Or(L);else if(L.state===Pr||M){const T=Se;Se=null,Hr(L,w[0]),Se=T}}function ri(L,M){if(Se)return L();let w=!1;M||(Se=[]),Ae?w=!0:Ae=[],Jr++;try{const H=L();return $i(w),H}catch(H){Se||(Ae=null),Li(H)}}function $i(L){Se&&(wi(Se),Se=null),!L&&(Ae.length?mi(()=>{bi(Ae),Ae=null}):Ae=null)}function wi(L){for(let M=0;M<L.length;M++)Rr(L[M])}function Xi(L){let M,w=0;for(M=0;M<L.length;M++){const T=L[M];T.user?L[w++]=T:Rr(T)}He.context&&qi();const H=L.length;for(M=0;M<w;M++)Rr(L[M]);for(M=H;M<L.length;M++)Rr(L[M])}function Hr(L,M){const w=Ar;L.state=0;for(let H=0;H<L.sources.length;H+=1){const T=L.sources[H];T.sources&&(T.state===Ge||w?T!==M&&Rr(T):(T.state===Pr||w)&&Hr(T,M))}}function ki(L){const M=Ar;for(let w=0;w<L.observers.length;w+=1){const H=L.observers[w];(!H.state||M)&&(H.state=Pr,H.pure?Se.push(H):Ae.push(H),H.observers&&ki(H))}}function ii(L){let M;if(L.sources)for(;L.sources.length;){const w=L.sources.pop(),H=L.sourceSlots.pop(),T=w.observers;if(T&&T.length){const o=T.pop(),y=w.observerSlots.pop();H<T.length&&(o.sourceSlots[y]=H,T[H]=o,w.observerSlots[H]=y)}}if(L.owned){for(M=0;M<L.owned.length;M++)ii(L.owned[M]);L.owned=null}if(L.cleanups){for(M=0;M<L.cleanups.length;M++)L.cleanups[M]();L.cleanups=null}L.state=0,L.context=null}function Li(L){throw L}function Wr(L,M){return Qr(()=>L(M||{}))}const Zi=["allowfullscreen","async","autofocus","autoplay","checked","controls","default","disabled","formnovalidate","hidden","indeterminate","ismap","loop","multiple","muted","nomodule","novalidate","open","playsinline","readonly","required","reversed","seamless","selected"],Ji=new Set(["className","value","readOnly","formNoValidate","isMap","noModule","playsInline",...Zi]),Qi=new Set(["innerHTML","textContent","innerText","children"]),en={className:"class",htmlFor:"for"},ci={class:"className",formnovalidate:"formNoValidate",ismap:"isMap",nomodule:"noModule",playsinline:"playsInline",readonly:"readOnly"},tn=new Set(["beforeinput","click","dblclick","contextmenu","focusin","focusout","input","keydown","keyup","mousedown","mousemove","mouseout","mouseover","mouseup","pointerdown","pointermove","pointerout","pointerover","pointerup","touchend","touchmove","touchstart"]),rn={xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace"};function nn(L,M,w){let H=w.length,T=M.length,o=H,y=0,l=0,u=M[T-1].nextSibling,d=null;for(;y<T||l<o;){if(M[y]===w[l]){y++,l++;continue}for(;M[T-1]===w[o-1];)T--,o--;if(T===y){const p=o<H?l?w[l-1].nextSibling:w[o-l]:u;for(;l<o;)L.insertBefore(w[l++],p)}else if(o===l)for(;y<T;)(!d||!d.has(M[y]))&&M[y].remove(),y++;else if(M[y]===w[o-1]&&w[l]===M[T-1]){const p=M[--T].nextSibling;L.insertBefore(w[l++],M[y++].nextSibling),L.insertBefore(w[--o],p),M[T]=w[o]}else{if(!d){d=new Map;let v=l;for(;v<o;)d.set(w[v],v++)}const p=d.get(M[y]);if(p!=null)if(l<p&&p<o){let v=y,g=1,s;for(;++v<T&&v<o&&!((s=d.get(M[v]))==null||s!==p+g);)g++;if(g>p-l){const a=M[y];for(;l<p;)L.insertBefore(w[l++],a)}else L.replaceChild(w[l++],M[y++])}else y++;else M[y++].remove()}}}const li="_$DX_DELEGATE";function on(L,M,w){let H;return zi(T=>{H=T,M===document?L():Ri(M,L(),M.firstChild?null:void 0,w)}),()=>{H(),M.textContent=""}}function ni(L,M,w){const H=document.createElement("template");H.innerHTML=L;let T=H.content.firstChild;return w&&(T=T.firstChild),T}function Ei(L,M=window.document){const w=M[li]||(M[li]=new Set);for(let H=0,T=L.length;H<T;H++){const o=L[H];w.has(o)||(w.add(o),M.addEventListener(o,dn))}}function sn(L,M,w){w==null?L.removeAttribute(M):L.setAttribute(M,w)}function an(L,M,w,H){H==null?L.removeAttributeNS(M,w):L.setAttributeNS(M,w,H)}function xi(L,M){M==null?L.removeAttribute("class"):L.className=M}function cn(L,M,w,H){if(H)Array.isArray(w)?(L[`$$${M}`]=w[0],L[`$$${M}Data`]=w[1]):L[`$$${M}`]=w;else if(Array.isArray(w)){const T=w[0];L.addEventListener(M,w[0]=o=>T.call(L,w[1],o))}else L.addEventListener(M,w)}function Tr(L,M,w={}){const H=Object.keys(M||{}),T=Object.keys(w);let o,y;for(o=0,y=T.length;o<y;o++){const l=T[o];!l||l==="undefined"||M[l]||(hi(L,l,!1),delete w[l])}for(o=0,y=H.length;o<y;o++){const l=H[o],u=!!M[l];!l||l==="undefined"||w[l]===u||!u||(hi(L,l,!0),w[l]=u)}return w}function ln(L,M,w={}){const H=L.style,T=typeof w=="string";if(M==null&&T||typeof M=="string")return H.cssText=M;T&&(H.cssText=void 0,w={}),M||(M={});let o,y;for(y in w)M[y]==null&&H.removeProperty(y),delete w[y];for(y in M)o=M[y],o!==w[y]&&(H.setProperty(y,o),w[y]=o);return w}function hn(L,M,w,H){typeof M=="function"?je(T=>ui(L,M(),T,w,H)):ui(L,M,void 0,w,H)}function Ri(L,M,w,H){if(w!==void 0&&!H&&(H=[]),typeof M!="function")return br(L,M,H,w);je(T=>br(L,M(),T,w),H)}function fn(L,M,w,H,T={},o=!1){M||(M={});for(const y in T)if(!(y in M)){if(y==="children")continue;fi(L,y,null,T[y],w,o)}for(const y in M){if(y==="children"){H||br(L,M.children);continue}const l=M[y];T[y]=fi(L,y,l,T[y],w,o)}}function un(L){return L.toLowerCase().replace(/-([a-z])/g,(M,w)=>w.toUpperCase())}function hi(L,M,w){const H=M.trim().split(/\s+/);for(let T=0,o=H.length;T<o;T++)L.classList.toggle(H[T],w)}function fi(L,M,w,H,T,o){let y,l,u;if(M==="style")return ln(L,w,H);if(M==="classList")return Tr(L,w,H);if(w===H)return H;if(M==="ref")o||w(L);else if(M.slice(0,3)==="on:"){const d=M.slice(3);H&&L.removeEventListener(d,H),w&&L.addEventListener(d,w)}else if(M.slice(0,10)==="oncapture:"){const d=M.slice(10);H&&L.removeEventListener(d,H,!0),w&&L.addEventListener(d,w,!0)}else if(M.slice(0,2)==="on"){const d=M.slice(2).toLowerCase(),p=tn.has(d);if(!p&&H){const v=Array.isArray(H)?H[0]:H;L.removeEventListener(d,v)}(p||w)&&(cn(L,d,w,p),p&&Ei([d]))}else if((u=Qi.has(M))||!T&&(ci[M]||(l=Ji.has(M)))||(y=L.nodeName.includes("-")))M==="class"||M==="className"?xi(L,w):y&&!l&&!u?L[un(M)]=w:L[ci[M]||M]=w;else{const d=T&&M.indexOf(":")>-1&&rn[M.split(":")[0]];d?an(L,d,M,w):sn(L,en[M]||M,w)}return w}function dn(L){const M=`$$${L.type}`;let w=L.composedPath&&L.composedPath()[0]||L.target;for(L.target!==w&&Object.defineProperty(L,"target",{configurable:!0,value:w}),Object.defineProperty(L,"currentTarget",{configurable:!0,get(){return w||document}}),He.registry&&!He.done&&(He.done=!0,document.querySelectorAll("[id^=pl-]").forEach(H=>H.remove()));w!==null;){const H=w[M];if(H&&!w.disabled){const T=w[`${M}Data`];if(T!==void 0?H.call(w,T,L):H.call(w,L),L.cancelBubble)return}w=w.host&&w.host!==w&&w.host instanceof Node?w.host:w.parentNode}}function ui(L,M,w={},H,T){return M||(M={}),!T&&"children"in M&&je(()=>w.children=br(L,M.children,w.children)),M.ref&&M.ref(L),je(()=>fn(L,M,H,!0,w,!0)),w}function br(L,M,w,H,T){for(He.context&&!w&&(w=[...L.childNodes]);typeof w=="function";)w=w();if(M===w)return w;const o=typeof M,y=H!==void 0;if(L=y&&w[0]&&w[0].parentNode||L,o==="string"||o==="number"){if(He.context)return w;if(o==="number"&&(M=M.toString()),y){let l=w[0];l&&l.nodeType===3?l.data=M:l=document.createTextNode(M),w=dr(L,w,H,l)}else w!==""&&typeof w=="string"?w=L.firstChild.data=M:w=L.textContent=M}else if(M==null||o==="boolean"){if(He.context)return w;w=dr(L,w,H)}else{if(o==="function")return je(()=>{let l=M();for(;typeof l=="function";)l=l();w=br(L,l,w,H)}),()=>w;if(Array.isArray(M)){const l=[],u=w&&Array.isArray(w);if(Vr(l,M,w,T))return je(()=>w=br(L,l,w,H,!0)),()=>w;if(He.context){for(let d=0;d<l.length;d++)if(l[d].parentNode)return w=l}if(l.length===0){if(w=dr(L,w,H),y)return w}else u?w.length===0?di(L,l,H):nn(L,w,l):(w&&dr(L),di(L,l));w=l}else if(M instanceof Node){if(He.context&&M.parentNode)return w=y?[M]:M;if(Array.isArray(w)){if(y)return w=dr(L,w,H,M);dr(L,w,null,M)}else w==null||w===""||!L.firstChild?L.appendChild(M):L.replaceChild(M,L.firstChild);w=M}}return w}function Vr(L,M,w,H){let T=!1;for(let o=0,y=M.length;o<y;o++){let l=M[o],u=w&&w[o];if(l instanceof Node)L.push(l);else if(!(l==null||l===!0||l===!1))if(Array.isArray(l))T=Vr(L,l,u)||T;else if(typeof l=="function")if(H){for(;typeof l=="function";)l=l();T=Vr(L,Array.isArray(l)?l:[l],u)||T}else L.push(l),T=!0;else{const d=String(l);u&&u.nodeType===3&&u.data===d?L.push(u):L.push(document.createTextNode(d))}}return T}function di(L,M,w){for(let H=0,T=M.length;H<T;H++)L.insertBefore(M[H],w)}function dr(L,M,w,H){if(w===void 0)return L.textContent="";const T=H||document.createTextNode("");if(M.length){let o=!1;for(let y=M.length-1;y>=0;y--){const l=M[y];if(T!==l){const u=l.parentNode===L;!o&&!y?u?L.replaceChild(T,l):L.insertBefore(T,w):u&&l.remove()}else o=!0}}else L.insertBefore(T,w);return[T]}var _n=typeof global=="object"&&global&&global.Object===Object&&global,gn=_n,pn=typeof self=="object"&&self&&self.Object===Object&&self,bn=gn||pn||Function("return this")(),Mi=bn,vn=Mi.Symbol,Fr=vn,Bi=Object.prototype,yn=Bi.hasOwnProperty,mn=Bi.toString,Lr=Fr?Fr.toStringTag:void 0;function Sn(L){var M=yn.call(L,Lr),w=L[Lr];try{L[Lr]=void 0;var H=!0}catch{}var T=mn.call(L);return H&&(M?L[Lr]=w:delete L[Lr]),T}var Cn=Object.prototype,wn=Cn.toString;function kn(L){return wn.call(L)}var Ln="[object Null]",En="[object Undefined]",_i=Fr?Fr.toStringTag:void 0;function xn(L){return L==null?L===void 0?En:Ln:_i&&_i in Object(L)?Sn(L):kn(L)}function Rn(L){return L!=null&&typeof L=="object"}var Mn="[object Symbol]";function Bn(L){return typeof L=="symbol"||Rn(L)&&xn(L)==Mn}var An=/\s/;function On(L){for(var M=L.length;M--&&An.test(L.charAt(M)););return M}var Dn=/^\s+/;function Tn(L){return L&&L.slice(0,On(L)+1).replace(Dn,"")}function $r(L){var M=typeof L;return L!=null&&(M=="object"||M=="function")}var gi=0/0,Pn=/^[-+]0x[0-9a-f]+$/i,In=/^0b[01]+$/i,Hn=/^0o[0-7]+$/i,Wn=parseInt;function pi(L){if(typeof L=="number")return L;if(Bn(L))return gi;if($r(L)){var M=typeof L.valueOf=="function"?L.valueOf():L;L=$r(M)?M+"":M}if(typeof L!="string")return L===0?L:+L;L=Tn(L);var w=In.test(L);return w||Hn.test(L)?Wn(L.slice(2),w?2:8):Pn.test(L)?gi:+L}var Fn=function(){return Mi.Date.now()},Yr=Fn,jn="Expected a function",Un=Math.max,qn=Math.min;function Nn(L,M,w){var H,T,o,y,l,u,d=0,p=!1,v=!1,g=!0;if(typeof L!="function")throw new TypeError(jn);M=pi(M)||0,$r(w)&&(p=!!w.leading,v="maxWait"in w,o=v?Un(pi(w.maxWait)||0,M):o,g="trailing"in w?!!w.trailing:g);function s(f){var c=H,b=T;return H=T=void 0,d=f,y=L.apply(b,c),y}function a(f){return d=f,l=setTimeout(r,M),p?s(f):y}function _(f){var c=f-u,b=f-d,C=M-c;return v?qn(C,o-b):C}function h(f){var c=f-u,b=f-d;return u===void 0||c>=M||c<0||v&&b>=o}function r(){var f=Yr();if(h(f))return e(f);l=setTimeout(r,_(f))}function e(f){return l=void 0,g&&H?s(f):(H=T=void 0,y)}function t(){l!==void 0&&clearTimeout(l),d=0,H=u=T=l=void 0}function i(){return l===void 0?y:e(Yr())}function n(){var f=Yr(),c=h(f);if(H=arguments,T=this,u=f,c){if(l===void 0)return a(u);if(v)return clearTimeout(l),l=setTimeout(r,M),s(u)}return l===void 0&&(l=setTimeout(r,M)),y}return n.cancel=t,n.flush=i,n}var Gn=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},oi={exports:{}};(function(L,M){(function(w,H){L.exports=H()})(self,function(){return(()=>{var w={4567:function(T,o,y){var l,u=this&&this.__extends||(l=function(r,e){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])},l(r,e)},function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function t(){this.constructor=r}l(r,e),r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)});Object.defineProperty(o,"__esModule",{value:!0}),o.AccessibilityManager=void 0;var d=y(9042),p=y(6114),v=y(9924),g=y(3656),s=y(844),a=y(5596),_=y(9631),h=function(r){function e(t,i){var n=r.call(this)||this;n._terminal=t,n._renderService=i,n._liveRegionLineCount=0,n._charsToConsume=[],n._charsToAnnounce="",n._accessibilityTreeRoot=document.createElement("div"),n._accessibilityTreeRoot.classList.add("xterm-accessibility"),n._accessibilityTreeRoot.tabIndex=0,n._rowContainer=document.createElement("div"),n._rowContainer.setAttribute("role","list"),n._rowContainer.classList.add("xterm-accessibility-tree"),n._rowElements=[];for(var f=0;f<n._terminal.rows;f++)n._rowElements[f]=n._createAccessibilityTreeNode(),n._rowContainer.appendChild(n._rowElements[f]);if(n._topBoundaryFocusListener=function(c){return n._onBoundaryFocus(c,0)},n._bottomBoundaryFocusListener=function(c){return n._onBoundaryFocus(c,1)},n._rowElements[0].addEventListener("focus",n._topBoundaryFocusListener),n._rowElements[n._rowElements.length-1].addEventListener("focus",n._bottomBoundaryFocusListener),n._refreshRowsDimensions(),n._accessibilityTreeRoot.appendChild(n._rowContainer),n._renderRowsDebouncer=new v.TimeBasedDebouncer(n._renderRows.bind(n)),n._refreshRows(),n._liveRegion=document.createElement("div"),n._liveRegion.classList.add("live-region"),n._liveRegion.setAttribute("aria-live","assertive"),n._accessibilityTreeRoot.appendChild(n._liveRegion),!n._terminal.element)throw new Error("Cannot enable accessibility before Terminal.open");return n._terminal.element.insertAdjacentElement("afterbegin",n._accessibilityTreeRoot),n.register(n._renderRowsDebouncer),n.register(n._terminal.onResize(function(c){return n._onResize(c.rows)})),n.register(n._terminal.onRender(function(c){return n._refreshRows(c.start,c.end)})),n.register(n._terminal.onScroll(function(){return n._refreshRows()})),n.register(n._terminal.onA11yChar(function(c){return n._onChar(c)})),n.register(n._terminal.onLineFeed(function(){return n._onChar(`
`)})),n.register(n._terminal.onA11yTab(function(c){return n._onTab(c)})),n.register(n._terminal.onKey(function(c){return n._onKey(c.key)})),n.register(n._terminal.onBlur(function(){return n._clearLiveRegion()})),n.register(n._renderService.onDimensionsChange(function(){return n._refreshRowsDimensions()})),n._screenDprMonitor=new a.ScreenDprMonitor,n.register(n._screenDprMonitor),n._screenDprMonitor.setListener(function(){return n._refreshRowsDimensions()}),n.register((0,g.addDisposableDomListener)(window,"resize",function(){return n._refreshRowsDimensions()})),n}return u(e,r),e.prototype.dispose=function(){r.prototype.dispose.call(this),(0,_.removeElementFromParent)(this._accessibilityTreeRoot),this._rowElements.length=0},e.prototype._onBoundaryFocus=function(t,i){var n=t.target,f=this._rowElements[i===0?1:this._rowElements.length-2];if(n.getAttribute("aria-posinset")!==(i===0?"1":""+this._terminal.buffer.lines.length)&&t.relatedTarget===f){var c,b;if(i===0?(c=n,b=this._rowElements.pop(),this._rowContainer.removeChild(b)):(c=this._rowElements.shift(),b=n,this._rowContainer.removeChild(c)),c.removeEventListener("focus",this._topBoundaryFocusListener),b.removeEventListener("focus",this._bottomBoundaryFocusListener),i===0){var C=this._createAccessibilityTreeNode();this._rowElements.unshift(C),this._rowContainer.insertAdjacentElement("afterbegin",C)}else C=this._createAccessibilityTreeNode(),this._rowElements.push(C),this._rowContainer.appendChild(C);this._rowElements[0].addEventListener("focus",this._topBoundaryFocusListener),this._rowElements[this._rowElements.length-1].addEventListener("focus",this._bottomBoundaryFocusListener),this._terminal.scrollLines(i===0?-1:1),this._rowElements[i===0?1:this._rowElements.length-2].focus(),t.preventDefault(),t.stopImmediatePropagation()}},e.prototype._onResize=function(t){this._rowElements[this._rowElements.length-1].removeEventListener("focus",this._bottomBoundaryFocusListener);for(var i=this._rowContainer.children.length;i<this._terminal.rows;i++)this._rowElements[i]=this._createAccessibilityTreeNode(),this._rowContainer.appendChild(this._rowElements[i]);for(;this._rowElements.length>t;)this._rowContainer.removeChild(this._rowElements.pop());this._rowElements[this._rowElements.length-1].addEventListener("focus",this._bottomBoundaryFocusListener),this._refreshRowsDimensions()},e.prototype._createAccessibilityTreeNode=function(){var t=document.createElement("div");return t.setAttribute("role","listitem"),t.tabIndex=-1,this._refreshRowDimensions(t),t},e.prototype._onTab=function(t){for(var i=0;i<t;i++)this._onChar(" ")},e.prototype._onChar=function(t){var i=this;this._liveRegionLineCount<21&&(this._charsToConsume.length>0?this._charsToConsume.shift()!==t&&(this._charsToAnnounce+=t):this._charsToAnnounce+=t,t===`
`&&(this._liveRegionLineCount++,this._liveRegionLineCount===21&&(this._liveRegion.textContent+=d.tooMuchOutput)),p.isMac&&this._liveRegion.textContent&&this._liveRegion.textContent.length>0&&!this._liveRegion.parentNode&&setTimeout(function(){i._accessibilityTreeRoot.appendChild(i._liveRegion)},0))},e.prototype._clearLiveRegion=function(){this._liveRegion.textContent="",this._liveRegionLineCount=0,p.isMac&&(0,_.removeElementFromParent)(this._liveRegion)},e.prototype._onKey=function(t){this._clearLiveRegion(),this._charsToConsume.push(t)},e.prototype._refreshRows=function(t,i){this._renderRowsDebouncer.refresh(t,i,this._terminal.rows)},e.prototype._renderRows=function(t,i){for(var n=this._terminal.buffer,f=n.lines.length.toString(),c=t;c<=i;c++){var b=n.translateBufferLineToString(n.ydisp+c,!0),C=(n.ydisp+c+1).toString(),m=this._rowElements[c];m&&(b.length===0?m.innerText="\xA0":m.textContent=b,m.setAttribute("aria-posinset",C),m.setAttribute("aria-setsize",f))}this._announceCharacters()},e.prototype._refreshRowsDimensions=function(){if(this._renderService.dimensions.actualCellHeight){this._rowElements.length!==this._terminal.rows&&this._onResize(this._terminal.rows);for(var t=0;t<this._terminal.rows;t++)this._refreshRowDimensions(this._rowElements[t])}},e.prototype._refreshRowDimensions=function(t){t.style.height=this._renderService.dimensions.actualCellHeight+"px"},e.prototype._announceCharacters=function(){this._charsToAnnounce.length!==0&&(this._liveRegion.textContent+=this._charsToAnnounce,this._charsToAnnounce="")},e}(s.Disposable);o.AccessibilityManager=h},3614:(T,o)=>{function y(p){return p.replace(/\r?\n/g,"\r")}function l(p,v){return v?"\x1B[200~"+p+"\x1B[201~":p}function u(p,v,g){p=l(p=y(p),g.decPrivateModes.bracketedPasteMode),g.triggerDataEvent(p,!0),v.value=""}function d(p,v,g){var s=g.getBoundingClientRect(),a=p.clientX-s.left-10,_=p.clientY-s.top-10;v.style.width="20px",v.style.height="20px",v.style.left=a+"px",v.style.top=_+"px",v.style.zIndex="1000",v.focus()}Object.defineProperty(o,"__esModule",{value:!0}),o.rightClickHandler=o.moveTextAreaUnderMouseCursor=o.paste=o.handlePasteEvent=o.copyHandler=o.bracketTextForPaste=o.prepareTextForTerminal=void 0,o.prepareTextForTerminal=y,o.bracketTextForPaste=l,o.copyHandler=function(p,v){p.clipboardData&&p.clipboardData.setData("text/plain",v.selectionText),p.preventDefault()},o.handlePasteEvent=function(p,v,g){p.stopPropagation(),p.clipboardData&&u(p.clipboardData.getData("text/plain"),v,g)},o.paste=u,o.moveTextAreaUnderMouseCursor=d,o.rightClickHandler=function(p,v,g,s,a){d(p,v,g),a&&s.rightClickSelect(p),v.value=s.selectionText,v.select()}},7239:(T,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.ColorContrastCache=void 0;var y=function(){function l(){this._color={},this._rgba={}}return l.prototype.clear=function(){this._color={},this._rgba={}},l.prototype.setCss=function(u,d,p){this._rgba[u]||(this._rgba[u]={}),this._rgba[u][d]=p},l.prototype.getCss=function(u,d){return this._rgba[u]?this._rgba[u][d]:void 0},l.prototype.setColor=function(u,d,p){this._color[u]||(this._color[u]={}),this._color[u][d]=p},l.prototype.getColor=function(u,d){return this._color[u]?this._color[u][d]:void 0},l}();o.ColorContrastCache=y},5680:function(T,o,y){var l=this&&this.__read||function(h,r){var e=typeof Symbol=="function"&&h[Symbol.iterator];if(!e)return h;var t,i,n=e.call(h),f=[];try{for(;(r===void 0||r-- >0)&&!(t=n.next()).done;)f.push(t.value)}catch(c){i={error:c}}finally{try{t&&!t.done&&(e=n.return)&&e.call(n)}finally{if(i)throw i.error}}return f};Object.defineProperty(o,"__esModule",{value:!0}),o.ColorManager=o.DEFAULT_ANSI_COLORS=void 0;var u=y(8055),d=y(7239),p=u.css.toColor("#ffffff"),v=u.css.toColor("#000000"),g=u.css.toColor("#ffffff"),s=u.css.toColor("#000000"),a={css:"rgba(255, 255, 255, 0.3)",rgba:4294967117};o.DEFAULT_ANSI_COLORS=Object.freeze(function(){for(var h=[u.css.toColor("#2e3436"),u.css.toColor("#cc0000"),u.css.toColor("#4e9a06"),u.css.toColor("#c4a000"),u.css.toColor("#3465a4"),u.css.toColor("#75507b"),u.css.toColor("#06989a"),u.css.toColor("#d3d7cf"),u.css.toColor("#555753"),u.css.toColor("#ef2929"),u.css.toColor("#8ae234"),u.css.toColor("#fce94f"),u.css.toColor("#729fcf"),u.css.toColor("#ad7fa8"),u.css.toColor("#34e2e2"),u.css.toColor("#eeeeec")],r=[0,95,135,175,215,255],e=0;e<216;e++){var t=r[e/36%6|0],i=r[e/6%6|0],n=r[e%6];h.push({css:u.channels.toCss(t,i,n),rgba:u.channels.toRgba(t,i,n)})}for(e=0;e<24;e++){var f=8+10*e;h.push({css:u.channels.toCss(f,f,f),rgba:u.channels.toRgba(f,f,f)})}return h}());var _=function(){function h(r,e){this.allowTransparency=e;var t=r.createElement("canvas");t.width=1,t.height=1;var i=t.getContext("2d");if(!i)throw new Error("Could not get rendering context");this._ctx=i,this._ctx.globalCompositeOperation="copy",this._litmusColor=this._ctx.createLinearGradient(0,0,1,1),this._contrastCache=new d.ColorContrastCache,this.colors={foreground:p,background:v,cursor:g,cursorAccent:s,selectionTransparent:a,selectionOpaque:u.color.blend(v,a),selectionForeground:void 0,ansi:o.DEFAULT_ANSI_COLORS.slice(),contrastCache:this._contrastCache},this._updateRestoreColors()}return h.prototype.onOptionsChange=function(r){r==="minimumContrastRatio"&&this._contrastCache.clear()},h.prototype.setTheme=function(r){r===void 0&&(r={}),this.colors.foreground=this._parseColor(r.foreground,p),this.colors.background=this._parseColor(r.background,v),this.colors.cursor=this._parseColor(r.cursor,g,!0),this.colors.cursorAccent=this._parseColor(r.cursorAccent,s,!0),this.colors.selectionTransparent=this._parseColor(r.selection,a,!0),this.colors.selectionOpaque=u.color.blend(this.colors.background,this.colors.selectionTransparent);var e={css:"",rgba:0};this.colors.selectionForeground=r.selectionForeground?this._parseColor(r.selectionForeground,e):void 0,this.colors.selectionForeground===e&&(this.colors.selectionForeground=void 0),u.color.isOpaque(this.colors.selectionTransparent)&&(this.colors.selectionTransparent=u.color.opacity(this.colors.selectionTransparent,.3)),this.colors.ansi[0]=this._parseColor(r.black,o.DEFAULT_ANSI_COLORS[0]),this.colors.ansi[1]=this._parseColor(r.red,o.DEFAULT_ANSI_COLORS[1]),this.colors.ansi[2]=this._parseColor(r.green,o.DEFAULT_ANSI_COLORS[2]),this.colors.ansi[3]=this._parseColor(r.yellow,o.DEFAULT_ANSI_COLORS[3]),this.colors.ansi[4]=this._parseColor(r.blue,o.DEFAULT_ANSI_COLORS[4]),this.colors.ansi[5]=this._parseColor(r.magenta,o.DEFAULT_ANSI_COLORS[5]),this.colors.ansi[6]=this._parseColor(r.cyan,o.DEFAULT_ANSI_COLORS[6]),this.colors.ansi[7]=this._parseColor(r.white,o.DEFAULT_ANSI_COLORS[7]),this.colors.ansi[8]=this._parseColor(r.brightBlack,o.DEFAULT_ANSI_COLORS[8]),this.colors.ansi[9]=this._parseColor(r.brightRed,o.DEFAULT_ANSI_COLORS[9]),this.colors.ansi[10]=this._parseColor(r.brightGreen,o.DEFAULT_ANSI_COLORS[10]),this.colors.ansi[11]=this._parseColor(r.brightYellow,o.DEFAULT_ANSI_COLORS[11]),this.colors.ansi[12]=this._parseColor(r.brightBlue,o.DEFAULT_ANSI_COLORS[12]),this.colors.ansi[13]=this._parseColor(r.brightMagenta,o.DEFAULT_ANSI_COLORS[13]),this.colors.ansi[14]=this._parseColor(r.brightCyan,o.DEFAULT_ANSI_COLORS[14]),this.colors.ansi[15]=this._parseColor(r.brightWhite,o.DEFAULT_ANSI_COLORS[15]),this._contrastCache.clear(),this._updateRestoreColors()},h.prototype.restoreColor=function(r){if(r!==void 0)switch(r){case 256:this.colors.foreground=this._restoreColors.foreground;break;case 257:this.colors.background=this._restoreColors.background;break;case 258:this.colors.cursor=this._restoreColors.cursor;break;default:this.colors.ansi[r]=this._restoreColors.ansi[r]}else for(var e=0;e<this._restoreColors.ansi.length;++e)this.colors.ansi[e]=this._restoreColors.ansi[e]},h.prototype._updateRestoreColors=function(){this._restoreColors={foreground:this.colors.foreground,background:this.colors.background,cursor:this.colors.cursor,ansi:this.colors.ansi.slice()}},h.prototype._parseColor=function(r,e,t){if(t===void 0&&(t=this.allowTransparency),r===void 0)return e;if(this._ctx.fillStyle=this._litmusColor,this._ctx.fillStyle=r,typeof this._ctx.fillStyle!="string")return console.warn("Color: "+r+" is invalid using fallback "+e.css),e;this._ctx.fillRect(0,0,1,1);var i=this._ctx.getImageData(0,0,1,1).data;if(i[3]!==255){if(!t)return console.warn("Color: "+r+" is using transparency, but allowTransparency is false. Using fallback "+e.css+"."),e;var n=l(this._ctx.fillStyle.substring(5,this._ctx.fillStyle.length-1).split(",").map(function(S){return Number(S)}),4),f=n[0],c=n[1],b=n[2],C=n[3],m=Math.round(255*C);return{rgba:u.channels.toRgba(f,c,b,m),css:r}}return{css:this._ctx.fillStyle,rgba:u.channels.toRgba(i[0],i[1],i[2],i[3])}},h}();o.ColorManager=_},9631:function(T,o){var y=this&&this.__values||function(l){var u=typeof Symbol=="function"&&Symbol.iterator,d=u&&l[u],p=0;if(d)return d.call(l);if(l&&typeof l.length=="number")return{next:function(){return l&&p>=l.length&&(l=void 0),{value:l&&l[p++],done:!l}}};throw new TypeError(u?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(o,"__esModule",{value:!0}),o.removeElementFromParent=void 0,o.removeElementFromParent=function(){for(var l,u,d,p=[],v=0;v<arguments.length;v++)p[v]=arguments[v];try{for(var g=y(p),s=g.next();!s.done;s=g.next()){var a=s.value;(d=a?.parentElement)===null||d===void 0||d.removeChild(a)}}catch(_){l={error:_}}finally{try{s&&!s.done&&(u=g.return)&&u.call(g)}finally{if(l)throw l.error}}}},3656:(T,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.addDisposableDomListener=void 0,o.addDisposableDomListener=function(y,l,u,d){y.addEventListener(l,u,d);var p=!1;return{dispose:function(){p||(p=!0,y.removeEventListener(l,u,d))}}}},3551:function(T,o,y){var l=this&&this.__decorate||function(s,a,_,h){var r,e=arguments.length,t=e<3?a:h===null?h=Object.getOwnPropertyDescriptor(a,_):h;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")t=Reflect.decorate(s,a,_,h);else for(var i=s.length-1;i>=0;i--)(r=s[i])&&(t=(e<3?r(t):e>3?r(a,_,t):r(a,_))||t);return e>3&&t&&Object.defineProperty(a,_,t),t},u=this&&this.__param||function(s,a){return function(_,h){a(_,h,s)}};Object.defineProperty(o,"__esModule",{value:!0}),o.MouseZone=o.Linkifier=void 0;var d=y(8460),p=y(2585),v=function(){function s(a,_,h){this._bufferService=a,this._logService=_,this._unicodeService=h,this._linkMatchers=[],this._nextLinkMatcherId=0,this._onShowLinkUnderline=new d.EventEmitter,this._onHideLinkUnderline=new d.EventEmitter,this._onLinkTooltip=new d.EventEmitter,this._rowsToLinkify={start:void 0,end:void 0}}return Object.defineProperty(s.prototype,"onShowLinkUnderline",{get:function(){return this._onShowLinkUnderline.event},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"onHideLinkUnderline",{get:function(){return this._onHideLinkUnderline.event},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"onLinkTooltip",{get:function(){return this._onLinkTooltip.event},enumerable:!1,configurable:!0}),s.prototype.attachToDom=function(a,_){this._element=a,this._mouseZoneManager=_},s.prototype.linkifyRows=function(a,_){var h=this;this._mouseZoneManager&&(this._rowsToLinkify.start===void 0||this._rowsToLinkify.end===void 0?(this._rowsToLinkify.start=a,this._rowsToLinkify.end=_):(this._rowsToLinkify.start=Math.min(this._rowsToLinkify.start,a),this._rowsToLinkify.end=Math.max(this._rowsToLinkify.end,_)),this._mouseZoneManager.clearAll(a,_),this._rowsTimeoutId&&clearTimeout(this._rowsTimeoutId),this._rowsTimeoutId=setTimeout(function(){return h._linkifyRows()},s._timeBeforeLatency))},s.prototype._linkifyRows=function(){this._rowsTimeoutId=void 0;var a=this._bufferService.buffer;if(this._rowsToLinkify.start!==void 0&&this._rowsToLinkify.end!==void 0){var _=a.ydisp+this._rowsToLinkify.start;if(!(_>=a.lines.length)){for(var h=a.ydisp+Math.min(this._rowsToLinkify.end,this._bufferService.rows)+1,r=Math.ceil(2e3/this._bufferService.cols),e=this._bufferService.buffer.iterator(!1,_,h,r,r);e.hasNext();)for(var t=e.next(),i=0;i<this._linkMatchers.length;i++)this._doLinkifyRow(t.range.first,t.content,this._linkMatchers[i]);this._rowsToLinkify.start=void 0,this._rowsToLinkify.end=void 0}}else this._logService.debug("_rowToLinkify was unset before _linkifyRows was called")},s.prototype.registerLinkMatcher=function(a,_,h){if(h===void 0&&(h={}),!_)throw new Error("handler must be defined");var r={id:this._nextLinkMatcherId++,regex:a,handler:_,matchIndex:h.matchIndex,validationCallback:h.validationCallback,hoverTooltipCallback:h.tooltipCallback,hoverLeaveCallback:h.leaveCallback,willLinkActivate:h.willLinkActivate,priority:h.priority||0};return this._addLinkMatcherToList(r),r.id},s.prototype._addLinkMatcherToList=function(a){if(this._linkMatchers.length!==0){for(var _=this._linkMatchers.length-1;_>=0;_--)if(a.priority<=this._linkMatchers[_].priority)return void this._linkMatchers.splice(_+1,0,a);this._linkMatchers.splice(0,0,a)}else this._linkMatchers.push(a)},s.prototype.deregisterLinkMatcher=function(a){for(var _=0;_<this._linkMatchers.length;_++)if(this._linkMatchers[_].id===a)return this._linkMatchers.splice(_,1),!0;return!1},s.prototype._doLinkifyRow=function(a,_,h){for(var r,e=this,t=new RegExp(h.regex.source,(h.regex.flags||"")+"g"),i=-1,n=function(){var c=r[typeof h.matchIndex!="number"?0:h.matchIndex];if(!c)return f._logService.debug("match found without corresponding matchIndex",r,h),"break";if(i=_.indexOf(c,i+1),t.lastIndex=i+c.length,i<0)return"break";var b=f._bufferService.buffer.stringIndexToBufferIndex(a,i);if(b[0]<0)return"break";var C=f._bufferService.buffer.lines.get(b[0]);if(!C)return"break";var m=C.getFg(b[1]),S=m?m>>9&511:void 0;h.validationCallback?h.validationCallback(c,function(k){e._rowsTimeoutId||k&&e._addLink(b[1],b[0]-e._bufferService.buffer.ydisp,c,h,S)}):f._addLink(b[1],b[0]-f._bufferService.buffer.ydisp,c,h,S)},f=this;(r=t.exec(_))!==null&&n()!=="break";);},s.prototype._addLink=function(a,_,h,r,e){var t=this;if(this._mouseZoneManager&&this._element){var i=this._unicodeService.getStringCellWidth(h),n=a%this._bufferService.cols,f=_+Math.floor(a/this._bufferService.cols),c=(n+i)%this._bufferService.cols,b=f+Math.floor((n+i)/this._bufferService.cols);c===0&&(c=this._bufferService.cols,b--),this._mouseZoneManager.add(new g(n+1,f+1,c+1,b+1,function(C){if(r.handler)return r.handler(C,h);var m=window.open();m?(m.opener=null,m.location.href=h):console.warn("Opening link blocked as opener could not be cleared")},function(){t._onShowLinkUnderline.fire(t._createLinkHoverEvent(n,f,c,b,e)),t._element.classList.add("xterm-cursor-pointer")},function(C){t._onLinkTooltip.fire(t._createLinkHoverEvent(n,f,c,b,e)),r.hoverTooltipCallback&&r.hoverTooltipCallback(C,h,{start:{x:n,y:f},end:{x:c,y:b}})},function(){t._onHideLinkUnderline.fire(t._createLinkHoverEvent(n,f,c,b,e)),t._element.classList.remove("xterm-cursor-pointer"),r.hoverLeaveCallback&&r.hoverLeaveCallback()},function(C){return!r.willLinkActivate||r.willLinkActivate(C,h)}))}},s.prototype._createLinkHoverEvent=function(a,_,h,r,e){return{x1:a,y1:_,x2:h,y2:r,cols:this._bufferService.cols,fg:e}},s._timeBeforeLatency=200,s=l([u(0,p.IBufferService),u(1,p.ILogService),u(2,p.IUnicodeService)],s)}();o.Linkifier=v;var g=function(s,a,_,h,r,e,t,i,n){this.x1=s,this.y1=a,this.x2=_,this.y2=h,this.clickCallback=r,this.hoverCallback=e,this.tooltipCallback=t,this.leaveCallback=i,this.willLinkActivate=n};o.MouseZone=g},6465:function(T,o,y){var l,u=this&&this.__extends||(l=function(e,t){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var f in n)Object.prototype.hasOwnProperty.call(n,f)&&(i[f]=n[f])},l(e,t)},function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function i(){this.constructor=e}l(e,t),e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}),d=this&&this.__decorate||function(e,t,i,n){var f,c=arguments.length,b=c<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,i):n;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")b=Reflect.decorate(e,t,i,n);else for(var C=e.length-1;C>=0;C--)(f=e[C])&&(b=(c<3?f(b):c>3?f(t,i,b):f(t,i))||b);return c>3&&b&&Object.defineProperty(t,i,b),b},p=this&&this.__param||function(e,t){return function(i,n){t(i,n,e)}},v=this&&this.__values||function(e){var t=typeof Symbol=="function"&&Symbol.iterator,i=t&&e[t],n=0;if(i)return i.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},g=this&&this.__read||function(e,t){var i=typeof Symbol=="function"&&e[Symbol.iterator];if(!i)return e;var n,f,c=i.call(e),b=[];try{for(;(t===void 0||t-- >0)&&!(n=c.next()).done;)b.push(n.value)}catch(C){f={error:C}}finally{try{n&&!n.done&&(i=c.return)&&i.call(c)}finally{if(f)throw f.error}}return b};Object.defineProperty(o,"__esModule",{value:!0}),o.Linkifier2=void 0;var s=y(2585),a=y(8460),_=y(844),h=y(3656),r=function(e){function t(i){var n=e.call(this)||this;return n._bufferService=i,n._linkProviders=[],n._linkCacheDisposables=[],n._isMouseOut=!0,n._activeLine=-1,n._onShowLinkUnderline=n.register(new a.EventEmitter),n._onHideLinkUnderline=n.register(new a.EventEmitter),n.register((0,_.getDisposeArrayDisposable)(n._linkCacheDisposables)),n}return u(t,e),Object.defineProperty(t.prototype,"currentLink",{get:function(){return this._currentLink},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"onShowLinkUnderline",{get:function(){return this._onShowLinkUnderline.event},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"onHideLinkUnderline",{get:function(){return this._onHideLinkUnderline.event},enumerable:!1,configurable:!0}),t.prototype.registerLinkProvider=function(i){var n=this;return this._linkProviders.push(i),{dispose:function(){var f=n._linkProviders.indexOf(i);f!==-1&&n._linkProviders.splice(f,1)}}},t.prototype.attachToDom=function(i,n,f){var c=this;this._element=i,this._mouseService=n,this._renderService=f,this.register((0,h.addDisposableDomListener)(this._element,"mouseleave",function(){c._isMouseOut=!0,c._clearCurrentLink()})),this.register((0,h.addDisposableDomListener)(this._element,"mousemove",this._onMouseMove.bind(this))),this.register((0,h.addDisposableDomListener)(this._element,"mousedown",this._handleMouseDown.bind(this))),this.register((0,h.addDisposableDomListener)(this._element,"mouseup",this._handleMouseUp.bind(this)))},t.prototype._onMouseMove=function(i){if(this._lastMouseEvent=i,this._element&&this._mouseService){var n=this._positionFromMouseEvent(i,this._element,this._mouseService);if(n){this._isMouseOut=!1;for(var f=i.composedPath(),c=0;c<f.length;c++){var b=f[c];if(b.classList.contains("xterm"))break;if(b.classList.contains("xterm-hover"))return}this._lastBufferCell&&n.x===this._lastBufferCell.x&&n.y===this._lastBufferCell.y||(this._onHover(n),this._lastBufferCell=n)}}},t.prototype._onHover=function(i){if(this._activeLine!==i.y)return this._clearCurrentLink(),void this._askForLink(i,!1);this._currentLink&&this._linkAtPosition(this._currentLink.link,i)||(this._clearCurrentLink(),this._askForLink(i,!0))},t.prototype._askForLink=function(i,n){var f,c,b,C,m=this;this._activeProviderReplies&&n||((b=this._activeProviderReplies)===null||b===void 0||b.forEach(function(x){x?.forEach(function(D){D.link.dispose&&D.link.dispose()})}),this._activeProviderReplies=new Map,this._activeLine=i.y);var S=!1,k=function(x,D){n?!((C=A._activeProviderReplies)===null||C===void 0)&&C.get(x)&&(S=A._checkLinkProviderResult(x,i,S)):D.provideLinks(i.y,function(W){var z,Y;if(!m._isMouseOut){var N=W?.map(function(V){return{link:V}});(z=m._activeProviderReplies)===null||z===void 0||z.set(x,N),S=m._checkLinkProviderResult(x,i,S),((Y=m._activeProviderReplies)===null||Y===void 0?void 0:Y.size)===m._linkProviders.length&&m._removeIntersectingLinks(i.y,m._activeProviderReplies)}})},A=this;try{for(var E=v(this._linkProviders.entries()),B=E.next();!B.done;B=E.next()){var R=g(B.value,2);k(R[0],R[1])}}catch(x){f={error:x}}finally{try{B&&!B.done&&(c=E.return)&&c.call(E)}finally{if(f)throw f.error}}},t.prototype._removeIntersectingLinks=function(i,n){for(var f=new Set,c=0;c<n.size;c++){var b=n.get(c);if(b)for(var C=0;C<b.length;C++)for(var m=b[C],S=m.link.range.start.y<i?0:m.link.range.start.x,k=m.link.range.end.y>i?this._bufferService.cols:m.link.range.end.x,A=S;A<=k;A++){if(f.has(A)){b.splice(C--,1);break}f.add(A)}}},t.prototype._checkLinkProviderResult=function(i,n,f){var c,b=this;if(!this._activeProviderReplies)return f;for(var C=this._activeProviderReplies.get(i),m=!1,S=0;S<i;S++)this._activeProviderReplies.has(S)&&!this._activeProviderReplies.get(S)||(m=!0);if(!m&&C){var k=C.find(function(E){return b._linkAtPosition(E.link,n)});k&&(f=!0,this._handleNewLink(k))}if(this._activeProviderReplies.size===this._linkProviders.length&&!f)for(S=0;S<this._activeProviderReplies.size;S++){var A=(c=this._activeProviderReplies.get(S))===null||c===void 0?void 0:c.find(function(E){return b._linkAtPosition(E.link,n)});if(A){f=!0,this._handleNewLink(A);break}}return f},t.prototype._handleMouseDown=function(){this._mouseDownLink=this._currentLink},t.prototype._handleMouseUp=function(i){if(this._element&&this._mouseService&&this._currentLink){var n=this._positionFromMouseEvent(i,this._element,this._mouseService);n&&this._mouseDownLink===this._currentLink&&this._linkAtPosition(this._currentLink.link,n)&&this._currentLink.link.activate(i,this._currentLink.link.text)}},t.prototype._clearCurrentLink=function(i,n){this._element&&this._currentLink&&this._lastMouseEvent&&(!i||!n||this._currentLink.link.range.start.y>=i&&this._currentLink.link.range.end.y<=n)&&(this._linkLeave(this._element,this._currentLink.link,this._lastMouseEvent),this._currentLink=void 0,(0,_.disposeArray)(this._linkCacheDisposables))},t.prototype._handleNewLink=function(i){var n=this;if(this._element&&this._lastMouseEvent&&this._mouseService){var f=this._positionFromMouseEvent(this._lastMouseEvent,this._element,this._mouseService);f&&this._linkAtPosition(i.link,f)&&(this._currentLink=i,this._currentLink.state={decorations:{underline:i.link.decorations===void 0||i.link.decorations.underline,pointerCursor:i.link.decorations===void 0||i.link.decorations.pointerCursor},isHovered:!0},this._linkHover(this._element,i.link,this._lastMouseEvent),i.link.decorations={},Object.defineProperties(i.link.decorations,{pointerCursor:{get:function(){var c,b;return(b=(c=n._currentLink)===null||c===void 0?void 0:c.state)===null||b===void 0?void 0:b.decorations.pointerCursor},set:function(c){var b,C;((b=n._currentLink)===null||b===void 0?void 0:b.state)&&n._currentLink.state.decorations.pointerCursor!==c&&(n._currentLink.state.decorations.pointerCursor=c,n._currentLink.state.isHovered&&((C=n._element)===null||C===void 0||C.classList.toggle("xterm-cursor-pointer",c)))}},underline:{get:function(){var c,b;return(b=(c=n._currentLink)===null||c===void 0?void 0:c.state)===null||b===void 0?void 0:b.decorations.underline},set:function(c){var b,C,m;((b=n._currentLink)===null||b===void 0?void 0:b.state)&&((m=(C=n._currentLink)===null||C===void 0?void 0:C.state)===null||m===void 0?void 0:m.decorations.underline)!==c&&(n._currentLink.state.decorations.underline=c,n._currentLink.state.isHovered&&n._fireUnderlineEvent(i.link,c))}}}),this._renderService&&this._linkCacheDisposables.push(this._renderService.onRenderedViewportChange(function(c){var b=c.start===0?0:c.start+1+n._bufferService.buffer.ydisp;n._clearCurrentLink(b,c.end+1+n._bufferService.buffer.ydisp)})))}},t.prototype._linkHover=function(i,n,f){var c;!((c=this._currentLink)===null||c===void 0)&&c.state&&(this._currentLink.state.isHovered=!0,this._currentLink.state.decorations.underline&&this._fireUnderlineEvent(n,!0),this._currentLink.state.decorations.pointerCursor&&i.classList.add("xterm-cursor-pointer")),n.hover&&n.hover(f,n.text)},t.prototype._fireUnderlineEvent=function(i,n){var f=i.range,c=this._bufferService.buffer.ydisp,b=this._createLinkUnderlineEvent(f.start.x-1,f.start.y-c-1,f.end.x,f.end.y-c-1,void 0);(n?this._onShowLinkUnderline:this._onHideLinkUnderline).fire(b)},t.prototype._linkLeave=function(i,n,f){var c;!((c=this._currentLink)===null||c===void 0)&&c.state&&(this._currentLink.state.isHovered=!1,this._currentLink.state.decorations.underline&&this._fireUnderlineEvent(n,!1),this._currentLink.state.decorations.pointerCursor&&i.classList.remove("xterm-cursor-pointer")),n.leave&&n.leave(f,n.text)},t.prototype._linkAtPosition=function(i,n){var f=i.range.start.y===i.range.end.y,c=i.range.start.y<n.y,b=i.range.end.y>n.y;return(f&&i.range.start.x<=n.x&&i.range.end.x>=n.x||c&&i.range.end.x>=n.x||b&&i.range.start.x<=n.x||c&&b)&&i.range.start.y<=n.y&&i.range.end.y>=n.y},t.prototype._positionFromMouseEvent=function(i,n,f){var c=f.getCoords(i,n,this._bufferService.cols,this._bufferService.rows);if(c)return{x:c[0],y:c[1]+this._bufferService.buffer.ydisp}},t.prototype._createLinkUnderlineEvent=function(i,n,f,c,b){return{x1:i,y1:n,x2:f,y2:c,cols:this._bufferService.cols,fg:b}},d([p(0,s.IBufferService)],t)}(_.Disposable);o.Linkifier2=r},9042:(T,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.tooMuchOutput=o.promptLabel=void 0,o.promptLabel="Terminal input",o.tooMuchOutput="Too much output to announce, navigate to rows manually to read"},6954:function(T,o,y){var l,u=this&&this.__extends||(l=function(h,r){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])},l(h,r)},function(h,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function e(){this.constructor=h}l(h,r),h.prototype=r===null?Object.create(r):(e.prototype=r.prototype,new e)}),d=this&&this.__decorate||function(h,r,e,t){var i,n=arguments.length,f=n<3?r:t===null?t=Object.getOwnPropertyDescriptor(r,e):t;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")f=Reflect.decorate(h,r,e,t);else for(var c=h.length-1;c>=0;c--)(i=h[c])&&(f=(n<3?i(f):n>3?i(r,e,f):i(r,e))||f);return n>3&&f&&Object.defineProperty(r,e,f),f},p=this&&this.__param||function(h,r){return function(e,t){r(e,t,h)}};Object.defineProperty(o,"__esModule",{value:!0}),o.MouseZoneManager=void 0;var v=y(844),g=y(3656),s=y(4725),a=y(2585),_=function(h){function r(e,t,i,n,f,c){var b=h.call(this)||this;return b._element=e,b._screenElement=t,b._bufferService=i,b._mouseService=n,b._selectionService=f,b._optionsService=c,b._zones=[],b._areZonesActive=!1,b._lastHoverCoords=[void 0,void 0],b._initialSelectionLength=0,b.register((0,g.addDisposableDomListener)(b._element,"mousedown",function(C){return b._onMouseDown(C)})),b._mouseMoveListener=function(C){return b._onMouseMove(C)},b._mouseLeaveListener=function(C){return b._onMouseLeave(C)},b._clickListener=function(C){return b._onClick(C)},b}return u(r,h),r.prototype.dispose=function(){h.prototype.dispose.call(this),this._deactivate()},r.prototype.add=function(e){this._zones.push(e),this._zones.length===1&&this._activate()},r.prototype.clearAll=function(e,t){if(this._zones.length!==0){e&&t||(e=0,t=this._bufferService.rows-1);for(var i=0;i<this._zones.length;i++){var n=this._zones[i];(n.y1>e&&n.y1<=t+1||n.y2>e&&n.y2<=t+1||n.y1<e&&n.y2>t+1)&&(this._currentZone&&this._currentZone===n&&(this._currentZone.leaveCallback(),this._currentZone=void 0),this._zones.splice(i--,1))}this._zones.length===0&&this._deactivate()}},r.prototype._activate=function(){this._areZonesActive||(this._areZonesActive=!0,this._element.addEventListener("mousemove",this._mouseMoveListener),this._element.addEventListener("mouseleave",this._mouseLeaveListener),this._element.addEventListener("click",this._clickListener))},r.prototype._deactivate=function(){this._areZonesActive&&(this._areZonesActive=!1,this._element.removeEventListener("mousemove",this._mouseMoveListener),this._element.removeEventListener("mouseleave",this._mouseLeaveListener),this._element.removeEventListener("click",this._clickListener))},r.prototype._onMouseMove=function(e){this._lastHoverCoords[0]===e.pageX&&this._lastHoverCoords[1]===e.pageY||(this._onHover(e),this._lastHoverCoords=[e.pageX,e.pageY])},r.prototype._onHover=function(e){var t=this,i=this._findZoneEventAt(e);i!==this._currentZone&&(this._currentZone&&(this._currentZone.leaveCallback(),this._currentZone=void 0,this._tooltipTimeout&&clearTimeout(this._tooltipTimeout)),i&&(this._currentZone=i,i.hoverCallback&&i.hoverCallback(e),this._tooltipTimeout=window.setTimeout(function(){return t._onTooltip(e)},this._optionsService.rawOptions.linkTooltipHoverDuration)))},r.prototype._onTooltip=function(e){this._tooltipTimeout=void 0;var t=this._findZoneEventAt(e);t?.tooltipCallback(e)},r.prototype._onMouseDown=function(e){if(this._initialSelectionLength=this._getSelectionLength(),this._areZonesActive){var t=this._findZoneEventAt(e);t?.willLinkActivate(e)&&(e.preventDefault(),e.stopImmediatePropagation())}},r.prototype._onMouseLeave=function(e){this._currentZone&&(this._currentZone.leaveCallback(),this._currentZone=void 0,this._tooltipTimeout&&clearTimeout(this._tooltipTimeout))},r.prototype._onClick=function(e){var t=this._findZoneEventAt(e),i=this._getSelectionLength();t&&i===this._initialSelectionLength&&(t.clickCallback(e),e.preventDefault(),e.stopImmediatePropagation())},r.prototype._getSelectionLength=function(){var e=this._selectionService.selectionText;return e?e.length:0},r.prototype._findZoneEventAt=function(e){var t=this._mouseService.getCoords(e,this._screenElement,this._bufferService.cols,this._bufferService.rows);if(t)for(var i=t[0],n=t[1],f=0;f<this._zones.length;f++){var c=this._zones[f];if(c.y1===c.y2){if(n===c.y1&&i>=c.x1&&i<c.x2)return c}else if(n===c.y1&&i>=c.x1||n===c.y2&&i<c.x2||n>c.y1&&n<c.y2)return c}},d([p(2,a.IBufferService),p(3,s.IMouseService),p(4,s.ISelectionService),p(5,a.IOptionsService)],r)}(v.Disposable);o.MouseZoneManager=_},6193:function(T,o){var y=this&&this.__values||function(u){var d=typeof Symbol=="function"&&Symbol.iterator,p=d&&u[d],v=0;if(p)return p.call(u);if(u&&typeof u.length=="number")return{next:function(){return u&&v>=u.length&&(u=void 0),{value:u&&u[v++],done:!u}}};throw new TypeError(d?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(o,"__esModule",{value:!0}),o.RenderDebouncer=void 0;var l=function(){function u(d){this._renderCallback=d,this._refreshCallbacks=[]}return u.prototype.dispose=function(){this._animationFrame&&(window.cancelAnimationFrame(this._animationFrame),this._animationFrame=void 0)},u.prototype.addRefreshCallback=function(d){var p=this;return this._refreshCallbacks.push(d),this._animationFrame||(this._animationFrame=window.requestAnimationFrame(function(){return p._innerRefresh()})),this._animationFrame},u.prototype.refresh=function(d,p,v){var g=this;this._rowCount=v,d=d!==void 0?d:0,p=p!==void 0?p:this._rowCount-1,this._rowStart=this._rowStart!==void 0?Math.min(this._rowStart,d):d,this._rowEnd=this._rowEnd!==void 0?Math.max(this._rowEnd,p):p,this._animationFrame||(this._animationFrame=window.requestAnimationFrame(function(){return g._innerRefresh()}))},u.prototype._innerRefresh=function(){if(this._animationFrame=void 0,this._rowStart!==void 0&&this._rowEnd!==void 0&&this._rowCount!==void 0){var d=Math.max(this._rowStart,0),p=Math.min(this._rowEnd,this._rowCount-1);this._rowStart=void 0,this._rowEnd=void 0,this._renderCallback(d,p),this._runRefreshCallbacks()}else this._runRefreshCallbacks()},u.prototype._runRefreshCallbacks=function(){var d,p;try{for(var v=y(this._refreshCallbacks),g=v.next();!g.done;g=v.next())(0,g.value)(0)}catch(s){d={error:s}}finally{try{g&&!g.done&&(p=v.return)&&p.call(v)}finally{if(d)throw d.error}}this._refreshCallbacks=[]},u}();o.RenderDebouncer=l},5596:function(T,o,y){var l,u=this&&this.__extends||(l=function(p,v){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,s){g.__proto__=s}||function(g,s){for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(g[a]=s[a])},l(p,v)},function(p,v){if(typeof v!="function"&&v!==null)throw new TypeError("Class extends value "+String(v)+" is not a constructor or null");function g(){this.constructor=p}l(p,v),p.prototype=v===null?Object.create(v):(g.prototype=v.prototype,new g)});Object.defineProperty(o,"__esModule",{value:!0}),o.ScreenDprMonitor=void 0;var d=function(p){function v(){var g=p!==null&&p.apply(this,arguments)||this;return g._currentDevicePixelRatio=window.devicePixelRatio,g}return u(v,p),v.prototype.setListener=function(g){var s=this;this._listener&&this.clearListener(),this._listener=g,this._outerListener=function(){s._listener&&(s._listener(window.devicePixelRatio,s._currentDevicePixelRatio),s._updateDpr())},this._updateDpr()},v.prototype.dispose=function(){p.prototype.dispose.call(this),this.clearListener()},v.prototype._updateDpr=function(){var g;this._outerListener&&((g=this._resolutionMediaMatchList)===null||g===void 0||g.removeListener(this._outerListener),this._currentDevicePixelRatio=window.devicePixelRatio,this._resolutionMediaMatchList=window.matchMedia("screen and (resolution: "+window.devicePixelRatio+"dppx)"),this._resolutionMediaMatchList.addListener(this._outerListener))},v.prototype.clearListener=function(){this._resolutionMediaMatchList&&this._listener&&this._outerListener&&(this._resolutionMediaMatchList.removeListener(this._outerListener),this._resolutionMediaMatchList=void 0,this._listener=void 0,this._outerListener=void 0)},v}(y(844).Disposable);o.ScreenDprMonitor=d},3236:function(T,o,y){var l,u=this&&this.__extends||(l=function(J,G){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(P,I){P.__proto__=I}||function(P,I){for(var q in I)Object.prototype.hasOwnProperty.call(I,q)&&(P[q]=I[q])},l(J,G)},function(J,G){if(typeof G!="function"&&G!==null)throw new TypeError("Class extends value "+String(G)+" is not a constructor or null");function P(){this.constructor=J}l(J,G),J.prototype=G===null?Object.create(G):(P.prototype=G.prototype,new P)}),d=this&&this.__values||function(J){var G=typeof Symbol=="function"&&Symbol.iterator,P=G&&J[G],I=0;if(P)return P.call(J);if(J&&typeof J.length=="number")return{next:function(){return J&&I>=J.length&&(J=void 0),{value:J&&J[I++],done:!J}}};throw new TypeError(G?"Object is not iterable.":"Symbol.iterator is not defined.")},p=this&&this.__read||function(J,G){var P=typeof Symbol=="function"&&J[Symbol.iterator];if(!P)return J;var I,q,X=P.call(J),Z=[];try{for(;(G===void 0||G-- >0)&&!(I=X.next()).done;)Z.push(I.value)}catch(te){q={error:te}}finally{try{I&&!I.done&&(P=X.return)&&P.call(X)}finally{if(q)throw q.error}}return Z},v=this&&this.__spreadArray||function(J,G,P){if(P||arguments.length===2)for(var I,q=0,X=G.length;q<X;q++)!I&&q in G||(I||(I=Array.prototype.slice.call(G,0,q)),I[q]=G[q]);return J.concat(I||Array.prototype.slice.call(G))};Object.defineProperty(o,"__esModule",{value:!0}),o.Terminal=void 0;var g=y(2950),s=y(1680),a=y(3614),_=y(2584),h=y(5435),r=y(3525),e=y(3551),t=y(9312),i=y(6114),n=y(3656),f=y(9042),c=y(357),b=y(6954),C=y(4567),m=y(1296),S=y(7399),k=y(8460),A=y(8437),E=y(5680),B=y(3230),R=y(4725),x=y(428),D=y(8934),W=y(6465),z=y(5114),Y=y(8969),N=y(8055),V=y(4269),K=y(5941),O=y(3107),ee=y(5744),Q=y(9074),ne=y(2585),F=typeof window<"u"?window.document:null,re=function(J){function G(P){P===void 0&&(P={});var I=J.call(this,P)||this;return I.browser=i,I._keyDownHandled=!1,I._keyDownSeen=!1,I._keyPressHandled=!1,I._unprocessedDeadKey=!1,I._onCursorMove=new k.EventEmitter,I._onKey=new k.EventEmitter,I._onRender=new k.EventEmitter,I._onSelectionChange=new k.EventEmitter,I._onTitleChange=new k.EventEmitter,I._onBell=new k.EventEmitter,I._onFocus=new k.EventEmitter,I._onBlur=new k.EventEmitter,I._onA11yCharEmitter=new k.EventEmitter,I._onA11yTabEmitter=new k.EventEmitter,I._setup(),I.linkifier=I._instantiationService.createInstance(e.Linkifier),I.linkifier2=I.register(I._instantiationService.createInstance(W.Linkifier2)),I._decorationService=I._instantiationService.createInstance(Q.DecorationService),I._instantiationService.setService(ne.IDecorationService,I._decorationService),I.register(I._inputHandler.onRequestBell(function(){return I.bell()})),I.register(I._inputHandler.onRequestRefreshRows(function(q,X){return I.refresh(q,X)})),I.register(I._inputHandler.onRequestSendFocus(function(){return I._reportFocus()})),I.register(I._inputHandler.onRequestReset(function(){return I.reset()})),I.register(I._inputHandler.onRequestWindowsOptionsReport(function(q){return I._reportWindowsOptions(q)})),I.register(I._inputHandler.onColor(function(q){return I._handleColorEvent(q)})),I.register((0,k.forwardEvent)(I._inputHandler.onCursorMove,I._onCursorMove)),I.register((0,k.forwardEvent)(I._inputHandler.onTitleChange,I._onTitleChange)),I.register((0,k.forwardEvent)(I._inputHandler.onA11yChar,I._onA11yCharEmitter)),I.register((0,k.forwardEvent)(I._inputHandler.onA11yTab,I._onA11yTabEmitter)),I.register(I._bufferService.onResize(function(q){return I._afterResize(q.cols,q.rows)})),I}return u(G,J),Object.defineProperty(G.prototype,"onCursorMove",{get:function(){return this._onCursorMove.event},enumerable:!1,configurable:!0}),Object.defineProperty(G.prototype,"onKey",{get:function(){return this._onKey.event},enumerable:!1,configurable:!0}),Object.defineProperty(G.prototype,"onRender",{get:function(){return this._onRender.event},enumerable:!1,configurable:!0}),Object.defineProperty(G.prototype,"onSelectionChange",{get:function(){return this._onSelectionChange.event},enumerable:!1,configurable:!0}),Object.defineProperty(G.prototype,"onTitleChange",{get:function(){return this._onTitleChange.event},enumerable:!1,configurable:!0}),Object.defineProperty(G.prototype,"onBell",{get:function(){return this._onBell.event},enumerable:!1,configurable:!0}),Object.defineProperty(G.prototype,"onFocus",{get:function(){return this._onFocus.event},enumerable:!1,configurable:!0}),Object.defineProperty(G.prototype,"onBlur",{get:function(){return this._onBlur.event},enumerable:!1,configurable:!0}),Object.defineProperty(G.prototype,"onA11yChar",{get:function(){return this._onA11yCharEmitter.event},enumerable:!1,configurable:!0}),Object.defineProperty(G.prototype,"onA11yTab",{get:function(){return this._onA11yTabEmitter.event},enumerable:!1,configurable:!0}),G.prototype._handleColorEvent=function(P){var I,q,X,Z;if(this._colorManager){try{for(var te=d(P),se=te.next();!se.done;se=te.next()){var le=se.value,he=void 0,$="";switch(le.index){case 256:he="foreground",$="10";break;case 257:he="background",$="11";break;case 258:he="cursor",$="12";break;default:he="ansi",$="4;"+le.index}if(he)switch(le.type){case 0:var fe=N.color.toColorRGB(he==="ansi"?this._colorManager.colors.ansi[le.index]:this._colorManager.colors[he]);this.coreService.triggerDataEvent(_.C0.ESC+"]"+$+";"+(0,K.toRgbString)(fe)+_.C1_ESCAPED.ST);break;case 1:he==="ansi"?this._colorManager.colors.ansi[le.index]=N.rgba.toColor.apply(N.rgba,v([],p(le.color),!1)):this._colorManager.colors[he]=N.rgba.toColor.apply(N.rgba,v([],p(le.color),!1));break;case 2:this._colorManager.restoreColor(le.index)}}}catch(_e){I={error:_e}}finally{try{se&&!se.done&&(q=te.return)&&q.call(te)}finally{if(I)throw I.error}}(X=this._renderService)===null||X===void 0||X.setColors(this._colorManager.colors),(Z=this.viewport)===null||Z===void 0||Z.onThemeChange(this._colorManager.colors)}},G.prototype.dispose=function(){var P,I,q;this._isDisposed||(J.prototype.dispose.call(this),(P=this._renderService)===null||P===void 0||P.dispose(),this._customKeyEventHandler=void 0,this.write=function(){},(q=(I=this.element)===null||I===void 0?void 0:I.parentNode)===null||q===void 0||q.removeChild(this.element))},G.prototype._setup=function(){J.prototype._setup.call(this),this._customKeyEventHandler=void 0},Object.defineProperty(G.prototype,"buffer",{get:function(){return this.buffers.active},enumerable:!1,configurable:!0}),G.prototype.focus=function(){this.textarea&&this.textarea.focus({preventScroll:!0})},G.prototype._updateOptions=function(P){var I,q,X,Z;switch(J.prototype._updateOptions.call(this,P),P){case"fontFamily":case"fontSize":(I=this._renderService)===null||I===void 0||I.clear(),(q=this._charSizeService)===null||q===void 0||q.measure();break;case"cursorBlink":case"cursorStyle":this.refresh(this.buffer.y,this.buffer.y);break;case"customGlyphs":case"drawBoldTextInBrightColors":case"letterSpacing":case"lineHeight":case"fontWeight":case"fontWeightBold":case"minimumContrastRatio":this._renderService&&(this._renderService.clear(),this._renderService.onResize(this.cols,this.rows),this.refresh(0,this.rows-1));break;case"rendererType":this._renderService&&(this._renderService.setRenderer(this._createRenderer()),this._renderService.onResize(this.cols,this.rows));break;case"scrollback":(X=this.viewport)===null||X===void 0||X.syncScrollArea();break;case"screenReaderMode":this.optionsService.rawOptions.screenReaderMode?!this._accessibilityManager&&this._renderService&&(this._accessibilityManager=new C.AccessibilityManager(this,this._renderService)):((Z=this._accessibilityManager)===null||Z===void 0||Z.dispose(),this._accessibilityManager=void 0);break;case"tabStopWidth":this.buffers.setupTabStops();break;case"theme":this._setTheme(this.optionsService.rawOptions.theme)}},G.prototype._onTextAreaFocus=function(P){this.coreService.decPrivateModes.sendFocus&&this.coreService.triggerDataEvent(_.C0.ESC+"[I"),this.updateCursorStyle(P),this.element.classList.add("focus"),this._showCursor(),this._onFocus.fire()},G.prototype.blur=function(){var P;return(P=this.textarea)===null||P===void 0?void 0:P.blur()},G.prototype._onTextAreaBlur=function(){this.textarea.value="",this.refresh(this.buffer.y,this.buffer.y),this.coreService.decPrivateModes.sendFocus&&this.coreService.triggerDataEvent(_.C0.ESC+"[O"),this.element.classList.remove("focus"),this._onBlur.fire()},G.prototype._syncTextArea=function(){if(this.textarea&&this.buffer.isCursorInViewport&&!this._compositionHelper.isComposing&&this._renderService){var P=this.buffer.ybase+this.buffer.y,I=this.buffer.lines.get(P);if(I){var q=Math.min(this.buffer.x,this.cols-1),X=this._renderService.dimensions.actualCellHeight,Z=I.getWidth(q),te=this._renderService.dimensions.actualCellWidth*Z,se=this.buffer.y*this._renderService.dimensions.actualCellHeight,le=q*this._renderService.dimensions.actualCellWidth;this.textarea.style.left=le+"px",this.textarea.style.top=se+"px",this.textarea.style.width=te+"px",this.textarea.style.height=X+"px",this.textarea.style.lineHeight=X+"px",this.textarea.style.zIndex="-5"}}},G.prototype._initGlobal=function(){var P=this;this._bindKeys(),this.register((0,n.addDisposableDomListener)(this.element,"copy",function(q){P.hasSelection()&&(0,a.copyHandler)(q,P._selectionService)}));var I=function(q){return(0,a.handlePasteEvent)(q,P.textarea,P.coreService)};this.register((0,n.addDisposableDomListener)(this.textarea,"paste",I)),this.register((0,n.addDisposableDomListener)(this.element,"paste",I)),i.isFirefox?this.register((0,n.addDisposableDomListener)(this.element,"mousedown",function(q){q.button===2&&(0,a.rightClickHandler)(q,P.textarea,P.screenElement,P._selectionService,P.options.rightClickSelectsWord)})):this.register((0,n.addDisposableDomListener)(this.element,"contextmenu",function(q){(0,a.rightClickHandler)(q,P.textarea,P.screenElement,P._selectionService,P.options.rightClickSelectsWord)})),i.isLinux&&this.register((0,n.addDisposableDomListener)(this.element,"auxclick",function(q){q.button===1&&(0,a.moveTextAreaUnderMouseCursor)(q,P.textarea,P.screenElement)}))},G.prototype._bindKeys=function(){var P=this;this.register((0,n.addDisposableDomListener)(this.textarea,"keyup",function(I){return P._keyUp(I)},!0)),this.register((0,n.addDisposableDomListener)(this.textarea,"keydown",function(I){return P._keyDown(I)},!0)),this.register((0,n.addDisposableDomListener)(this.textarea,"keypress",function(I){return P._keyPress(I)},!0)),this.register((0,n.addDisposableDomListener)(this.textarea,"compositionstart",function(){return P._compositionHelper.compositionstart()})),this.register((0,n.addDisposableDomListener)(this.textarea,"compositionupdate",function(I){return P._compositionHelper.compositionupdate(I)})),this.register((0,n.addDisposableDomListener)(this.textarea,"compositionend",function(){return P._compositionHelper.compositionend()})),this.register((0,n.addDisposableDomListener)(this.textarea,"input",function(I){return P._inputEvent(I)},!0)),this.register(this.onRender(function(){return P._compositionHelper.updateCompositionElements()})),this.register(this.onRender(function(I){return P._queueLinkification(I.start,I.end)}))},G.prototype.open=function(P){var I=this;if(!P)throw new Error("Terminal requires a parent element.");P.isConnected||this._logService.debug("Terminal.open was called on an element that was not attached to the DOM"),this._document=P.ownerDocument,this.element=this._document.createElement("div"),this.element.dir="ltr",this.element.classList.add("terminal"),this.element.classList.add("xterm"),this.element.setAttribute("tabindex","0"),P.appendChild(this.element);var q=F.createDocumentFragment();this._viewportElement=F.createElement("div"),this._viewportElement.classList.add("xterm-viewport"),q.appendChild(this._viewportElement),this._viewportScrollArea=F.createElement("div"),this._viewportScrollArea.classList.add("xterm-scroll-area"),this._viewportElement.appendChild(this._viewportScrollArea),this.screenElement=F.createElement("div"),this.screenElement.classList.add("xterm-screen"),this._helperContainer=F.createElement("div"),this._helperContainer.classList.add("xterm-helpers"),this.screenElement.appendChild(this._helperContainer),q.appendChild(this.screenElement),this.textarea=F.createElement("textarea"),this.textarea.classList.add("xterm-helper-textarea"),this.textarea.setAttribute("aria-label",f.promptLabel),this.textarea.setAttribute("aria-multiline","false"),this.textarea.setAttribute("autocorrect","off"),this.textarea.setAttribute("autocapitalize","off"),this.textarea.setAttribute("spellcheck","false"),this.textarea.tabIndex=0,this.register((0,n.addDisposableDomListener)(this.textarea,"focus",function(te){return I._onTextAreaFocus(te)})),this.register((0,n.addDisposableDomListener)(this.textarea,"blur",function(){return I._onTextAreaBlur()})),this._helperContainer.appendChild(this.textarea);var X=this._instantiationService.createInstance(z.CoreBrowserService,this.textarea);this._instantiationService.setService(R.ICoreBrowserService,X),this._charSizeService=this._instantiationService.createInstance(x.CharSizeService,this._document,this._helperContainer),this._instantiationService.setService(R.ICharSizeService,this._charSizeService),this._theme=this.options.theme||this._theme,this._colorManager=new E.ColorManager(F,this.options.allowTransparency),this.register(this.optionsService.onOptionChange(function(te){return I._colorManager.onOptionsChange(te)})),this._colorManager.setTheme(this._theme),this._characterJoinerService=this._instantiationService.createInstance(V.CharacterJoinerService),this._instantiationService.setService(R.ICharacterJoinerService,this._characterJoinerService);var Z=this._createRenderer();this._renderService=this.register(this._instantiationService.createInstance(B.RenderService,Z,this.rows,this.screenElement)),this._instantiationService.setService(R.IRenderService,this._renderService),this.register(this._renderService.onRenderedViewportChange(function(te){return I._onRender.fire(te)})),this.onResize(function(te){return I._renderService.resize(te.cols,te.rows)}),this._compositionView=F.createElement("div"),this._compositionView.classList.add("composition-view"),this._compositionHelper=this._instantiationService.createInstance(g.CompositionHelper,this.textarea,this._compositionView),this._helperContainer.appendChild(this._compositionView),this.element.appendChild(q),this._soundService=this._instantiationService.createInstance(c.SoundService),this._instantiationService.setService(R.ISoundService,this._soundService),this._mouseService=this._instantiationService.createInstance(D.MouseService),this._instantiationService.setService(R.IMouseService,this._mouseService),this.viewport=this._instantiationService.createInstance(s.Viewport,function(te){return I.scrollLines(te,!0,1)},this._viewportElement,this._viewportScrollArea,this.element),this.viewport.onThemeChange(this._colorManager.colors),this.register(this._inputHandler.onRequestSyncScrollBar(function(){return I.viewport.syncScrollArea()})),this.register(this.viewport),this.register(this.onCursorMove(function(){I._renderService.onCursorMove(),I._syncTextArea()})),this.register(this.onResize(function(){return I._renderService.onResize(I.cols,I.rows)})),this.register(this.onBlur(function(){return I._renderService.onBlur()})),this.register(this.onFocus(function(){return I._renderService.onFocus()})),this.register(this._renderService.onDimensionsChange(function(){return I.viewport.syncScrollArea()})),this._selectionService=this.register(this._instantiationService.createInstance(t.SelectionService,this.element,this.screenElement,this.linkifier2)),this._instantiationService.setService(R.ISelectionService,this._selectionService),this.register(this._selectionService.onRequestScrollLines(function(te){return I.scrollLines(te.amount,te.suppressScrollEvent)})),this.register(this._selectionService.onSelectionChange(function(){return I._onSelectionChange.fire()})),this.register(this._selectionService.onRequestRedraw(function(te){return I._renderService.onSelectionChanged(te.start,te.end,te.columnSelectMode)})),this.register(this._selectionService.onLinuxMouseSelection(function(te){I.textarea.value=te,I.textarea.focus(),I.textarea.select()})),this.register(this._onScroll.event(function(te){I.viewport.syncScrollArea(),I._selectionService.refresh()})),this.register((0,n.addDisposableDomListener)(this._viewportElement,"scroll",function(){return I._selectionService.refresh()})),this._mouseZoneManager=this._instantiationService.createInstance(b.MouseZoneManager,this.element,this.screenElement),this.register(this._mouseZoneManager),this.register(this.onScroll(function(){return I._mouseZoneManager.clearAll()})),this.linkifier.attachToDom(this.element,this._mouseZoneManager),this.linkifier2.attachToDom(this.screenElement,this._mouseService,this._renderService),this.register(this._instantiationService.createInstance(O.BufferDecorationRenderer,this.screenElement)),this.register((0,n.addDisposableDomListener)(this.element,"mousedown",function(te){return I._selectionService.onMouseDown(te)})),this.coreMouseService.areMouseEventsActive?(this._selectionService.disable(),this.element.classList.add("enable-mouse-events")):this._selectionService.enable(),this.options.screenReaderMode&&(this._accessibilityManager=new C.AccessibilityManager(this,this._renderService)),this.options.overviewRulerWidth&&(this._overviewRulerRenderer=this._instantiationService.createInstance(ee.OverviewRulerRenderer,this._viewportElement,this.screenElement)),this.optionsService.onOptionChange(function(){!I._overviewRulerRenderer&&I.options.overviewRulerWidth&&I._viewportElement&&I.screenElement&&(I._overviewRulerRenderer=I._instantiationService.createInstance(ee.OverviewRulerRenderer,I._viewportElement,I.screenElement))}),this._charSizeService.measure(),this.refresh(0,this.rows-1),this._initGlobal(),this.bindMouse()},G.prototype._createRenderer=function(){switch(this.options.rendererType){case"canvas":return this._instantiationService.createInstance(r.Renderer,this._colorManager.colors,this.screenElement,this.linkifier,this.linkifier2);case"dom":return this._instantiationService.createInstance(m.DomRenderer,this._colorManager.colors,this.element,this.screenElement,this._viewportElement,this.linkifier,this.linkifier2);default:throw new Error('Unrecognized rendererType "'+this.options.rendererType+'"')}},G.prototype._setTheme=function(P){var I,q,X;this._theme=P,(I=this._colorManager)===null||I===void 0||I.setTheme(P),(q=this._renderService)===null||q===void 0||q.setColors(this._colorManager.colors),(X=this.viewport)===null||X===void 0||X.onThemeChange(this._colorManager.colors)},G.prototype.bindMouse=function(){var P=this,I=this,q=this.element;function X($){var fe,_e,ke=I._mouseService.getRawByteCoords($,I.screenElement,I.cols,I.rows);if(!ke)return!1;switch($.overrideType||$.type){case"mousemove":_e=32,$.buttons===void 0?(fe=3,$.button!==void 0&&(fe=$.button<3?$.button:3)):fe=1&$.buttons?0:4&$.buttons?1:2&$.buttons?2:3;break;case"mouseup":_e=0,fe=$.button<3?$.button:3;break;case"mousedown":_e=1,fe=$.button<3?$.button:3;break;case"wheel":if(I.viewport.getLinesScrolled($)===0)return!1;_e=$.deltaY<0?0:1,fe=4;break;default:return!1}return!(_e===void 0||fe===void 0||fe>4)&&I.coreMouseService.triggerMouseEvent({col:ke.x-33,row:ke.y-33,button:fe,action:_e,ctrl:$.ctrlKey,alt:$.altKey,shift:$.shiftKey})}var Z={mouseup:null,wheel:null,mousedrag:null,mousemove:null},te=function($){return X($),$.buttons||(P._document.removeEventListener("mouseup",Z.mouseup),Z.mousedrag&&P._document.removeEventListener("mousemove",Z.mousedrag)),P.cancel($)},se=function($){return X($),P.cancel($,!0)},le=function($){$.buttons&&X($)},he=function($){$.buttons||X($)};this.register(this.coreMouseService.onProtocolChange(function($){$?(P.optionsService.rawOptions.logLevel==="debug"&&P._logService.debug("Binding to mouse events:",P.coreMouseService.explainEvents($)),P.element.classList.add("enable-mouse-events"),P._selectionService.disable()):(P._logService.debug("Unbinding from mouse events."),P.element.classList.remove("enable-mouse-events"),P._selectionService.enable()),8&$?Z.mousemove||(q.addEventListener("mousemove",he),Z.mousemove=he):(q.removeEventListener("mousemove",Z.mousemove),Z.mousemove=null),16&$?Z.wheel||(q.addEventListener("wheel",se,{passive:!1}),Z.wheel=se):(q.removeEventListener("wheel",Z.wheel),Z.wheel=null),2&$?Z.mouseup||(Z.mouseup=te):(P._document.removeEventListener("mouseup",Z.mouseup),Z.mouseup=null),4&$?Z.mousedrag||(Z.mousedrag=le):(P._document.removeEventListener("mousemove",Z.mousedrag),Z.mousedrag=null)})),this.coreMouseService.activeProtocol=this.coreMouseService.activeProtocol,this.register((0,n.addDisposableDomListener)(q,"mousedown",function($){if($.preventDefault(),P.focus(),P.coreMouseService.areMouseEventsActive&&!P._selectionService.shouldForceSelection($))return X($),Z.mouseup&&P._document.addEventListener("mouseup",Z.mouseup),Z.mousedrag&&P._document.addEventListener("mousemove",Z.mousedrag),P.cancel($)})),this.register((0,n.addDisposableDomListener)(q,"wheel",function($){if(!Z.wheel){if(!P.buffer.hasScrollback){var fe=P.viewport.getLinesScrolled($);if(fe===0)return;for(var _e=_.C0.ESC+(P.coreService.decPrivateModes.applicationCursorKeys?"O":"[")+($.deltaY<0?"A":"B"),ke="",We=0;We<Math.abs(fe);We++)ke+=_e;return P.coreService.triggerDataEvent(ke,!0),P.cancel($,!0)}return P.viewport.onWheel($)?P.cancel($):void 0}},{passive:!1})),this.register((0,n.addDisposableDomListener)(q,"touchstart",function($){if(!P.coreMouseService.areMouseEventsActive)return P.viewport.onTouchStart($),P.cancel($)},{passive:!0})),this.register((0,n.addDisposableDomListener)(q,"touchmove",function($){if(!P.coreMouseService.areMouseEventsActive)return P.viewport.onTouchMove($)?void 0:P.cancel($)},{passive:!1}))},G.prototype.refresh=function(P,I){var q;(q=this._renderService)===null||q===void 0||q.refreshRows(P,I)},G.prototype._queueLinkification=function(P,I){var q;(q=this.linkifier)===null||q===void 0||q.linkifyRows(P,I)},G.prototype.updateCursorStyle=function(P){var I;!((I=this._selectionService)===null||I===void 0)&&I.shouldColumnSelect(P)?this.element.classList.add("column-select"):this.element.classList.remove("column-select")},G.prototype._showCursor=function(){this.coreService.isCursorInitialized||(this.coreService.isCursorInitialized=!0,this.refresh(this.buffer.y,this.buffer.y))},G.prototype.scrollLines=function(P,I,q){q===void 0&&(q=0),J.prototype.scrollLines.call(this,P,I,q),this.refresh(0,this.rows-1)},G.prototype.paste=function(P){(0,a.paste)(P,this.textarea,this.coreService)},G.prototype.attachCustomKeyEventHandler=function(P){this._customKeyEventHandler=P},G.prototype.registerLinkMatcher=function(P,I,q){var X=this.linkifier.registerLinkMatcher(P,I,q);return this.refresh(0,this.rows-1),X},G.prototype.deregisterLinkMatcher=function(P){this.linkifier.deregisterLinkMatcher(P)&&this.refresh(0,this.rows-1)},G.prototype.registerLinkProvider=function(P){return this.linkifier2.registerLinkProvider(P)},G.prototype.registerCharacterJoiner=function(P){if(!this._characterJoinerService)throw new Error("Terminal must be opened first");var I=this._characterJoinerService.register(P);return this.refresh(0,this.rows-1),I},G.prototype.deregisterCharacterJoiner=function(P){if(!this._characterJoinerService)throw new Error("Terminal must be opened first");this._characterJoinerService.deregister(P)&&this.refresh(0,this.rows-1)},Object.defineProperty(G.prototype,"markers",{get:function(){return this.buffer.markers},enumerable:!1,configurable:!0}),G.prototype.addMarker=function(P){if(this.buffer===this.buffers.normal)return this.buffer.addMarker(this.buffer.ybase+this.buffer.y+P)},G.prototype.registerDecoration=function(P){return this._decorationService.registerDecoration(P)},G.prototype.hasSelection=function(){return!!this._selectionService&&this._selectionService.hasSelection},G.prototype.select=function(P,I,q){this._selectionService.setSelection(P,I,q)},G.prototype.getSelection=function(){return this._selectionService?this._selectionService.selectionText:""},G.prototype.getSelectionPosition=function(){if(this._selectionService&&this._selectionService.hasSelection)return{startColumn:this._selectionService.selectionStart[0],startRow:this._selectionService.selectionStart[1],endColumn:this._selectionService.selectionEnd[0],endRow:this._selectionService.selectionEnd[1]}},G.prototype.clearSelection=function(){var P;(P=this._selectionService)===null||P===void 0||P.clearSelection()},G.prototype.selectAll=function(){var P;(P=this._selectionService)===null||P===void 0||P.selectAll()},G.prototype.selectLines=function(P,I){var q;(q=this._selectionService)===null||q===void 0||q.selectLines(P,I)},G.prototype._keyDown=function(P){if(this._keyDownHandled=!1,this._keyDownSeen=!0,this._customKeyEventHandler&&this._customKeyEventHandler(P)===!1)return!1;var I=this.browser.isMac&&this.options.macOptionIsMeta&&P.altKey;if(!I&&!this._compositionHelper.keydown(P))return this.buffer.ybase!==this.buffer.ydisp&&this._bufferService.scrollToBottom(),!1;I||P.key!=="Dead"&&P.key!=="AltGraph"||(this._unprocessedDeadKey=!0);var q=(0,S.evaluateKeyboardEvent)(P,this.coreService.decPrivateModes.applicationCursorKeys,this.browser.isMac,this.options.macOptionIsMeta);if(this.updateCursorStyle(P),q.type===3||q.type===2){var X=this.rows-1;return this.scrollLines(q.type===2?-X:X),this.cancel(P,!0)}return q.type===1&&this.selectAll(),!!this._isThirdLevelShift(this.browser,P)||(q.cancel&&this.cancel(P,!0),!q.key||!!(P.key&&!P.ctrlKey&&!P.altKey&&!P.metaKey&&P.key.length===1&&P.key.charCodeAt(0)>=65&&P.key.charCodeAt(0)<=90)||(this._unprocessedDeadKey?(this._unprocessedDeadKey=!1,!0):(q.key!==_.C0.ETX&&q.key!==_.C0.CR||(this.textarea.value=""),this._onKey.fire({key:q.key,domEvent:P}),this._showCursor(),this.coreService.triggerDataEvent(q.key,!0),this.optionsService.rawOptions.screenReaderMode?void(this._keyDownHandled=!0):this.cancel(P,!0))))},G.prototype._isThirdLevelShift=function(P,I){var q=P.isMac&&!this.options.macOptionIsMeta&&I.altKey&&!I.ctrlKey&&!I.metaKey||P.isWindows&&I.altKey&&I.ctrlKey&&!I.metaKey||P.isWindows&&I.getModifierState("AltGraph");return I.type==="keypress"?q:q&&(!I.keyCode||I.keyCode>47)},G.prototype._keyUp=function(P){this._keyDownSeen=!1,this._customKeyEventHandler&&this._customKeyEventHandler(P)===!1||(function(I){return I.keyCode===16||I.keyCode===17||I.keyCode===18}(P)||this.focus(),this.updateCursorStyle(P),this._keyPressHandled=!1)},G.prototype._keyPress=function(P){var I;if(this._keyPressHandled=!1,this._keyDownHandled||this._customKeyEventHandler&&this._customKeyEventHandler(P)===!1)return!1;if(this.cancel(P),P.charCode)I=P.charCode;else if(P.which===null||P.which===void 0)I=P.keyCode;else{if(P.which===0||P.charCode===0)return!1;I=P.which}return!(!I||(P.altKey||P.ctrlKey||P.metaKey)&&!this._isThirdLevelShift(this.browser,P)||(I=String.fromCharCode(I),this._onKey.fire({key:I,domEvent:P}),this._showCursor(),this.coreService.triggerDataEvent(I,!0),this._keyPressHandled=!0,this._unprocessedDeadKey=!1,0))},G.prototype._inputEvent=function(P){if(P.data&&P.inputType==="insertText"&&(!P.composed||!this._keyDownSeen)&&!this.optionsService.rawOptions.screenReaderMode){if(this._keyPressHandled)return!1;this._unprocessedDeadKey=!1;var I=P.data;return this.coreService.triggerDataEvent(I,!0),this.cancel(P),!0}return!1},G.prototype.bell=function(){var P;this._soundBell()&&((P=this._soundService)===null||P===void 0||P.playBellSound()),this._onBell.fire()},G.prototype.resize=function(P,I){P!==this.cols||I!==this.rows?J.prototype.resize.call(this,P,I):this._charSizeService&&!this._charSizeService.hasValidSize&&this._charSizeService.measure()},G.prototype._afterResize=function(P,I){var q,X;(q=this._charSizeService)===null||q===void 0||q.measure(),(X=this.viewport)===null||X===void 0||X.syncScrollArea(!0)},G.prototype.clear=function(){if(this.buffer.ybase!==0||this.buffer.y!==0){this.buffer.clearAllMarkers(),this.buffer.lines.set(0,this.buffer.lines.get(this.buffer.ybase+this.buffer.y)),this.buffer.lines.length=1,this.buffer.ydisp=0,this.buffer.ybase=0,this.buffer.y=0;for(var P=1;P<this.rows;P++)this.buffer.lines.push(this.buffer.getBlankLine(A.DEFAULT_ATTR_DATA));this.refresh(0,this.rows-1),this._onScroll.fire({position:this.buffer.ydisp,source:0})}},G.prototype.reset=function(){var P,I;this.options.rows=this.rows,this.options.cols=this.cols;var q=this._customKeyEventHandler;this._setup(),J.prototype.reset.call(this),(P=this._selectionService)===null||P===void 0||P.reset(),this._decorationService.reset(),this._customKeyEventHandler=q,this.refresh(0,this.rows-1),(I=this.viewport)===null||I===void 0||I.syncScrollArea()},G.prototype.clearTextureAtlas=function(){var P;(P=this._renderService)===null||P===void 0||P.clearTextureAtlas()},G.prototype._reportFocus=function(){var P;!((P=this.element)===null||P===void 0)&&P.classList.contains("focus")?this.coreService.triggerDataEvent(_.C0.ESC+"[I"):this.coreService.triggerDataEvent(_.C0.ESC+"[O")},G.prototype._reportWindowsOptions=function(P){if(this._renderService)switch(P){case h.WindowsOptionsReportType.GET_WIN_SIZE_PIXELS:var I=this._renderService.dimensions.scaledCanvasWidth.toFixed(0),q=this._renderService.dimensions.scaledCanvasHeight.toFixed(0);this.coreService.triggerDataEvent(_.C0.ESC+"[4;"+q+";"+I+"t");break;case h.WindowsOptionsReportType.GET_CELL_SIZE_PIXELS:var X=this._renderService.dimensions.scaledCellWidth.toFixed(0),Z=this._renderService.dimensions.scaledCellHeight.toFixed(0);this.coreService.triggerDataEvent(_.C0.ESC+"[6;"+Z+";"+X+"t")}},G.prototype.cancel=function(P,I){if(this.options.cancelEvents||I)return P.preventDefault(),P.stopPropagation(),!1},G.prototype._visualBell=function(){return!1},G.prototype._soundBell=function(){return this.options.bellStyle==="sound"},G}(Y.CoreTerminal);o.Terminal=re},9924:(T,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.TimeBasedDebouncer=void 0;var y=function(){function l(u,d){d===void 0&&(d=1e3),this._renderCallback=u,this._debounceThresholdMS=d,this._lastRefreshMs=0,this._additionalRefreshRequested=!1}return l.prototype.dispose=function(){this._refreshTimeoutID&&clearTimeout(this._refreshTimeoutID)},l.prototype.refresh=function(u,d,p){var v=this;this._rowCount=p,u=u!==void 0?u:0,d=d!==void 0?d:this._rowCount-1,this._rowStart=this._rowStart!==void 0?Math.min(this._rowStart,u):u,this._rowEnd=this._rowEnd!==void 0?Math.max(this._rowEnd,d):d;var g=Date.now();if(g-this._lastRefreshMs>=this._debounceThresholdMS)this._lastRefreshMs=g,this._innerRefresh();else if(!this._additionalRefreshRequested){var s=g-this._lastRefreshMs,a=this._debounceThresholdMS-s;this._additionalRefreshRequested=!0,this._refreshTimeoutID=window.setTimeout(function(){v._lastRefreshMs=Date.now(),v._innerRefresh(),v._additionalRefreshRequested=!1,v._refreshTimeoutID=void 0},a)}},l.prototype._innerRefresh=function(){if(this._rowStart!==void 0&&this._rowEnd!==void 0&&this._rowCount!==void 0){var u=Math.max(this._rowStart,0),d=Math.min(this._rowEnd,this._rowCount-1);this._rowStart=void 0,this._rowEnd=void 0,this._renderCallback(u,d)}},l}();o.TimeBasedDebouncer=y},1680:function(T,o,y){var l,u=this&&this.__extends||(l=function(h,r){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])},l(h,r)},function(h,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function e(){this.constructor=h}l(h,r),h.prototype=r===null?Object.create(r):(e.prototype=r.prototype,new e)}),d=this&&this.__decorate||function(h,r,e,t){var i,n=arguments.length,f=n<3?r:t===null?t=Object.getOwnPropertyDescriptor(r,e):t;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")f=Reflect.decorate(h,r,e,t);else for(var c=h.length-1;c>=0;c--)(i=h[c])&&(f=(n<3?i(f):n>3?i(r,e,f):i(r,e))||f);return n>3&&f&&Object.defineProperty(r,e,f),f},p=this&&this.__param||function(h,r){return function(e,t){r(e,t,h)}};Object.defineProperty(o,"__esModule",{value:!0}),o.Viewport=void 0;var v=y(844),g=y(3656),s=y(4725),a=y(2585),_=function(h){function r(e,t,i,n,f,c,b,C){var m=h.call(this)||this;return m._scrollLines=e,m._viewportElement=t,m._scrollArea=i,m._element=n,m._bufferService=f,m._optionsService=c,m._charSizeService=b,m._renderService=C,m.scrollBarWidth=0,m._currentRowHeight=0,m._currentScaledCellHeight=0,m._lastRecordedBufferLength=0,m._lastRecordedViewportHeight=0,m._lastRecordedBufferHeight=0,m._lastTouchY=0,m._lastScrollTop=0,m._wheelPartialScroll=0,m._refreshAnimationFrame=null,m._ignoreNextScrollEvent=!1,m.scrollBarWidth=m._viewportElement.offsetWidth-m._scrollArea.offsetWidth||15,m.register((0,g.addDisposableDomListener)(m._viewportElement,"scroll",m._onScroll.bind(m))),m._activeBuffer=m._bufferService.buffer,m.register(m._bufferService.buffers.onBufferActivate(function(S){return m._activeBuffer=S.activeBuffer})),m._renderDimensions=m._renderService.dimensions,m.register(m._renderService.onDimensionsChange(function(S){return m._renderDimensions=S})),setTimeout(function(){return m.syncScrollArea()},0),m}return u(r,h),r.prototype.onThemeChange=function(e){this._viewportElement.style.backgroundColor=e.background.css},r.prototype._refresh=function(e){var t=this;if(e)return this._innerRefresh(),void(this._refreshAnimationFrame!==null&&cancelAnimationFrame(this._refreshAnimationFrame));this._refreshAnimationFrame===null&&(this._refreshAnimationFrame=requestAnimationFrame(function(){return t._innerRefresh()}))},r.prototype._innerRefresh=function(){if(this._charSizeService.height>0){this._currentRowHeight=this._renderService.dimensions.scaledCellHeight/window.devicePixelRatio,this._currentScaledCellHeight=this._renderService.dimensions.scaledCellHeight,this._lastRecordedViewportHeight=this._viewportElement.offsetHeight;var e=Math.round(this._currentRowHeight*this._lastRecordedBufferLength)+(this._lastRecordedViewportHeight-this._renderService.dimensions.canvasHeight);this._lastRecordedBufferHeight!==e&&(this._lastRecordedBufferHeight=e,this._scrollArea.style.height=this._lastRecordedBufferHeight+"px")}var t=this._bufferService.buffer.ydisp*this._currentRowHeight;this._viewportElement.scrollTop!==t&&(this._ignoreNextScrollEvent=!0,this._viewportElement.scrollTop=t),this._refreshAnimationFrame=null},r.prototype.syncScrollArea=function(e){if(e===void 0&&(e=!1),this._lastRecordedBufferLength!==this._bufferService.buffer.lines.length)return this._lastRecordedBufferLength=this._bufferService.buffer.lines.length,void this._refresh(e);this._lastRecordedViewportHeight===this._renderService.dimensions.canvasHeight&&this._lastScrollTop===this._activeBuffer.ydisp*this._currentRowHeight&&this._renderDimensions.scaledCellHeight===this._currentScaledCellHeight||this._refresh(e)},r.prototype._onScroll=function(e){if(this._lastScrollTop=this._viewportElement.scrollTop,this._viewportElement.offsetParent){if(this._ignoreNextScrollEvent)return this._ignoreNextScrollEvent=!1,void this._scrollLines(0);var t=Math.round(this._lastScrollTop/this._currentRowHeight)-this._bufferService.buffer.ydisp;this._scrollLines(t)}},r.prototype._bubbleScroll=function(e,t){var i=this._viewportElement.scrollTop+this._lastRecordedViewportHeight;return!(t<0&&this._viewportElement.scrollTop!==0||t>0&&i<this._lastRecordedBufferHeight)||(e.cancelable&&e.preventDefault(),!1)},r.prototype.onWheel=function(e){var t=this._getPixelsScrolled(e);return t!==0&&(this._viewportElement.scrollTop+=t,this._bubbleScroll(e,t))},r.prototype._getPixelsScrolled=function(e){if(e.deltaY===0||e.shiftKey)return 0;var t=this._applyScrollModifier(e.deltaY,e);return e.deltaMode===WheelEvent.DOM_DELTA_LINE?t*=this._currentRowHeight:e.deltaMode===WheelEvent.DOM_DELTA_PAGE&&(t*=this._currentRowHeight*this._bufferService.rows),t},r.prototype.getLinesScrolled=function(e){if(e.deltaY===0||e.shiftKey)return 0;var t=this._applyScrollModifier(e.deltaY,e);return e.deltaMode===WheelEvent.DOM_DELTA_PIXEL?(t/=this._currentRowHeight+0,this._wheelPartialScroll+=t,t=Math.floor(Math.abs(this._wheelPartialScroll))*(this._wheelPartialScroll>0?1:-1),this._wheelPartialScroll%=1):e.deltaMode===WheelEvent.DOM_DELTA_PAGE&&(t*=this._bufferService.rows),t},r.prototype._applyScrollModifier=function(e,t){var i=this._optionsService.rawOptions.fastScrollModifier;return i==="alt"&&t.altKey||i==="ctrl"&&t.ctrlKey||i==="shift"&&t.shiftKey?e*this._optionsService.rawOptions.fastScrollSensitivity*this._optionsService.rawOptions.scrollSensitivity:e*this._optionsService.rawOptions.scrollSensitivity},r.prototype.onTouchStart=function(e){this._lastTouchY=e.touches[0].pageY},r.prototype.onTouchMove=function(e){var t=this._lastTouchY-e.touches[0].pageY;return this._lastTouchY=e.touches[0].pageY,t!==0&&(this._viewportElement.scrollTop+=t,this._bubbleScroll(e,t))},d([p(4,a.IBufferService),p(5,a.IOptionsService),p(6,s.ICharSizeService),p(7,s.IRenderService)],r)}(v.Disposable);o.Viewport=_},3107:function(T,o,y){var l,u=this&&this.__extends||(l=function(r,e){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])},l(r,e)},function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function t(){this.constructor=r}l(r,e),r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}),d=this&&this.__decorate||function(r,e,t,i){var n,f=arguments.length,c=f<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")c=Reflect.decorate(r,e,t,i);else for(var b=r.length-1;b>=0;b--)(n=r[b])&&(c=(f<3?n(c):f>3?n(e,t,c):n(e,t))||c);return f>3&&c&&Object.defineProperty(e,t,c),c},p=this&&this.__param||function(r,e){return function(t,i){e(t,i,r)}},v=this&&this.__values||function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],i=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&i>=r.length&&(r=void 0),{value:r&&r[i++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(o,"__esModule",{value:!0}),o.BufferDecorationRenderer=void 0;var g=y(3656),s=y(4725),a=y(844),_=y(2585),h=function(r){function e(t,i,n,f){var c=r.call(this)||this;return c._screenElement=t,c._bufferService=i,c._decorationService=n,c._renderService=f,c._decorationElements=new Map,c._altBufferIsActive=!1,c._dimensionsChanged=!1,c._container=document.createElement("div"),c._container.classList.add("xterm-decoration-container"),c._screenElement.appendChild(c._container),c.register(c._renderService.onRenderedViewportChange(function(){return c._queueRefresh()})),c.register(c._renderService.onDimensionsChange(function(){c._dimensionsChanged=!0,c._queueRefresh()})),c.register((0,g.addDisposableDomListener)(window,"resize",function(){return c._queueRefresh()})),c.register(c._bufferService.buffers.onBufferActivate(function(){c._altBufferIsActive=c._bufferService.buffer===c._bufferService.buffers.alt})),c.register(c._decorationService.onDecorationRegistered(function(){return c._queueRefresh()})),c.register(c._decorationService.onDecorationRemoved(function(b){return c._removeDecoration(b)})),c}return u(e,r),e.prototype.dispose=function(){this._container.remove(),this._decorationElements.clear(),r.prototype.dispose.call(this)},e.prototype._queueRefresh=function(){var t=this;this._animationFrame===void 0&&(this._animationFrame=this._renderService.addRefreshCallback(function(){t.refreshDecorations(),t._animationFrame=void 0}))},e.prototype.refreshDecorations=function(){var t,i;try{for(var n=v(this._decorationService.decorations),f=n.next();!f.done;f=n.next()){var c=f.value;this._renderDecoration(c)}}catch(b){t={error:b}}finally{try{f&&!f.done&&(i=n.return)&&i.call(n)}finally{if(t)throw t.error}}this._dimensionsChanged=!1},e.prototype._renderDecoration=function(t){this._refreshStyle(t),this._dimensionsChanged&&this._refreshXPosition(t)},e.prototype._createElement=function(t){var i,n=document.createElement("div");n.classList.add("xterm-decoration"),n.style.width=Math.round((t.options.width||1)*this._renderService.dimensions.actualCellWidth)+"px",n.style.height=(t.options.height||1)*this._renderService.dimensions.actualCellHeight+"px",n.style.top=(t.marker.line-this._bufferService.buffers.active.ydisp)*this._renderService.dimensions.actualCellHeight+"px",n.style.lineHeight=this._renderService.dimensions.actualCellHeight+"px";var f=(i=t.options.x)!==null&&i!==void 0?i:0;return f&&f>this._bufferService.cols&&(n.style.display="none"),this._refreshXPosition(t,n),n},e.prototype._refreshStyle=function(t){var i=this,n=t.marker.line-this._bufferService.buffers.active.ydisp;if(n<0||n>=this._bufferService.rows)t.element&&(t.element.style.display="none",t.onRenderEmitter.fire(t.element));else{var f=this._decorationElements.get(t);f||(t.onDispose(function(){return i._removeDecoration(t)}),f=this._createElement(t),t.element=f,this._decorationElements.set(t,f),this._container.appendChild(f)),f.style.top=n*this._renderService.dimensions.actualCellHeight+"px",f.style.display=this._altBufferIsActive?"none":"block",t.onRenderEmitter.fire(f)}},e.prototype._refreshXPosition=function(t,i){var n;if(i===void 0&&(i=t.element),i){var f=(n=t.options.x)!==null&&n!==void 0?n:0;(t.options.anchor||"left")==="right"?i.style.right=f?f*this._renderService.dimensions.actualCellWidth+"px":"":i.style.left=f?f*this._renderService.dimensions.actualCellWidth+"px":""}},e.prototype._removeDecoration=function(t){var i;(i=this._decorationElements.get(t))===null||i===void 0||i.remove(),this._decorationElements.delete(t)},d([p(1,_.IBufferService),p(2,_.IDecorationService),p(3,s.IRenderService)],e)}(a.Disposable);o.BufferDecorationRenderer=h},5871:function(T,o){var y=this&&this.__values||function(u){var d=typeof Symbol=="function"&&Symbol.iterator,p=d&&u[d],v=0;if(p)return p.call(u);if(u&&typeof u.length=="number")return{next:function(){return u&&v>=u.length&&(u=void 0),{value:u&&u[v++],done:!u}}};throw new TypeError(d?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(o,"__esModule",{value:!0}),o.ColorZoneStore=void 0;var l=function(){function u(){this._zones=[],this._zonePool=[],this._zonePoolIndex=0,this._linePadding={full:0,left:0,center:0,right:0}}return Object.defineProperty(u.prototype,"zones",{get:function(){return this._zonePool.length=Math.min(this._zonePool.length,this._zones.length),this._zones},enumerable:!1,configurable:!0}),u.prototype.clear=function(){this._zones.length=0,this._zonePoolIndex=0},u.prototype.addDecoration=function(d){var p,v;if(d.options.overviewRulerOptions){try{for(var g=y(this._zones),s=g.next();!s.done;s=g.next()){var a=s.value;if(a.color===d.options.overviewRulerOptions.color&&a.position===d.options.overviewRulerOptions.position){if(this._lineIntersectsZone(a,d.marker.line))return;if(this._lineAdjacentToZone(a,d.marker.line,d.options.overviewRulerOptions.position))return void this._addLineToZone(a,d.marker.line)}}}catch(_){p={error:_}}finally{try{s&&!s.done&&(v=g.return)&&v.call(g)}finally{if(p)throw p.error}}if(this._zonePoolIndex<this._zonePool.length)return this._zonePool[this._zonePoolIndex].color=d.options.overviewRulerOptions.color,this._zonePool[this._zonePoolIndex].position=d.options.overviewRulerOptions.position,this._zonePool[this._zonePoolIndex].startBufferLine=d.marker.line,this._zonePool[this._zonePoolIndex].endBufferLine=d.marker.line,void this._zones.push(this._zonePool[this._zonePoolIndex++]);this._zones.push({color:d.options.overviewRulerOptions.color,position:d.options.overviewRulerOptions.position,startBufferLine:d.marker.line,endBufferLine:d.marker.line}),this._zonePool.push(this._zones[this._zones.length-1]),this._zonePoolIndex++}},u.prototype.setPadding=function(d){this._linePadding=d},u.prototype._lineIntersectsZone=function(d,p){return p>=d.startBufferLine&&p<=d.endBufferLine},u.prototype._lineAdjacentToZone=function(d,p,v){return p>=d.startBufferLine-this._linePadding[v||"full"]&&p<=d.endBufferLine+this._linePadding[v||"full"]},u.prototype._addLineToZone=function(d,p){d.startBufferLine=Math.min(d.startBufferLine,p),d.endBufferLine=Math.max(d.endBufferLine,p)},u}();o.ColorZoneStore=l},5744:function(T,o,y){var l,u=this&&this.__extends||(l=function(n,f){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,b){c.__proto__=b}||function(c,b){for(var C in b)Object.prototype.hasOwnProperty.call(b,C)&&(c[C]=b[C])},l(n,f)},function(n,f){if(typeof f!="function"&&f!==null)throw new TypeError("Class extends value "+String(f)+" is not a constructor or null");function c(){this.constructor=n}l(n,f),n.prototype=f===null?Object.create(f):(c.prototype=f.prototype,new c)}),d=this&&this.__decorate||function(n,f,c,b){var C,m=arguments.length,S=m<3?f:b===null?b=Object.getOwnPropertyDescriptor(f,c):b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")S=Reflect.decorate(n,f,c,b);else for(var k=n.length-1;k>=0;k--)(C=n[k])&&(S=(m<3?C(S):m>3?C(f,c,S):C(f,c))||S);return m>3&&S&&Object.defineProperty(f,c,S),S},p=this&&this.__param||function(n,f){return function(c,b){f(c,b,n)}},v=this&&this.__values||function(n){var f=typeof Symbol=="function"&&Symbol.iterator,c=f&&n[f],b=0;if(c)return c.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&b>=n.length&&(n=void 0),{value:n&&n[b++],done:!n}}};throw new TypeError(f?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(o,"__esModule",{value:!0}),o.OverviewRulerRenderer=void 0;var g=y(5871),s=y(3656),a=y(4725),_=y(844),h=y(2585),r={full:0,left:0,center:0,right:0},e={full:0,left:0,center:0,right:0},t={full:0,left:0,center:0,right:0},i=function(n){function f(c,b,C,m,S,k){var A,E=n.call(this)||this;E._viewportElement=c,E._screenElement=b,E._bufferService=C,E._decorationService=m,E._renderService=S,E._optionsService=k,E._colorZoneStore=new g.ColorZoneStore,E._shouldUpdateDimensions=!0,E._shouldUpdateAnchor=!0,E._lastKnownBufferLength=0,E._canvas=document.createElement("canvas"),E._canvas.classList.add("xterm-decoration-overview-ruler"),E._refreshCanvasDimensions(),(A=E._viewportElement.parentElement)===null||A===void 0||A.insertBefore(E._canvas,E._viewportElement);var B=E._canvas.getContext("2d");if(!B)throw new Error("Ctx cannot be null");return E._ctx=B,E._registerDecorationListeners(),E._registerBufferChangeListeners(),E._registerDimensionChangeListeners(),E}return u(f,n),Object.defineProperty(f.prototype,"_width",{get:function(){return this._optionsService.options.overviewRulerWidth||0},enumerable:!1,configurable:!0}),f.prototype._registerDecorationListeners=function(){var c=this;this.register(this._decorationService.onDecorationRegistered(function(){return c._queueRefresh(void 0,!0)})),this.register(this._decorationService.onDecorationRemoved(function(){return c._queueRefresh(void 0,!0)}))},f.prototype._registerBufferChangeListeners=function(){var c=this;this.register(this._renderService.onRenderedViewportChange(function(){return c._queueRefresh()})),this.register(this._bufferService.buffers.onBufferActivate(function(){c._canvas.style.display=c._bufferService.buffer===c._bufferService.buffers.alt?"none":"block"})),this.register(this._bufferService.onScroll(function(){c._lastKnownBufferLength!==c._bufferService.buffers.normal.lines.length&&(c._refreshDrawHeightConstants(),c._refreshColorZonePadding())}))},f.prototype._registerDimensionChangeListeners=function(){var c=this;this.register(this._renderService.onRender(function(){c._containerHeight&&c._containerHeight===c._screenElement.clientHeight||(c._queueRefresh(!0),c._containerHeight=c._screenElement.clientHeight)})),this.register(this._optionsService.onOptionChange(function(b){b==="overviewRulerWidth"&&c._queueRefresh(!0)})),this.register((0,s.addDisposableDomListener)(window,"resize",function(){c._queueRefresh(!0)})),this._queueRefresh(!0)},f.prototype.dispose=function(){var c;(c=this._canvas)===null||c===void 0||c.remove(),n.prototype.dispose.call(this)},f.prototype._refreshDrawConstants=function(){var c=Math.floor(this._canvas.width/3),b=Math.ceil(this._canvas.width/3);e.full=this._canvas.width,e.left=c,e.center=b,e.right=c,this._refreshDrawHeightConstants(),t.full=0,t.left=0,t.center=e.left,t.right=e.left+e.center},f.prototype._refreshDrawHeightConstants=function(){r.full=Math.round(2*window.devicePixelRatio);var c=this._canvas.height/this._bufferService.buffer.lines.length,b=Math.round(Math.max(Math.min(c,12),6)*window.devicePixelRatio);r.left=b,r.center=b,r.right=b},f.prototype._refreshColorZonePadding=function(){this._colorZoneStore.setPadding({full:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*r.full),left:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*r.left),center:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*r.center),right:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*r.right)}),this._lastKnownBufferLength=this._bufferService.buffers.normal.lines.length},f.prototype._refreshCanvasDimensions=function(){this._canvas.style.width=this._width+"px",this._canvas.width=Math.round(this._width*window.devicePixelRatio),this._canvas.style.height=this._screenElement.clientHeight+"px",this._canvas.height=Math.round(this._screenElement.clientHeight*window.devicePixelRatio),this._refreshDrawConstants(),this._refreshColorZonePadding()},f.prototype._refreshDecorations=function(){var c,b,C,m,S,k;this._shouldUpdateDimensions&&this._refreshCanvasDimensions(),this._ctx.clearRect(0,0,this._canvas.width,this._canvas.height),this._colorZoneStore.clear();try{for(var A=v(this._decorationService.decorations),E=A.next();!E.done;E=A.next()){var B=E.value;this._colorZoneStore.addDecoration(B)}}catch(N){c={error:N}}finally{try{E&&!E.done&&(b=A.return)&&b.call(A)}finally{if(c)throw c.error}}this._ctx.lineWidth=1;var R=this._colorZoneStore.zones;try{for(var x=v(R),D=x.next();!D.done;D=x.next())(Y=D.value).position!=="full"&&this._renderColorZone(Y)}catch(N){C={error:N}}finally{try{D&&!D.done&&(m=x.return)&&m.call(x)}finally{if(C)throw C.error}}try{for(var W=v(R),z=W.next();!z.done;z=W.next()){var Y;(Y=z.value).position==="full"&&this._renderColorZone(Y)}}catch(N){S={error:N}}finally{try{z&&!z.done&&(k=W.return)&&k.call(W)}finally{if(S)throw S.error}}this._shouldUpdateDimensions=!1,this._shouldUpdateAnchor=!1},f.prototype._renderColorZone=function(c){this._ctx.fillStyle=c.color,this._ctx.fillRect(t[c.position||"full"],Math.round((this._canvas.height-1)*(c.startBufferLine/this._bufferService.buffers.active.lines.length)-r[c.position||"full"]/2),e[c.position||"full"],Math.round((this._canvas.height-1)*((c.endBufferLine-c.startBufferLine)/this._bufferService.buffers.active.lines.length)+r[c.position||"full"]))},f.prototype._queueRefresh=function(c,b){var C=this;this._shouldUpdateDimensions=c||this._shouldUpdateDimensions,this._shouldUpdateAnchor=b||this._shouldUpdateAnchor,this._animationFrame===void 0&&(this._animationFrame=window.requestAnimationFrame(function(){C._refreshDecorations(),C._animationFrame=void 0}))},d([p(2,h.IBufferService),p(3,h.IDecorationService),p(4,a.IRenderService),p(5,h.IOptionsService)],f)}(_.Disposable);o.OverviewRulerRenderer=i},2950:function(T,o,y){var l=this&&this.__decorate||function(g,s,a,_){var h,r=arguments.length,e=r<3?s:_===null?_=Object.getOwnPropertyDescriptor(s,a):_;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")e=Reflect.decorate(g,s,a,_);else for(var t=g.length-1;t>=0;t--)(h=g[t])&&(e=(r<3?h(e):r>3?h(s,a,e):h(s,a))||e);return r>3&&e&&Object.defineProperty(s,a,e),e},u=this&&this.__param||function(g,s){return function(a,_){s(a,_,g)}};Object.defineProperty(o,"__esModule",{value:!0}),o.CompositionHelper=void 0;var d=y(4725),p=y(2585),v=function(){function g(s,a,_,h,r,e){this._textarea=s,this._compositionView=a,this._bufferService=_,this._optionsService=h,this._coreService=r,this._renderService=e,this._isComposing=!1,this._isSendingComposition=!1,this._compositionPosition={start:0,end:0},this._dataAlreadySent=""}return Object.defineProperty(g.prototype,"isComposing",{get:function(){return this._isComposing},enumerable:!1,configurable:!0}),g.prototype.compositionstart=function(){this._isComposing=!0,this._compositionPosition.start=this._textarea.value.length,this._compositionView.textContent="",this._dataAlreadySent="",this._compositionView.classList.add("active")},g.prototype.compositionupdate=function(s){var a=this;this._compositionView.textContent=s.data,this.updateCompositionElements(),setTimeout(function(){a._compositionPosition.end=a._textarea.value.length},0)},g.prototype.compositionend=function(){this._finalizeComposition(!0)},g.prototype.keydown=function(s){if(this._isComposing||this._isSendingComposition){if(s.keyCode===229||s.keyCode===16||s.keyCode===17||s.keyCode===18)return!1;this._finalizeComposition(!1)}return s.keyCode!==229||(this._handleAnyTextareaChanges(),!1)},g.prototype._finalizeComposition=function(s){var a=this;if(this._compositionView.classList.remove("active"),this._isComposing=!1,s){var _={start:this._compositionPosition.start,end:this._compositionPosition.end};this._isSendingComposition=!0,setTimeout(function(){if(a._isSendingComposition){a._isSendingComposition=!1;var r;_.start+=a._dataAlreadySent.length,(r=a._isComposing?a._textarea.value.substring(_.start,_.end):a._textarea.value.substring(_.start)).length>0&&a._coreService.triggerDataEvent(r,!0)}},0)}else{this._isSendingComposition=!1;var h=this._textarea.value.substring(this._compositionPosition.start,this._compositionPosition.end);this._coreService.triggerDataEvent(h,!0)}},g.prototype._handleAnyTextareaChanges=function(){var s=this,a=this._textarea.value;setTimeout(function(){if(!s._isComposing){var _=s._textarea.value.replace(a,"");_.length>0&&(s._dataAlreadySent=_,s._coreService.triggerDataEvent(_,!0))}},0)},g.prototype.updateCompositionElements=function(s){var a=this;if(this._isComposing){if(this._bufferService.buffer.isCursorInViewport){var _=Math.min(this._bufferService.buffer.x,this._bufferService.cols-1),h=this._renderService.dimensions.actualCellHeight,r=this._bufferService.buffer.y*this._renderService.dimensions.actualCellHeight,e=_*this._renderService.dimensions.actualCellWidth;this._compositionView.style.left=e+"px",this._compositionView.style.top=r+"px",this._compositionView.style.height=h+"px",this._compositionView.style.lineHeight=h+"px",this._compositionView.style.fontFamily=this._optionsService.rawOptions.fontFamily,this._compositionView.style.fontSize=this._optionsService.rawOptions.fontSize+"px";var t=this._compositionView.getBoundingClientRect();this._textarea.style.left=e+"px",this._textarea.style.top=r+"px",this._textarea.style.width=Math.max(t.width,1)+"px",this._textarea.style.height=Math.max(t.height,1)+"px",this._textarea.style.lineHeight=t.height+"px"}s||setTimeout(function(){return a.updateCompositionElements(!0)},0)}},l([u(2,p.IBufferService),u(3,p.IOptionsService),u(4,p.ICoreService),u(5,d.IRenderService)],g)}();o.CompositionHelper=v},9806:(T,o)=>{function y(l,u,d){var p=d.getBoundingClientRect(),v=l.getComputedStyle(d),g=parseInt(v.getPropertyValue("padding-left")),s=parseInt(v.getPropertyValue("padding-top"));return[u.clientX-p.left-g,u.clientY-p.top-s]}Object.defineProperty(o,"__esModule",{value:!0}),o.getRawByteCoords=o.getCoords=o.getCoordsRelativeToElement=void 0,o.getCoordsRelativeToElement=y,o.getCoords=function(l,u,d,p,v,g,s,a,_){if(g){var h=y(l,u,d);if(h)return h[0]=Math.ceil((h[0]+(_?s/2:0))/s),h[1]=Math.ceil(h[1]/a),h[0]=Math.min(Math.max(h[0],1),p+(_?1:0)),h[1]=Math.min(Math.max(h[1],1),v),h}},o.getRawByteCoords=function(l){if(l)return{x:l[0]+32,y:l[1]+32}}},9504:(T,o,y)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.moveToCellSequence=void 0;var l=y(2584);function u(a,_,h,r){var e=a-d(h,a),t=_-d(h,_),i=Math.abs(e-t)-function(n,f,c){for(var b=0,C=n-d(c,n),m=f-d(c,f),S=0;S<Math.abs(C-m);S++){var k=p(n,f)==="A"?-1:1,A=c.buffer.lines.get(C+k*S);A?.isWrapped&&b++}return b}(a,_,h);return s(i,g(p(a,_),r))}function d(a,_){for(var h=0,r=a.buffer.lines.get(_),e=r?.isWrapped;e&&_>=0&&_<a.rows;)h++,e=(r=a.buffer.lines.get(--_))==null?void 0:r.isWrapped;return h}function p(a,_){return a>_?"A":"B"}function v(a,_,h,r,e,t){for(var i=a,n=_,f="";i!==h||n!==r;)i+=e?1:-1,e&&i>t.cols-1?(f+=t.buffer.translateBufferLineToString(n,!1,a,i),i=0,a=0,n++):!e&&i<0&&(f+=t.buffer.translateBufferLineToString(n,!1,0,a+1),a=i=t.cols-1,n--);return f+t.buffer.translateBufferLineToString(n,!1,a,i)}function g(a,_){var h=_?"O":"[";return l.C0.ESC+h+a}function s(a,_){a=Math.floor(a);for(var h="",r=0;r<a;r++)h+=_;return h}o.moveToCellSequence=function(a,_,h,r){var e,t=h.buffer.x,i=h.buffer.y;if(!h.buffer.hasScrollback)return function(f,c,b,C,m,S){return u(c,C,m,S).length===0?"":s(v(f,c,f,c-d(m,c),!1,m).length,g("D",S))}(t,i,0,_,h,r)+u(i,_,h,r)+function(f,c,b,C,m,S){var k;k=u(c,C,m,S).length>0?C-d(m,C):c;var A=C,E=function(B,R,x,D,W,z){var Y;return Y=u(x,D,W,z).length>0?D-d(W,D):R,B<x&&Y<=D||B>=x&&Y<D?"C":"D"}(f,c,b,C,m,S);return s(v(f,k,b,A,E==="C",m).length,g(E,S))}(t,i,a,_,h,r);if(i===_)return e=t>a?"D":"C",s(Math.abs(t-a),g(e,r));e=i>_?"D":"C";var n=Math.abs(i-_);return s(function(f,c){return c.cols-f}(i>_?a:t,h)+(n-1)*h.cols+1+((i>_?t:a)-1),g(e,r))}},4389:function(T,o,y){var l=this&&this.__assign||function(){return l=Object.assign||function(r){for(var e,t=1,i=arguments.length;t<i;t++)for(var n in e=arguments[t])Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n]);return r},l.apply(this,arguments)},u=this&&this.__values||function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],i=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&i>=r.length&&(r=void 0),{value:r&&r[i++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(o,"__esModule",{value:!0}),o.Terminal=void 0;var d=y(3236),p=y(9042),v=y(7975),g=y(7090),s=y(5741),a=y(8285),_=["cols","rows"],h=function(){function r(e){var t=this;this._core=new d.Terminal(e),this._addonManager=new s.AddonManager,this._publicOptions=l({},this._core.options);var i=function(b){return t._core.options[b]},n=function(b,C){t._checkReadonlyOptions(b),t._core.options[b]=C};for(var f in this._core.options){var c={get:i.bind(this,f),set:n.bind(this,f)};Object.defineProperty(this._publicOptions,f,c)}}return r.prototype._checkReadonlyOptions=function(e){if(_.includes(e))throw new Error('Option "'+e+'" can only be set in the constructor')},r.prototype._checkProposedApi=function(){if(!this._core.optionsService.rawOptions.allowProposedApi)throw new Error("You must set the allowProposedApi option to true to use proposed API")},Object.defineProperty(r.prototype,"onBell",{get:function(){return this._core.onBell},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"onBinary",{get:function(){return this._core.onBinary},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"onCursorMove",{get:function(){return this._core.onCursorMove},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"onData",{get:function(){return this._core.onData},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"onKey",{get:function(){return this._core.onKey},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"onLineFeed",{get:function(){return this._core.onLineFeed},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"onRender",{get:function(){return this._core.onRender},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"onResize",{get:function(){return this._core.onResize},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"onScroll",{get:function(){return this._core.onScroll},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"onSelectionChange",{get:function(){return this._core.onSelectionChange},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"onTitleChange",{get:function(){return this._core.onTitleChange},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"onWriteParsed",{get:function(){return this._core.onWriteParsed},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"element",{get:function(){return this._core.element},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"parser",{get:function(){return this._checkProposedApi(),this._parser||(this._parser=new v.ParserApi(this._core)),this._parser},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"unicode",{get:function(){return this._checkProposedApi(),new g.UnicodeApi(this._core)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"textarea",{get:function(){return this._core.textarea},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"rows",{get:function(){return this._core.rows},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"cols",{get:function(){return this._core.cols},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"buffer",{get:function(){return this._checkProposedApi(),this._buffer||(this._buffer=new a.BufferNamespaceApi(this._core)),this._buffer},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"markers",{get:function(){return this._checkProposedApi(),this._core.markers},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"modes",{get:function(){var e=this._core.coreService.decPrivateModes,t="none";switch(this._core.coreMouseService.activeProtocol){case"X10":t="x10";break;case"VT200":t="vt200";break;case"DRAG":t="drag";break;case"ANY":t="any"}return{applicationCursorKeysMode:e.applicationCursorKeys,applicationKeypadMode:e.applicationKeypad,bracketedPasteMode:e.bracketedPasteMode,insertMode:this._core.coreService.modes.insertMode,mouseTrackingMode:t,originMode:e.origin,reverseWraparoundMode:e.reverseWraparound,sendFocusMode:e.sendFocus,wraparoundMode:e.wraparound}},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"options",{get:function(){return this._publicOptions},set:function(e){for(var t in e)this._publicOptions[t]=e[t]},enumerable:!1,configurable:!0}),r.prototype.blur=function(){this._core.blur()},r.prototype.focus=function(){this._core.focus()},r.prototype.resize=function(e,t){this._verifyIntegers(e,t),this._core.resize(e,t)},r.prototype.open=function(e){this._core.open(e)},r.prototype.attachCustomKeyEventHandler=function(e){this._core.attachCustomKeyEventHandler(e)},r.prototype.registerLinkMatcher=function(e,t,i){return this._checkProposedApi(),this._core.registerLinkMatcher(e,t,i)},r.prototype.deregisterLinkMatcher=function(e){this._checkProposedApi(),this._core.deregisterLinkMatcher(e)},r.prototype.registerLinkProvider=function(e){return this._checkProposedApi(),this._core.registerLinkProvider(e)},r.prototype.registerCharacterJoiner=function(e){return this._checkProposedApi(),this._core.registerCharacterJoiner(e)},r.prototype.deregisterCharacterJoiner=function(e){this._checkProposedApi(),this._core.deregisterCharacterJoiner(e)},r.prototype.registerMarker=function(e){return e===void 0&&(e=0),this._checkProposedApi(),this._verifyIntegers(e),this._core.addMarker(e)},r.prototype.registerDecoration=function(e){var t,i,n;return this._checkProposedApi(),this._verifyPositiveIntegers((t=e.x)!==null&&t!==void 0?t:0,(i=e.width)!==null&&i!==void 0?i:0,(n=e.height)!==null&&n!==void 0?n:0),this._core.registerDecoration(e)},r.prototype.addMarker=function(e){return this.registerMarker(e)},r.prototype.hasSelection=function(){return this._core.hasSelection()},r.prototype.select=function(e,t,i){this._verifyIntegers(e,t,i),this._core.select(e,t,i)},r.prototype.getSelection=function(){return this._core.getSelection()},r.prototype.getSelectionPosition=function(){return this._core.getSelectionPosition()},r.prototype.clearSelection=function(){this._core.clearSelection()},r.prototype.selectAll=function(){this._core.selectAll()},r.prototype.selectLines=function(e,t){this._verifyIntegers(e,t),this._core.selectLines(e,t)},r.prototype.dispose=function(){this._addonManager.dispose(),this._core.dispose()},r.prototype.scrollLines=function(e){this._verifyIntegers(e),this._core.scrollLines(e)},r.prototype.scrollPages=function(e){this._verifyIntegers(e),this._core.scrollPages(e)},r.prototype.scrollToTop=function(){this._core.scrollToTop()},r.prototype.scrollToBottom=function(){this._core.scrollToBottom()},r.prototype.scrollToLine=function(e){this._verifyIntegers(e),this._core.scrollToLine(e)},r.prototype.clear=function(){this._core.clear()},r.prototype.write=function(e,t){this._core.write(e,t)},r.prototype.writeUtf8=function(e,t){this._core.write(e,t)},r.prototype.writeln=function(e,t){this._core.write(e),this._core.write(`\r
`,t)},r.prototype.paste=function(e){this._core.paste(e)},r.prototype.getOption=function(e){return this._core.optionsService.getOption(e)},r.prototype.setOption=function(e,t){this._checkReadonlyOptions(e),this._core.optionsService.setOption(e,t)},r.prototype.refresh=function(e,t){this._verifyIntegers(e,t),this._core.refresh(e,t)},r.prototype.reset=function(){this._core.reset()},r.prototype.clearTextureAtlas=function(){this._core.clearTextureAtlas()},r.prototype.loadAddon=function(e){return this._addonManager.loadAddon(this,e)},Object.defineProperty(r,"strings",{get:function(){return p},enumerable:!1,configurable:!0}),r.prototype._verifyIntegers=function(){for(var e,t,i=[],n=0;n<arguments.length;n++)i[n]=arguments[n];try{for(var f=u(i),c=f.next();!c.done;c=f.next()){var b=c.value;if(b===1/0||isNaN(b)||b%1!=0)throw new Error("This API only accepts integers")}}catch(C){e={error:C}}finally{try{c&&!c.done&&(t=f.return)&&t.call(f)}finally{if(e)throw e.error}}},r.prototype._verifyPositiveIntegers=function(){for(var e,t,i=[],n=0;n<arguments.length;n++)i[n]=arguments[n];try{for(var f=u(i),c=f.next();!c.done;c=f.next()){var b=c.value;if(b&&(b===1/0||isNaN(b)||b%1!=0||b<0))throw new Error("This API only accepts positive integers")}}catch(C){e={error:C}}finally{try{c&&!c.done&&(t=f.return)&&t.call(f)}finally{if(e)throw e.error}}},r}();o.Terminal=h},1546:function(T,o,y){var l=this&&this.__values||function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],i=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&i>=r.length&&(r=void 0),{value:r&&r[i++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(o,"__esModule",{value:!0}),o.BaseRenderLayer=void 0;var u=y(643),d=y(8803),p=y(1420),v=y(3734),g=y(1752),s=y(8055),a=y(9631),_=y(8978),h=function(){function r(e,t,i,n,f,c,b,C,m){this._container=e,this._alpha=n,this._colors=f,this._rendererId=c,this._bufferService=b,this._optionsService=C,this._decorationService=m,this._scaledCharWidth=0,this._scaledCharHeight=0,this._scaledCellWidth=0,this._scaledCellHeight=0,this._scaledCharLeft=0,this._scaledCharTop=0,this._columnSelectMode=!1,this._currentGlyphIdentifier={chars:"",code:0,bg:0,fg:0,bold:!1,dim:!1,italic:!1},this._canvas=document.createElement("canvas"),this._canvas.classList.add("xterm-"+t+"-layer"),this._canvas.style.zIndex=i.toString(),this._initCanvas(),this._container.appendChild(this._canvas)}return r.prototype.dispose=function(){var e;(0,a.removeElementFromParent)(this._canvas),(e=this._charAtlas)===null||e===void 0||e.dispose()},r.prototype._initCanvas=function(){this._ctx=(0,g.throwIfFalsy)(this._canvas.getContext("2d",{alpha:this._alpha})),this._alpha||this._clearAll()},r.prototype.onOptionsChanged=function(){},r.prototype.onBlur=function(){},r.prototype.onFocus=function(){},r.prototype.onCursorMove=function(){},r.prototype.onGridChanged=function(e,t){},r.prototype.onSelectionChanged=function(e,t,i){i===void 0&&(i=!1),this._selectionStart=e,this._selectionEnd=t,this._columnSelectMode=i},r.prototype.setColors=function(e){this._refreshCharAtlas(e)},r.prototype._setTransparency=function(e){if(e!==this._alpha){var t=this._canvas;this._alpha=e,this._canvas=this._canvas.cloneNode(),this._initCanvas(),this._container.replaceChild(this._canvas,t),this._refreshCharAtlas(this._colors),this.onGridChanged(0,this._bufferService.rows-1)}},r.prototype._refreshCharAtlas=function(e){this._scaledCharWidth<=0&&this._scaledCharHeight<=0||(this._charAtlas=(0,p.acquireCharAtlas)(this._optionsService.rawOptions,this._rendererId,e,this._scaledCharWidth,this._scaledCharHeight),this._charAtlas.warmUp())},r.prototype.resize=function(e){this._scaledCellWidth=e.scaledCellWidth,this._scaledCellHeight=e.scaledCellHeight,this._scaledCharWidth=e.scaledCharWidth,this._scaledCharHeight=e.scaledCharHeight,this._scaledCharLeft=e.scaledCharLeft,this._scaledCharTop=e.scaledCharTop,this._canvas.width=e.scaledCanvasWidth,this._canvas.height=e.scaledCanvasHeight,this._canvas.style.width=e.canvasWidth+"px",this._canvas.style.height=e.canvasHeight+"px",this._alpha||this._clearAll(),this._refreshCharAtlas(this._colors)},r.prototype.clearTextureAtlas=function(){var e;(e=this._charAtlas)===null||e===void 0||e.clear()},r.prototype._fillCells=function(e,t,i,n){this._ctx.fillRect(e*this._scaledCellWidth,t*this._scaledCellHeight,i*this._scaledCellWidth,n*this._scaledCellHeight)},r.prototype._fillMiddleLineAtCells=function(e,t,i){i===void 0&&(i=1);var n=Math.ceil(.5*this._scaledCellHeight);this._ctx.fillRect(e*this._scaledCellWidth,(t+1)*this._scaledCellHeight-n-window.devicePixelRatio,i*this._scaledCellWidth,window.devicePixelRatio)},r.prototype._fillBottomLineAtCells=function(e,t,i){i===void 0&&(i=1),this._ctx.fillRect(e*this._scaledCellWidth,(t+1)*this._scaledCellHeight-window.devicePixelRatio-1,i*this._scaledCellWidth,window.devicePixelRatio)},r.prototype._fillLeftLineAtCell=function(e,t,i){this._ctx.fillRect(e*this._scaledCellWidth,t*this._scaledCellHeight,window.devicePixelRatio*i,this._scaledCellHeight)},r.prototype._strokeRectAtCell=function(e,t,i,n){this._ctx.lineWidth=window.devicePixelRatio,this._ctx.strokeRect(e*this._scaledCellWidth+window.devicePixelRatio/2,t*this._scaledCellHeight+window.devicePixelRatio/2,i*this._scaledCellWidth-window.devicePixelRatio,n*this._scaledCellHeight-window.devicePixelRatio)},r.prototype._clearAll=function(){this._alpha?this._ctx.clearRect(0,0,this._canvas.width,this._canvas.height):(this._ctx.fillStyle=this._colors.background.css,this._ctx.fillRect(0,0,this._canvas.width,this._canvas.height))},r.prototype._clearCells=function(e,t,i,n){this._alpha?this._ctx.clearRect(e*this._scaledCellWidth,t*this._scaledCellHeight,i*this._scaledCellWidth,n*this._scaledCellHeight):(this._ctx.fillStyle=this._colors.background.css,this._ctx.fillRect(e*this._scaledCellWidth,t*this._scaledCellHeight,i*this._scaledCellWidth,n*this._scaledCellHeight))},r.prototype._fillCharTrueColor=function(e,t,i){this._ctx.font=this._getFont(!1,!1),this._ctx.textBaseline=d.TEXT_BASELINE,this._clipRow(i);var n=!1;this._optionsService.rawOptions.customGlyphs!==!1&&(n=(0,_.tryDrawCustomChar)(this._ctx,e.getChars(),t*this._scaledCellWidth,i*this._scaledCellHeight,this._scaledCellWidth,this._scaledCellHeight)),n||this._ctx.fillText(e.getChars(),t*this._scaledCellWidth+this._scaledCharLeft,i*this._scaledCellHeight+this._scaledCharTop+this._scaledCharHeight)},r.prototype._drawChars=function(e,t,i){var n,f,c,b=this._getContrastColor(e,t,i);if(b||e.isFgRGB()||e.isBgRGB())this._drawUncachedChars(e,t,i,b);else{var C,m;e.isInverse()?(C=e.isBgDefault()?d.INVERTED_DEFAULT_COLOR:e.getBgColor(),m=e.isFgDefault()?d.INVERTED_DEFAULT_COLOR:e.getFgColor()):(m=e.isBgDefault()?u.DEFAULT_COLOR:e.getBgColor(),C=e.isFgDefault()?u.DEFAULT_COLOR:e.getFgColor()),C+=this._optionsService.rawOptions.drawBoldTextInBrightColors&&e.isBold()&&C<8?8:0,this._currentGlyphIdentifier.chars=e.getChars()||u.WHITESPACE_CELL_CHAR,this._currentGlyphIdentifier.code=e.getCode()||u.WHITESPACE_CELL_CODE,this._currentGlyphIdentifier.bg=m,this._currentGlyphIdentifier.fg=C,this._currentGlyphIdentifier.bold=!!e.isBold(),this._currentGlyphIdentifier.dim=!!e.isDim(),this._currentGlyphIdentifier.italic=!!e.isItalic();var S=!1;try{for(var k=l(this._decorationService.getDecorationsAtCell(t,i)),A=k.next();!A.done;A=k.next()){var E=A.value;if(E.backgroundColorRGB||E.foregroundColorRGB){S=!0;break}}}catch(B){n={error:B}}finally{try{A&&!A.done&&(f=k.return)&&f.call(k)}finally{if(n)throw n.error}}!S&&((c=this._charAtlas)===null||c===void 0?void 0:c.draw(this._ctx,this._currentGlyphIdentifier,t*this._scaledCellWidth+this._scaledCharLeft,i*this._scaledCellHeight+this._scaledCharTop))||this._drawUncachedChars(e,t,i)}},r.prototype._drawUncachedChars=function(e,t,i,n){if(this._ctx.save(),this._ctx.font=this._getFont(!!e.isBold(),!!e.isItalic()),this._ctx.textBaseline=d.TEXT_BASELINE,e.isInverse())if(n)this._ctx.fillStyle=n.css;else if(e.isBgDefault())this._ctx.fillStyle=s.color.opaque(this._colors.background).css;else if(e.isBgRGB())this._ctx.fillStyle="rgb("+v.AttributeData.toColorRGB(e.getBgColor()).join(",")+")";else{var f=e.getBgColor();this._optionsService.rawOptions.drawBoldTextInBrightColors&&e.isBold()&&f<8&&(f+=8),this._ctx.fillStyle=this._colors.ansi[f].css}else if(n)this._ctx.fillStyle=n.css;else if(e.isFgDefault())this._ctx.fillStyle=this._colors.foreground.css;else if(e.isFgRGB())this._ctx.fillStyle="rgb("+v.AttributeData.toColorRGB(e.getFgColor()).join(",")+")";else{var c=e.getFgColor();this._optionsService.rawOptions.drawBoldTextInBrightColors&&e.isBold()&&c<8&&(c+=8),this._ctx.fillStyle=this._colors.ansi[c].css}this._clipRow(i),e.isDim()&&(this._ctx.globalAlpha=d.DIM_OPACITY);var b=!1;this._optionsService.rawOptions.customGlyphs!==!1&&(b=(0,_.tryDrawCustomChar)(this._ctx,e.getChars(),t*this._scaledCellWidth,i*this._scaledCellHeight,this._scaledCellWidth,this._scaledCellHeight)),b||this._ctx.fillText(e.getChars(),t*this._scaledCellWidth+this._scaledCharLeft,i*this._scaledCellHeight+this._scaledCharTop+this._scaledCharHeight),this._ctx.restore()},r.prototype._clipRow=function(e){this._ctx.beginPath(),this._ctx.rect(0,e*this._scaledCellHeight,this._bufferService.cols*this._scaledCellWidth,this._scaledCellHeight),this._ctx.clip()},r.prototype._getFont=function(e,t){return(t?"italic":"")+" "+(e?this._optionsService.rawOptions.fontWeightBold:this._optionsService.rawOptions.fontWeight)+" "+this._optionsService.rawOptions.fontSize*window.devicePixelRatio+"px "+this._optionsService.rawOptions.fontFamily},r.prototype._getContrastColor=function(e,t,i){var n,f,c,b,C=!1;try{for(var m=l(this._decorationService.getDecorationsAtCell(t,i)),S=m.next();!S.done;S=m.next()){var k=S.value;k.options.layer!=="top"&&C||(k.backgroundColorRGB&&(c=k.backgroundColorRGB.rgba),k.foregroundColorRGB&&(b=k.foregroundColorRGB.rgba),C=k.options.layer==="top")}}catch(ee){n={error:ee}}finally{try{S&&!S.done&&(f=m.return)&&f.call(m)}finally{if(n)throw n.error}}if(C||this._colors.selectionForeground&&this._isCellInSelection(t,i)&&(b=this._colors.selectionForeground.rgba),c||b||this._optionsService.rawOptions.minimumContrastRatio!==1&&!(0,g.excludeFromContrastRatioDemands)(e.getCode())){if(!c&&!b){var A=this._colors.contrastCache.getColor(e.bg,e.fg);if(A!==void 0)return A||void 0}var E=e.getFgColor(),B=e.getFgColorMode(),R=e.getBgColor(),x=e.getBgColorMode(),D=!!e.isInverse(),W=!!e.isInverse();if(D){var z=E;E=R,R=z;var Y=B;B=x,x=Y}var N=this._resolveBackgroundRgba(c!==void 0?50331648:x,c??R,D),V=this._resolveForegroundRgba(B,E,D,W),K=s.rgba.ensureContrastRatio(c??N,b??V,this._optionsService.rawOptions.minimumContrastRatio);if(!K){if(!b)return void this._colors.contrastCache.setColor(e.bg,e.fg,null);K=b}var O={css:s.channels.toCss(K>>24&255,K>>16&255,K>>8&255),rgba:K};return c||b||this._colors.contrastCache.setColor(e.bg,e.fg,O),O}},r.prototype._resolveBackgroundRgba=function(e,t,i){switch(e){case 16777216:case 33554432:return this._colors.ansi[t].rgba;case 50331648:return t<<8;default:return i?this._colors.foreground.rgba:this._colors.background.rgba}},r.prototype._resolveForegroundRgba=function(e,t,i,n){switch(e){case 16777216:case 33554432:return this._optionsService.rawOptions.drawBoldTextInBrightColors&&n&&t<8&&(t+=8),this._colors.ansi[t].rgba;case 50331648:return t<<8;default:return i?this._colors.background.rgba:this._colors.foreground.rgba}},r.prototype._isCellInSelection=function(e,t){var i=this._selectionStart,n=this._selectionEnd;return!(!i||!n)&&(this._columnSelectMode?e>=i[0]&&t>=i[1]&&e<n[0]&&t<n[1]:t>i[1]&&t<n[1]||i[1]===n[1]&&t===i[1]&&e>=i[0]&&e<n[0]||i[1]<n[1]&&t===n[1]&&e<n[0]||i[1]<n[1]&&t===i[1]&&e>=i[0])},r}();o.BaseRenderLayer=h},2512:function(T,o,y){var l,u=this&&this.__extends||(l=function(e,t){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var f in n)Object.prototype.hasOwnProperty.call(n,f)&&(i[f]=n[f])},l(e,t)},function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function i(){this.constructor=e}l(e,t),e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}),d=this&&this.__decorate||function(e,t,i,n){var f,c=arguments.length,b=c<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,i):n;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")b=Reflect.decorate(e,t,i,n);else for(var C=e.length-1;C>=0;C--)(f=e[C])&&(b=(c<3?f(b):c>3?f(t,i,b):f(t,i))||b);return c>3&&b&&Object.defineProperty(t,i,b),b},p=this&&this.__param||function(e,t){return function(i,n){t(i,n,e)}};Object.defineProperty(o,"__esModule",{value:!0}),o.CursorRenderLayer=void 0;var v=y(1546),g=y(511),s=y(2585),a=y(4725),_=600,h=function(e){function t(i,n,f,c,b,C,m,S,k,A){var E=e.call(this,i,"cursor",n,!0,f,c,C,m,A)||this;return E._onRequestRedraw=b,E._coreService=S,E._coreBrowserService=k,E._cell=new g.CellData,E._state={x:0,y:0,isFocused:!1,style:"",width:0},E._cursorRenderers={bar:E._renderBarCursor.bind(E),block:E._renderBlockCursor.bind(E),underline:E._renderUnderlineCursor.bind(E)},E}return u(t,e),t.prototype.dispose=function(){this._cursorBlinkStateManager&&(this._cursorBlinkStateManager.dispose(),this._cursorBlinkStateManager=void 0),e.prototype.dispose.call(this)},t.prototype.resize=function(i){e.prototype.resize.call(this,i),this._state={x:0,y:0,isFocused:!1,style:"",width:0}},t.prototype.reset=function(){var i;this._clearCursor(),(i=this._cursorBlinkStateManager)===null||i===void 0||i.restartBlinkAnimation(),this.onOptionsChanged()},t.prototype.onBlur=function(){var i;(i=this._cursorBlinkStateManager)===null||i===void 0||i.pause(),this._onRequestRedraw.fire({start:this._bufferService.buffer.y,end:this._bufferService.buffer.y})},t.prototype.onFocus=function(){var i;(i=this._cursorBlinkStateManager)===null||i===void 0||i.resume(),this._onRequestRedraw.fire({start:this._bufferService.buffer.y,end:this._bufferService.buffer.y})},t.prototype.onOptionsChanged=function(){var i,n=this;this._optionsService.rawOptions.cursorBlink?this._cursorBlinkStateManager||(this._cursorBlinkStateManager=new r(this._coreBrowserService.isFocused,function(){n._render(!0)})):((i=this._cursorBlinkStateManager)===null||i===void 0||i.dispose(),this._cursorBlinkStateManager=void 0),this._onRequestRedraw.fire({start:this._bufferService.buffer.y,end:this._bufferService.buffer.y})},t.prototype.onCursorMove=function(){var i;(i=this._cursorBlinkStateManager)===null||i===void 0||i.restartBlinkAnimation()},t.prototype.onGridChanged=function(i,n){!this._cursorBlinkStateManager||this._cursorBlinkStateManager.isPaused?this._render(!1):this._cursorBlinkStateManager.restartBlinkAnimation()},t.prototype._render=function(i){if(this._coreService.isCursorInitialized&&!this._coreService.isCursorHidden){var n=this._bufferService.buffer.ybase+this._bufferService.buffer.y,f=n-this._bufferService.buffer.ydisp;if(f<0||f>=this._bufferService.rows)this._clearCursor();else{var c=Math.min(this._bufferService.buffer.x,this._bufferService.cols-1);if(this._bufferService.buffer.lines.get(n).loadCell(c,this._cell),this._cell.content!==void 0){if(!this._coreBrowserService.isFocused){this._clearCursor(),this._ctx.save(),this._ctx.fillStyle=this._colors.cursor.css;var b=this._optionsService.rawOptions.cursorStyle;return b&&b!=="block"?this._cursorRenderers[b](c,f,this._cell):this._renderBlurCursor(c,f,this._cell),this._ctx.restore(),this._state.x=c,this._state.y=f,this._state.isFocused=!1,this._state.style=b,void(this._state.width=this._cell.getWidth())}if(!this._cursorBlinkStateManager||this._cursorBlinkStateManager.isCursorVisible){if(this._state){if(this._state.x===c&&this._state.y===f&&this._state.isFocused===this._coreBrowserService.isFocused&&this._state.style===this._optionsService.rawOptions.cursorStyle&&this._state.width===this._cell.getWidth())return;this._clearCursor()}this._ctx.save(),this._cursorRenderers[this._optionsService.rawOptions.cursorStyle||"block"](c,f,this._cell),this._ctx.restore(),this._state.x=c,this._state.y=f,this._state.isFocused=!1,this._state.style=this._optionsService.rawOptions.cursorStyle,this._state.width=this._cell.getWidth()}else this._clearCursor()}}}else this._clearCursor()},t.prototype._clearCursor=function(){this._state&&(window.devicePixelRatio<1?this._clearAll():this._clearCells(this._state.x,this._state.y,this._state.width,1),this._state={x:0,y:0,isFocused:!1,style:"",width:0})},t.prototype._renderBarCursor=function(i,n,f){this._ctx.save(),this._ctx.fillStyle=this._colors.cursor.css,this._fillLeftLineAtCell(i,n,this._optionsService.rawOptions.cursorWidth),this._ctx.restore()},t.prototype._renderBlockCursor=function(i,n,f){this._ctx.save(),this._ctx.fillStyle=this._colors.cursor.css,this._fillCells(i,n,f.getWidth(),1),this._ctx.fillStyle=this._colors.cursorAccent.css,this._fillCharTrueColor(f,i,n),this._ctx.restore()},t.prototype._renderUnderlineCursor=function(i,n,f){this._ctx.save(),this._ctx.fillStyle=this._colors.cursor.css,this._fillBottomLineAtCells(i,n),this._ctx.restore()},t.prototype._renderBlurCursor=function(i,n,f){this._ctx.save(),this._ctx.strokeStyle=this._colors.cursor.css,this._strokeRectAtCell(i,n,f.getWidth(),1),this._ctx.restore()},d([p(5,s.IBufferService),p(6,s.IOptionsService),p(7,s.ICoreService),p(8,a.ICoreBrowserService),p(9,s.IDecorationService)],t)}(v.BaseRenderLayer);o.CursorRenderLayer=h;var r=function(){function e(t,i){this._renderCallback=i,this.isCursorVisible=!0,t&&this._restartInterval()}return Object.defineProperty(e.prototype,"isPaused",{get:function(){return!(this._blinkStartTimeout||this._blinkInterval)},enumerable:!1,configurable:!0}),e.prototype.dispose=function(){this._blinkInterval&&(window.clearInterval(this._blinkInterval),this._blinkInterval=void 0),this._blinkStartTimeout&&(window.clearTimeout(this._blinkStartTimeout),this._blinkStartTimeout=void 0),this._animationFrame&&(window.cancelAnimationFrame(this._animationFrame),this._animationFrame=void 0)},e.prototype.restartBlinkAnimation=function(){var t=this;this.isPaused||(this._animationTimeRestarted=Date.now(),this.isCursorVisible=!0,this._animationFrame||(this._animationFrame=window.requestAnimationFrame(function(){t._renderCallback(),t._animationFrame=void 0})))},e.prototype._restartInterval=function(t){var i=this;t===void 0&&(t=_),this._blinkInterval&&(window.clearInterval(this._blinkInterval),this._blinkInterval=void 0),this._blinkStartTimeout=window.setTimeout(function(){if(i._animationTimeRestarted){var n=_-(Date.now()-i._animationTimeRestarted);if(i._animationTimeRestarted=void 0,n>0)return void i._restartInterval(n)}i.isCursorVisible=!1,i._animationFrame=window.requestAnimationFrame(function(){i._renderCallback(),i._animationFrame=void 0}),i._blinkInterval=window.setInterval(function(){if(i._animationTimeRestarted){var f=_-(Date.now()-i._animationTimeRestarted);return i._animationTimeRestarted=void 0,void i._restartInterval(f)}i.isCursorVisible=!i.isCursorVisible,i._animationFrame=window.requestAnimationFrame(function(){i._renderCallback(),i._animationFrame=void 0})},_)},t)},e.prototype.pause=function(){this.isCursorVisible=!0,this._blinkInterval&&(window.clearInterval(this._blinkInterval),this._blinkInterval=void 0),this._blinkStartTimeout&&(window.clearTimeout(this._blinkStartTimeout),this._blinkStartTimeout=void 0),this._animationFrame&&(window.cancelAnimationFrame(this._animationFrame),this._animationFrame=void 0)},e.prototype.resume=function(){this.pause(),this._animationTimeRestarted=void 0,this._restartInterval(),this.restartBlinkAnimation()},e}()},8978:function(T,o,y){var l,u,d,p,v,g,s,a,_,h,r,e,t,i,n,f,c,b,C,m,S,k,A,E,B,R,x,D,W,z,Y,N,V,K,O,ee,Q,ne,F,re,J,G,P,I,q,X,Z,te,se,le,he,$,fe,_e,ke,We,qt,Nt,Gt,zt,Yt,Kt,ze,Ye,Ke,Ve,$e,Xe,Ze,Je,Qe,et,tt,rt,it,nt,ot,st,at,ct,lt,ht,ft,ut,dt,_t,gt,pt,bt,vt,yt,mt,St,Ct,wt,kt,Lt,Et,xt,Rt,Mt,Bt,At,Ot,Dt,Tt,Pt,It,Ht,Wt,Ft,jt,Vt,$t,Xt,Zt,Jt,Qt,er,tr,rr,ir,nr,or,sr,ar,cr,lr,vr=this&&this.__read||function(j,U){var ce=typeof Symbol=="function"&&j[Symbol.iterator];if(!ce)return j;var ge,Le,be=ce.call(j),ae=[];try{for(;(U===void 0||U-- >0)&&!(ge=be.next()).done;)ae.push(ge.value)}catch(Ce){Le={error:Ce}}finally{try{ge&&!ge.done&&(ce=be.return)&&ce.call(be)}finally{if(Le)throw Le.error}}return ae},hr=this&&this.__values||function(j){var U=typeof Symbol=="function"&&Symbol.iterator,ce=U&&j[U],ge=0;if(ce)return ce.call(j);if(j&&typeof j.length=="number")return{next:function(){return j&&ge>=j.length&&(j=void 0),{value:j&&j[ge++],done:!j}}};throw new TypeError(U?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(o,"__esModule",{value:!0}),o.tryDrawCustomChar=o.powerlineDefinitions=o.boxDrawingDefinitions=o.blockElementDefinitions=void 0;var yr=y(1752);o.blockElementDefinitions={"\u2580":[{x:0,y:0,w:8,h:4}],"\u2581":[{x:0,y:7,w:8,h:1}],"\u2582":[{x:0,y:6,w:8,h:2}],"\u2583":[{x:0,y:5,w:8,h:3}],"\u2584":[{x:0,y:4,w:8,h:4}],"\u2585":[{x:0,y:3,w:8,h:5}],"\u2586":[{x:0,y:2,w:8,h:6}],"\u2587":[{x:0,y:1,w:8,h:7}],"\u2588":[{x:0,y:0,w:8,h:8}],"\u2589":[{x:0,y:0,w:7,h:8}],"\u258A":[{x:0,y:0,w:6,h:8}],"\u258B":[{x:0,y:0,w:5,h:8}],"\u258C":[{x:0,y:0,w:4,h:8}],"\u258D":[{x:0,y:0,w:3,h:8}],"\u258E":[{x:0,y:0,w:2,h:8}],"\u258F":[{x:0,y:0,w:1,h:8}],"\u2590":[{x:4,y:0,w:4,h:8}],"\u2594":[{x:0,y:0,w:9,h:1}],"\u2595":[{x:7,y:0,w:1,h:8}],"\u2596":[{x:0,y:4,w:4,h:4}],"\u2597":[{x:4,y:4,w:4,h:4}],"\u2598":[{x:0,y:0,w:4,h:4}],"\u2599":[{x:0,y:0,w:4,h:8},{x:0,y:4,w:8,h:4}],"\u259A":[{x:0,y:0,w:4,h:4},{x:4,y:4,w:4,h:4}],"\u259B":[{x:0,y:0,w:4,h:8},{x:0,y:0,w:4,h:8}],"\u259C":[{x:0,y:0,w:8,h:4},{x:4,y:0,w:4,h:8}],"\u259D":[{x:4,y:0,w:4,h:4}],"\u259E":[{x:4,y:0,w:4,h:4},{x:0,y:4,w:4,h:4}],"\u259F":[{x:4,y:0,w:4,h:8},{x:0,y:4,w:8,h:4}],"\u{1FB70}":[{x:1,y:0,w:1,h:8}],"\u{1FB71}":[{x:2,y:0,w:1,h:8}],"\u{1FB72}":[{x:3,y:0,w:1,h:8}],"\u{1FB73}":[{x:4,y:0,w:1,h:8}],"\u{1FB74}":[{x:5,y:0,w:1,h:8}],"\u{1FB75}":[{x:6,y:0,w:1,h:8}],"\u{1FB76}":[{x:0,y:1,w:8,h:1}],"\u{1FB77}":[{x:0,y:2,w:8,h:1}],"\u{1FB78}":[{x:0,y:3,w:8,h:1}],"\u{1FB79}":[{x:0,y:4,w:8,h:1}],"\u{1FB7A}":[{x:0,y:5,w:8,h:1}],"\u{1FB7B}":[{x:0,y:6,w:8,h:1}],"\u{1FB7C}":[{x:0,y:0,w:1,h:8},{x:0,y:7,w:8,h:1}],"\u{1FB7D}":[{x:0,y:0,w:1,h:8},{x:0,y:0,w:8,h:1}],"\u{1FB7E}":[{x:7,y:0,w:1,h:8},{x:0,y:0,w:8,h:1}],"\u{1FB7F}":[{x:7,y:0,w:1,h:8},{x:0,y:7,w:8,h:1}],"\u{1FB80}":[{x:0,y:0,w:8,h:1},{x:0,y:7,w:8,h:1}],"\u{1FB81}":[{x:0,y:0,w:8,h:1},{x:0,y:2,w:8,h:1},{x:0,y:4,w:8,h:1},{x:0,y:7,w:8,h:1}],"\u{1FB82}":[{x:0,y:0,w:8,h:2}],"\u{1FB83}":[{x:0,y:0,w:8,h:3}],"\u{1FB84}":[{x:0,y:0,w:8,h:5}],"\u{1FB85}":[{x:0,y:0,w:8,h:6}],"\u{1FB86}":[{x:0,y:0,w:8,h:7}],"\u{1FB87}":[{x:6,y:0,w:2,h:8}],"\u{1FB88}":[{x:5,y:0,w:3,h:8}],"\u{1FB89}":[{x:3,y:0,w:5,h:8}],"\u{1FB8A}":[{x:2,y:0,w:6,h:8}],"\u{1FB8B}":[{x:1,y:0,w:7,h:8}],"\u{1FB95}":[{x:0,y:0,w:2,h:2},{x:4,y:0,w:2,h:2},{x:2,y:2,w:2,h:2},{x:6,y:2,w:2,h:2},{x:0,y:4,w:2,h:2},{x:4,y:4,w:2,h:2},{x:2,y:6,w:2,h:2},{x:6,y:6,w:2,h:2}],"\u{1FB96}":[{x:2,y:0,w:2,h:2},{x:6,y:0,w:2,h:2},{x:0,y:2,w:2,h:2},{x:4,y:2,w:2,h:2},{x:2,y:4,w:2,h:2},{x:6,y:4,w:2,h:2},{x:0,y:6,w:2,h:2},{x:4,y:6,w:2,h:2}],"\u{1FB97}":[{x:0,y:2,w:8,h:2},{x:0,y:6,w:8,h:2}]};var Dr={"\u2591":[[1,0,0,0],[0,0,0,0],[0,0,1,0],[0,0,0,0]],"\u2592":[[1,0],[0,0],[0,1],[0,0]],"\u2593":[[0,1],[1,1],[1,0],[1,1]]};o.boxDrawingDefinitions={"\u2500":(l={},l[1]="M0,.5 L1,.5",l),"\u2501":(u={},u[3]="M0,.5 L1,.5",u),"\u2502":(d={},d[1]="M.5,0 L.5,1",d),"\u2503":(p={},p[3]="M.5,0 L.5,1",p),"\u250C":(v={},v[1]="M0.5,1 L.5,.5 L1,.5",v),"\u250F":(g={},g[3]="M0.5,1 L.5,.5 L1,.5",g),"\u2510":(s={},s[1]="M0,.5 L.5,.5 L.5,1",s),"\u2513":(a={},a[3]="M0,.5 L.5,.5 L.5,1",a),"\u2514":(_={},_[1]="M.5,0 L.5,.5 L1,.5",_),"\u2517":(h={},h[3]="M.5,0 L.5,.5 L1,.5",h),"\u2518":(r={},r[1]="M.5,0 L.5,.5 L0,.5",r),"\u251B":(e={},e[3]="M.5,0 L.5,.5 L0,.5",e),"\u251C":(t={},t[1]="M.5,0 L.5,1 M.5,.5 L1,.5",t),"\u2523":(i={},i[3]="M.5,0 L.5,1 M.5,.5 L1,.5",i),"\u2524":(n={},n[1]="M.5,0 L.5,1 M.5,.5 L0,.5",n),"\u252B":(f={},f[3]="M.5,0 L.5,1 M.5,.5 L0,.5",f),"\u252C":(c={},c[1]="M0,.5 L1,.5 M.5,.5 L.5,1",c),"\u2533":(b={},b[3]="M0,.5 L1,.5 M.5,.5 L.5,1",b),"\u2534":(C={},C[1]="M0,.5 L1,.5 M.5,.5 L.5,0",C),"\u253B":(m={},m[3]="M0,.5 L1,.5 M.5,.5 L.5,0",m),"\u253C":(S={},S[1]="M0,.5 L1,.5 M.5,0 L.5,1",S),"\u254B":(k={},k[3]="M0,.5 L1,.5 M.5,0 L.5,1",k),"\u2574":(A={},A[1]="M.5,.5 L0,.5",A),"\u2578":(E={},E[3]="M.5,.5 L0,.5",E),"\u2575":(B={},B[1]="M.5,.5 L.5,0",B),"\u2579":(R={},R[3]="M.5,.5 L.5,0",R),"\u2576":(x={},x[1]="M.5,.5 L1,.5",x),"\u257A":(D={},D[3]="M.5,.5 L1,.5",D),"\u2577":(W={},W[1]="M.5,.5 L.5,1",W),"\u257B":(z={},z[3]="M.5,.5 L.5,1",z),"\u2550":(Y={},Y[1]=function(j,U){return"M0,"+(.5-U)+" L1,"+(.5-U)+" M0,"+(.5+U)+" L1,"+(.5+U)},Y),"\u2551":(N={},N[1]=function(j,U){return"M"+(.5-j)+",0 L"+(.5-j)+",1 M"+(.5+j)+",0 L"+(.5+j)+",1"},N),"\u2552":(V={},V[1]=function(j,U){return"M.5,1 L.5,"+(.5-U)+" L1,"+(.5-U)+" M.5,"+(.5+U)+" L1,"+(.5+U)},V),"\u2553":(K={},K[1]=function(j,U){return"M"+(.5-j)+",1 L"+(.5-j)+",.5 L1,.5 M"+(.5+j)+",.5 L"+(.5+j)+",1"},K),"\u2554":(O={},O[1]=function(j,U){return"M1,"+(.5-U)+" L"+(.5-j)+","+(.5-U)+" L"+(.5-j)+",1 M1,"+(.5+U)+" L"+(.5+j)+","+(.5+U)+" L"+(.5+j)+",1"},O),"\u2555":(ee={},ee[1]=function(j,U){return"M0,"+(.5-U)+" L.5,"+(.5-U)+" L.5,1 M0,"+(.5+U)+" L.5,"+(.5+U)},ee),"\u2556":(Q={},Q[1]=function(j,U){return"M"+(.5+j)+",1 L"+(.5+j)+",.5 L0,.5 M"+(.5-j)+",.5 L"+(.5-j)+",1"},Q),"\u2557":(ne={},ne[1]=function(j,U){return"M0,"+(.5+U)+" L"+(.5-j)+","+(.5+U)+" L"+(.5-j)+",1 M0,"+(.5-U)+" L"+(.5+j)+","+(.5-U)+" L"+(.5+j)+",1"},ne),"\u2558":(F={},F[1]=function(j,U){return"M.5,0 L.5,"+(.5+U)+" L1,"+(.5+U)+" M.5,"+(.5-U)+" L1,"+(.5-U)},F),"\u2559":(re={},re[1]=function(j,U){return"M1,.5 L"+(.5-j)+",.5 L"+(.5-j)+",0 M"+(.5+j)+",.5 L"+(.5+j)+",0"},re),"\u255A":(J={},J[1]=function(j,U){return"M1,"+(.5-U)+" L"+(.5+j)+","+(.5-U)+" L"+(.5+j)+",0 M1,"+(.5+U)+" L"+(.5-j)+","+(.5+U)+" L"+(.5-j)+",0"},J),"\u255B":(G={},G[1]=function(j,U){return"M0,"+(.5+U)+" L.5,"+(.5+U)+" L.5,0 M0,"+(.5-U)+" L.5,"+(.5-U)},G),"\u255C":(P={},P[1]=function(j,U){return"M0,.5 L"+(.5+j)+",.5 L"+(.5+j)+",0 M"+(.5-j)+",.5 L"+(.5-j)+",0"},P),"\u255D":(I={},I[1]=function(j,U){return"M0,"+(.5-U)+" L"+(.5-j)+","+(.5-U)+" L"+(.5-j)+",0 M0,"+(.5+U)+" L"+(.5+j)+","+(.5+U)+" L"+(.5+j)+",0"},I),"\u255E":(q={},q[1]=function(j,U){return"M.5,0 L.5,1 M.5,"+(.5-U)+" L1,"+(.5-U)+" M.5,"+(.5+U)+" L1,"+(.5+U)},q),"\u255F":(X={},X[1]=function(j,U){return"M"+(.5-j)+",0 L"+(.5-j)+",1 M"+(.5+j)+",0 L"+(.5+j)+",1 M"+(.5+j)+",.5 L1,.5"},X),"\u2560":(Z={},Z[1]=function(j,U){return"M"+(.5-j)+",0 L"+(.5-j)+",1 M1,"+(.5+U)+" L"+(.5+j)+","+(.5+U)+" L"+(.5+j)+",1 M1,"+(.5-U)+" L"+(.5+j)+","+(.5-U)+" L"+(.5+j)+",0"},Z),"\u2561":(te={},te[1]=function(j,U){return"M.5,0 L.5,1 M0,"+(.5-U)+" L.5,"+(.5-U)+" M0,"+(.5+U)+" L.5,"+(.5+U)},te),"\u2562":(se={},se[1]=function(j,U){return"M0,.5 L"+(.5-j)+",.5 M"+(.5-j)+",0 L"+(.5-j)+",1 M"+(.5+j)+",0 L"+(.5+j)+",1"},se),"\u2563":(le={},le[1]=function(j,U){return"M"+(.5+j)+",0 L"+(.5+j)+",1 M0,"+(.5+U)+" L"+(.5-j)+","+(.5+U)+" L"+(.5-j)+",1 M0,"+(.5-U)+" L"+(.5-j)+","+(.5-U)+" L"+(.5-j)+",0"},le),"\u2564":(he={},he[1]=function(j,U){return"M0,"+(.5-U)+" L1,"+(.5-U)+" M0,"+(.5+U)+" L1,"+(.5+U)+" M.5,"+(.5+U)+" L.5,1"},he),"\u2565":($={},$[1]=function(j,U){return"M0,.5 L1,.5 M"+(.5-j)+",.5 L"+(.5-j)+",1 M"+(.5+j)+",.5 L"+(.5+j)+",1"},$),"\u2566":(fe={},fe[1]=function(j,U){return"M0,"+(.5-U)+" L1,"+(.5-U)+" M0,"+(.5+U)+" L"+(.5-j)+","+(.5+U)+" L"+(.5-j)+",1 M1,"+(.5+U)+" L"+(.5+j)+","+(.5+U)+" L"+(.5+j)+",1"},fe),"\u2567":(_e={},_e[1]=function(j,U){return"M.5,0 L.5,"+(.5-U)+" M0,"+(.5-U)+" L1,"+(.5-U)+" M0,"+(.5+U)+" L1,"+(.5+U)},_e),"\u2568":(ke={},ke[1]=function(j,U){return"M0,.5 L1,.5 M"+(.5-j)+",.5 L"+(.5-j)+",0 M"+(.5+j)+",.5 L"+(.5+j)+",0"},ke),"\u2569":(We={},We[1]=function(j,U){return"M0,"+(.5+U)+" L1,"+(.5+U)+" M0,"+(.5-U)+" L"+(.5-j)+","+(.5-U)+" L"+(.5-j)+",0 M1,"+(.5-U)+" L"+(.5+j)+","+(.5-U)+" L"+(.5+j)+",0"},We),"\u256A":(qt={},qt[1]=function(j,U){return"M.5,0 L.5,1 M0,"+(.5-U)+" L1,"+(.5-U)+" M0,"+(.5+U)+" L1,"+(.5+U)},qt),"\u256B":(Nt={},Nt[1]=function(j,U){return"M0,.5 L1,.5 M"+(.5-j)+",0 L"+(.5-j)+",1 M"+(.5+j)+",0 L"+(.5+j)+",1"},Nt),"\u256C":(Gt={},Gt[1]=function(j,U){return"M0,"+(.5+U)+" L"+(.5-j)+","+(.5+U)+" L"+(.5-j)+",1 M1,"+(.5+U)+" L"+(.5+j)+","+(.5+U)+" L"+(.5+j)+",1 M0,"+(.5-U)+" L"+(.5-j)+","+(.5-U)+" L"+(.5-j)+",0 M1,"+(.5-U)+" L"+(.5+j)+","+(.5-U)+" L"+(.5+j)+",0"},Gt),"\u2571":(zt={},zt[1]="M1,0 L0,1",zt),"\u2572":(Yt={},Yt[1]="M0,0 L1,1",Yt),"\u2573":(Kt={},Kt[1]="M1,0 L0,1 M0,0 L1,1",Kt),"\u257C":(ze={},ze[1]="M.5,.5 L0,.5",ze[3]="M.5,.5 L1,.5",ze),"\u257D":(Ye={},Ye[1]="M.5,.5 L.5,0",Ye[3]="M.5,.5 L.5,1",Ye),"\u257E":(Ke={},Ke[1]="M.5,.5 L1,.5",Ke[3]="M.5,.5 L0,.5",Ke),"\u257F":(Ve={},Ve[1]="M.5,.5 L.5,1",Ve[3]="M.5,.5 L.5,0",Ve),"\u250D":($e={},$e[1]="M.5,.5 L.5,1",$e[3]="M.5,.5 L1,.5",$e),"\u250E":(Xe={},Xe[1]="M.5,.5 L1,.5",Xe[3]="M.5,.5 L.5,1",Xe),"\u2511":(Ze={},Ze[1]="M.5,.5 L.5,1",Ze[3]="M.5,.5 L0,.5",Ze),"\u2512":(Je={},Je[1]="M.5,.5 L0,.5",Je[3]="M.5,.5 L.5,1",Je),"\u2515":(Qe={},Qe[1]="M.5,.5 L.5,0",Qe[3]="M.5,.5 L1,.5",Qe),"\u2516":(et={},et[1]="M.5,.5 L1,.5",et[3]="M.5,.5 L.5,0",et),"\u2519":(tt={},tt[1]="M.5,.5 L.5,0",tt[3]="M.5,.5 L0,.5",tt),"\u251A":(rt={},rt[1]="M.5,.5 L0,.5",rt[3]="M.5,.5 L.5,0",rt),"\u251D":(it={},it[1]="M.5,0 L.5,1",it[3]="M.5,.5 L1,.5",it),"\u251E":(nt={},nt[1]="M0.5,1 L.5,.5 L1,.5",nt[3]="M.5,.5 L.5,0",nt),"\u251F":(ot={},ot[1]="M.5,0 L.5,.5 L1,.5",ot[3]="M.5,.5 L.5,1",ot),"\u2520":(st={},st[1]="M.5,.5 L1,.5",st[3]="M.5,0 L.5,1",st),"\u2521":(at={},at[1]="M.5,.5 L.5,1",at[3]="M.5,0 L.5,.5 L1,.5",at),"\u2522":(ct={},ct[1]="M.5,.5 L.5,0",ct[3]="M0.5,1 L.5,.5 L1,.5",ct),"\u2525":(lt={},lt[1]="M.5,0 L.5,1",lt[3]="M.5,.5 L0,.5",lt),"\u2526":(ht={},ht[1]="M0,.5 L.5,.5 L.5,1",ht[3]="M.5,.5 L.5,0",ht),"\u2527":(ft={},ft[1]="M.5,0 L.5,.5 L0,.5",ft[3]="M.5,.5 L.5,1",ft),"\u2528":(ut={},ut[1]="M.5,.5 L0,.5",ut[3]="M.5,0 L.5,1",ut),"\u2529":(dt={},dt[1]="M.5,.5 L.5,1",dt[3]="M.5,0 L.5,.5 L0,.5",dt),"\u252A":(_t={},_t[1]="M.5,.5 L.5,0",_t[3]="M0,.5 L.5,.5 L.5,1",_t),"\u252D":(gt={},gt[1]="M0.5,1 L.5,.5 L1,.5",gt[3]="M.5,.5 L0,.5",gt),"\u252E":(pt={},pt[1]="M0,.5 L.5,.5 L.5,1",pt[3]="M.5,.5 L1,.5",pt),"\u252F":(bt={},bt[1]="M.5,.5 L.5,1",bt[3]="M0,.5 L1,.5",bt),"\u2530":(vt={},vt[1]="M0,.5 L1,.5",vt[3]="M.5,.5 L.5,1",vt),"\u2531":(yt={},yt[1]="M.5,.5 L1,.5",yt[3]="M0,.5 L.5,.5 L.5,1",yt),"\u2532":(mt={},mt[1]="M.5,.5 L0,.5",mt[3]="M0.5,1 L.5,.5 L1,.5",mt),"\u2535":(St={},St[1]="M.5,0 L.5,.5 L1,.5",St[3]="M.5,.5 L0,.5",St),"\u2536":(Ct={},Ct[1]="M.5,0 L.5,.5 L0,.5",Ct[3]="M.5,.5 L1,.5",Ct),"\u2537":(wt={},wt[1]="M.5,.5 L.5,0",wt[3]="M0,.5 L1,.5",wt),"\u2538":(kt={},kt[1]="M0,.5 L1,.5",kt[3]="M.5,.5 L.5,0",kt),"\u2539":(Lt={},Lt[1]="M.5,.5 L1,.5",Lt[3]="M.5,0 L.5,.5 L0,.5",Lt),"\u253A":(Et={},Et[1]="M.5,.5 L0,.5",Et[3]="M.5,0 L.5,.5 L1,.5",Et),"\u253D":(xt={},xt[1]="M.5,0 L.5,1 M.5,.5 L1,.5",xt[3]="M.5,.5 L0,.5",xt),"\u253E":(Rt={},Rt[1]="M.5,0 L.5,1 M.5,.5 L0,.5",Rt[3]="M.5,.5 L1,.5",Rt),"\u253F":(Mt={},Mt[1]="M.5,0 L.5,1",Mt[3]="M0,.5 L1,.5",Mt),"\u2540":(Bt={},Bt[1]="M0,.5 L1,.5 M.5,.5 L.5,1",Bt[3]="M.5,.5 L.5,0",Bt),"\u2541":(At={},At[1]="M.5,.5 L.5,0 M0,.5 L1,.5",At[3]="M.5,.5 L.5,1",At),"\u2542":(Ot={},Ot[1]="M0,.5 L1,.5",Ot[3]="M.5,0 L.5,1",Ot),"\u2543":(Dt={},Dt[1]="M0.5,1 L.5,.5 L1,.5",Dt[3]="M.5,0 L.5,.5 L0,.5",Dt),"\u2544":(Tt={},Tt[1]="M0,.5 L.5,.5 L.5,1",Tt[3]="M.5,0 L.5,.5 L1,.5",Tt),"\u2545":(Pt={},Pt[1]="M.5,0 L.5,.5 L1,.5",Pt[3]="M0,.5 L.5,.5 L.5,1",Pt),"\u2546":(It={},It[1]="M.5,0 L.5,.5 L0,.5",It[3]="M0.5,1 L.5,.5 L1,.5",It),"\u2547":(Ht={},Ht[1]="M.5,.5 L.5,1",Ht[3]="M.5,.5 L.5,0 M0,.5 L1,.5",Ht),"\u2548":(Wt={},Wt[1]="M.5,.5 L.5,0",Wt[3]="M0,.5 L1,.5 M.5,.5 L.5,1",Wt),"\u2549":(Ft={},Ft[1]="M.5,.5 L1,.5",Ft[3]="M.5,0 L.5,1 M.5,.5 L0,.5",Ft),"\u254A":(jt={},jt[1]="M.5,.5 L0,.5",jt[3]="M.5,0 L.5,1 M.5,.5 L1,.5",jt),"\u254C":(Vt={},Vt[1]="M.1,.5 L.4,.5 M.6,.5 L.9,.5",Vt),"\u254D":($t={},$t[3]="M.1,.5 L.4,.5 M.6,.5 L.9,.5",$t),"\u2504":(Xt={},Xt[1]="M.0667,.5 L.2667,.5 M.4,.5 L.6,.5 M.7333,.5 L.9333,.5",Xt),"\u2505":(Zt={},Zt[3]="M.0667,.5 L.2667,.5 M.4,.5 L.6,.5 M.7333,.5 L.9333,.5",Zt),"\u2508":(Jt={},Jt[1]="M.05,.5 L.2,.5 M.3,.5 L.45,.5 M.55,.5 L.7,.5 M.8,.5 L.95,.5",Jt),"\u2509":(Qt={},Qt[3]="M.05,.5 L.2,.5 M.3,.5 L.45,.5 M.55,.5 L.7,.5 M.8,.5 L.95,.5",Qt),"\u254E":(er={},er[1]="M.5,.1 L.5,.4 M.5,.6 L.5,.9",er),"\u254F":(tr={},tr[3]="M.5,.1 L.5,.4 M.5,.6 L.5,.9",tr),"\u2506":(rr={},rr[1]="M.5,.0667 L.5,.2667 M.5,.4 L.5,.6 M.5,.7333 L.5,.9333",rr),"\u2507":(ir={},ir[3]="M.5,.0667 L.5,.2667 M.5,.4 L.5,.6 M.5,.7333 L.5,.9333",ir),"\u250A":(nr={},nr[1]="M.5,.05 L.5,.2 M.5,.3 L.5,.45 L.5,.55 M.5,.7 L.5,.95",nr),"\u250B":(or={},or[3]="M.5,.05 L.5,.2 M.5,.3 L.5,.45 L.5,.55 M.5,.7 L.5,.95",or),"\u256D":(sr={},sr[1]="C.5,1,.5,.5,1,.5",sr),"\u256E":(ar={},ar[1]="C.5,1,.5,.5,0,.5",ar),"\u256F":(cr={},cr[1]="C.5,0,.5,.5,0,.5",cr),"\u2570":(lr={},lr[1]="C.5,0,.5,.5,1,.5",lr)},o.powerlineDefinitions={"\uE0B0":{d:"M0,0 L1,.5 L0,1",type:0},"\uE0B1":{d:"M0,0 L1,.5 L0,1",type:1,horizontalPadding:.5},"\uE0B2":{d:"M1,0 L0,.5 L1,1",type:0},"\uE0B3":{d:"M1,0 L0,.5 L1,1",type:1,horizontalPadding:.5}},o.tryDrawCustomChar=function(j,U,ce,ge,Le,be){var ae=o.blockElementDefinitions[U];if(ae)return function(oe,pe,Oe,De,Re,Me){for(var de=0;de<pe.length;de++){var ve=pe[de],ie=Re/8,ye=Me/8;oe.fillRect(Oe+ve.x*ie,De+ve.y*ye,ve.w*ie,ve.h*ye)}}(j,ae,ce,ge,Le,be),!0;var Ce=Dr[U];if(Ce)return function(oe,pe,Oe,De,Re,Me){var de,ve=mr.get(pe);ve||(ve=new Map,mr.set(pe,ve));var ie=oe.fillStyle;if(typeof ie!="string")throw new Error('Unexpected fillStyle type "'+ie+'"');var ye=ve.get(ie);if(!ye){var we=pe[0].length,xe=pe.length,Te=document.createElement("canvas");Te.width=we,Te.height=xe;var Ut=(0,yr.throwIfFalsy)(Te.getContext("2d")),Be=new ImageData(we,xe),fr=void 0,qe=void 0,Fe=void 0,ur=void 0;if(ie.startsWith("#"))fr=parseInt(ie.slice(1,3),16),qe=parseInt(ie.slice(3,5),16),Fe=parseInt(ie.slice(5,7),16),ur=ie.length>7&&parseInt(ie.slice(7,9),16)||1;else{if(!ie.startsWith("rgba"))throw new Error('Unexpected fillStyle color format "'+ie+'" when drawing pattern glyph');fr=(de=vr(ie.substring(5,ie.length-1).split(",").map(function(kr){return parseFloat(kr)}),4))[0],qe=de[1],Fe=de[2],ur=de[3]}for(var Pe=0;Pe<xe;Pe++)for(var Ie=0;Ie<we;Ie++)Be.data[4*(Pe*we+Ie)]=fr,Be.data[4*(Pe*we+Ie)+1]=qe,Be.data[4*(Pe*we+Ie)+2]=Fe,Be.data[4*(Pe*we+Ie)+3]=pe[Pe][Ie]*(255*ur);Ut.putImageData(Be,0,0),ye=(0,yr.throwIfFalsy)(oe.createPattern(Te,null)),ve.set(ie,ye)}oe.fillStyle=ye,oe.fillRect(Oe,De,Re,Me)}(j,Ce,ce,ge,Le,be),!0;var Ee=o.boxDrawingDefinitions[U];if(Ee)return function(oe,pe,Oe,De,Re,Me){var de,ve,ie,ye;oe.strokeStyle=oe.fillStyle;try{for(var we=hr(Object.entries(pe)),xe=we.next();!xe.done;xe=we.next()){var Te=vr(xe.value,2),Ut=Te[0],Be=Te[1];oe.beginPath(),oe.lineWidth=window.devicePixelRatio*Number.parseInt(Ut);var fr=void 0;fr=typeof Be=="function"?Be(.15,.15/Me*Re):Be;try{for(var qe=(ie=void 0,hr(fr.split(" "))),Fe=qe.next();!Fe.done;Fe=qe.next()){var ur=Fe.value,Pe=ur[0],Ie=Cr[Pe];if(Ie){var kr=ur.substring(1).split(",");kr[0]&&kr[1]&&Ie(oe,wr(kr,Re,Me,Oe,De))}else console.error('Could not find drawing instructions for "'+Pe+'"')}}catch(zr){ie={error:zr}}finally{try{Fe&&!Fe.done&&(ye=qe.return)&&ye.call(qe)}finally{if(ie)throw ie.error}}oe.stroke(),oe.closePath()}}catch(zr){de={error:zr}}finally{try{xe&&!xe.done&&(ve=we.return)&&ve.call(we)}finally{if(de)throw de.error}}}(j,Ee,ce,ge,Le,be),!0;var Ue=o.powerlineDefinitions[U];return!!Ue&&(function(oe,pe,Oe,De,Re,Me){var de,ve;oe.beginPath(),oe.lineWidth=window.devicePixelRatio;try{for(var ie=hr(pe.d.split(" ")),ye=ie.next();!ye.done;ye=ie.next()){var we=ye.value,xe=we[0],Te=Cr[xe];if(Te){var Ut=we.substring(1).split(",");Ut[0]&&Ut[1]&&Te(oe,wr(Ut,Re,Me,Oe,De,pe.horizontalPadding))}else console.error('Could not find drawing instructions for "'+xe+'"')}}catch(Be){de={error:Be}}finally{try{ye&&!ye.done&&(ve=ie.return)&&ve.call(ie)}finally{if(de)throw de.error}}pe.type===1?(oe.strokeStyle=oe.fillStyle,oe.stroke()):oe.fill(),oe.closePath()}(j,Ue,ce,ge,Le,be),!0)};var mr=new Map;function Sr(j,U,ce){return ce===void 0&&(ce=0),Math.max(Math.min(j,U),ce)}var Cr={C:function(j,U){return j.bezierCurveTo(U[0],U[1],U[2],U[3],U[4],U[5])},L:function(j,U){return j.lineTo(U[0],U[1])},M:function(j,U){return j.moveTo(U[0],U[1])}};function wr(j,U,ce,ge,Le,be){be===void 0&&(be=0);var ae=j.map(function(Ue){return parseFloat(Ue)||parseInt(Ue)});if(ae.length<2)throw new Error("Too few arguments for instruction");for(var Ce=0;Ce<ae.length;Ce+=2)ae[Ce]*=U-2*be*window.devicePixelRatio,ae[Ce]!==0&&(ae[Ce]=Sr(Math.round(ae[Ce]+.5)-.5,U,0)),ae[Ce]+=ge+be*window.devicePixelRatio;for(var Ee=1;Ee<ae.length;Ee+=2)ae[Ee]*=ce,ae[Ee]!==0&&(ae[Ee]=Sr(Math.round(ae[Ee]+.5)-.5,ce,0)),ae[Ee]+=Le;return ae}},3700:(T,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.GridCache=void 0;var y=function(){function l(){this.cache=[]}return l.prototype.resize=function(u,d){for(var p=0;p<u;p++){this.cache.length<=p&&this.cache.push([]);for(var v=this.cache[p].length;v<d;v++)this.cache[p].push(void 0);this.cache[p].length=d}this.cache.length=u},l.prototype.clear=function(){for(var u=0;u<this.cache.length;u++)for(var d=0;d<this.cache[u].length;d++)this.cache[u][d]=void 0},l}();o.GridCache=y},5098:function(T,o,y){var l,u=this&&this.__extends||(l=function(h,r){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])},l(h,r)},function(h,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function e(){this.constructor=h}l(h,r),h.prototype=r===null?Object.create(r):(e.prototype=r.prototype,new e)}),d=this&&this.__decorate||function(h,r,e,t){var i,n=arguments.length,f=n<3?r:t===null?t=Object.getOwnPropertyDescriptor(r,e):t;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")f=Reflect.decorate(h,r,e,t);else for(var c=h.length-1;c>=0;c--)(i=h[c])&&(f=(n<3?i(f):n>3?i(r,e,f):i(r,e))||f);return n>3&&f&&Object.defineProperty(r,e,f),f},p=this&&this.__param||function(h,r){return function(e,t){r(e,t,h)}};Object.defineProperty(o,"__esModule",{value:!0}),o.LinkRenderLayer=void 0;var v=y(1546),g=y(8803),s=y(2040),a=y(2585),_=function(h){function r(e,t,i,n,f,c,b,C,m){var S=h.call(this,e,"link",t,!0,i,n,b,C,m)||this;return f.onShowLinkUnderline(function(k){return S._onShowLinkUnderline(k)}),f.onHideLinkUnderline(function(k){return S._onHideLinkUnderline(k)}),c.onShowLinkUnderline(function(k){return S._onShowLinkUnderline(k)}),c.onHideLinkUnderline(function(k){return S._onHideLinkUnderline(k)}),S}return u(r,h),r.prototype.resize=function(e){h.prototype.resize.call(this,e),this._state=void 0},r.prototype.reset=function(){this._clearCurrentLink()},r.prototype._clearCurrentLink=function(){if(this._state){this._clearCells(this._state.x1,this._state.y1,this._state.cols-this._state.x1,1);var e=this._state.y2-this._state.y1-1;e>0&&this._clearCells(0,this._state.y1+1,this._state.cols,e),this._clearCells(0,this._state.y2,this._state.x2,1),this._state=void 0}},r.prototype._onShowLinkUnderline=function(e){if(e.fg===g.INVERTED_DEFAULT_COLOR?this._ctx.fillStyle=this._colors.background.css:e.fg&&(0,s.is256Color)(e.fg)?this._ctx.fillStyle=this._colors.ansi[e.fg].css:this._ctx.fillStyle=this._colors.foreground.css,e.y1===e.y2)this._fillBottomLineAtCells(e.x1,e.y1,e.x2-e.x1);else{this._fillBottomLineAtCells(e.x1,e.y1,e.cols-e.x1);for(var t=e.y1+1;t<e.y2;t++)this._fillBottomLineAtCells(0,t,e.cols);this._fillBottomLineAtCells(0,e.y2,e.x2)}this._state=e},r.prototype._onHideLinkUnderline=function(e){this._clearCurrentLink()},d([p(6,a.IBufferService),p(7,a.IOptionsService),p(8,a.IDecorationService)],r)}(v.BaseRenderLayer);o.LinkRenderLayer=_},3525:function(T,o,y){var l,u=this&&this.__extends||(l=function(c,b){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(C,m){C.__proto__=m}||function(C,m){for(var S in m)Object.prototype.hasOwnProperty.call(m,S)&&(C[S]=m[S])},l(c,b)},function(c,b){if(typeof b!="function"&&b!==null)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");function C(){this.constructor=c}l(c,b),c.prototype=b===null?Object.create(b):(C.prototype=b.prototype,new C)}),d=this&&this.__decorate||function(c,b,C,m){var S,k=arguments.length,A=k<3?b:m===null?m=Object.getOwnPropertyDescriptor(b,C):m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")A=Reflect.decorate(c,b,C,m);else for(var E=c.length-1;E>=0;E--)(S=c[E])&&(A=(k<3?S(A):k>3?S(b,C,A):S(b,C))||A);return k>3&&A&&Object.defineProperty(b,C,A),A},p=this&&this.__param||function(c,b){return function(C,m){b(C,m,c)}},v=this&&this.__values||function(c){var b=typeof Symbol=="function"&&Symbol.iterator,C=b&&c[b],m=0;if(C)return C.call(c);if(c&&typeof c.length=="number")return{next:function(){return c&&m>=c.length&&(c=void 0),{value:c&&c[m++],done:!c}}};throw new TypeError(b?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(o,"__esModule",{value:!0}),o.Renderer=void 0;var g=y(9596),s=y(4149),a=y(2512),_=y(5098),h=y(844),r=y(4725),e=y(2585),t=y(1420),i=y(8460),n=1,f=function(c){function b(C,m,S,k,A,E,B,R){var x=c.call(this)||this;x._colors=C,x._screenElement=m,x._bufferService=E,x._charSizeService=B,x._optionsService=R,x._id=n++,x._onRequestRedraw=new i.EventEmitter;var D=x._optionsService.rawOptions.allowTransparency;return x._renderLayers=[A.createInstance(g.TextRenderLayer,x._screenElement,0,x._colors,D,x._id),A.createInstance(s.SelectionRenderLayer,x._screenElement,1,x._colors,x._id),A.createInstance(_.LinkRenderLayer,x._screenElement,2,x._colors,x._id,S,k),A.createInstance(a.CursorRenderLayer,x._screenElement,3,x._colors,x._id,x._onRequestRedraw)],x.dimensions={scaledCharWidth:0,scaledCharHeight:0,scaledCellWidth:0,scaledCellHeight:0,scaledCharLeft:0,scaledCharTop:0,scaledCanvasWidth:0,scaledCanvasHeight:0,canvasWidth:0,canvasHeight:0,actualCellWidth:0,actualCellHeight:0},x._devicePixelRatio=window.devicePixelRatio,x._updateDimensions(),x.onOptionsChanged(),x}return u(b,c),Object.defineProperty(b.prototype,"onRequestRedraw",{get:function(){return this._onRequestRedraw.event},enumerable:!1,configurable:!0}),b.prototype.dispose=function(){var C,m;try{for(var S=v(this._renderLayers),k=S.next();!k.done;k=S.next())k.value.dispose()}catch(A){C={error:A}}finally{try{k&&!k.done&&(m=S.return)&&m.call(S)}finally{if(C)throw C.error}}c.prototype.dispose.call(this),(0,t.removeTerminalFromCache)(this._id)},b.prototype.onDevicePixelRatioChange=function(){this._devicePixelRatio!==window.devicePixelRatio&&(this._devicePixelRatio=window.devicePixelRatio,this.onResize(this._bufferService.cols,this._bufferService.rows))},b.prototype.setColors=function(C){var m,S;this._colors=C;try{for(var k=v(this._renderLayers),A=k.next();!A.done;A=k.next()){var E=A.value;E.setColors(this._colors),E.reset()}}catch(B){m={error:B}}finally{try{A&&!A.done&&(S=k.return)&&S.call(k)}finally{if(m)throw m.error}}},b.prototype.onResize=function(C,m){var S,k;this._updateDimensions();try{for(var A=v(this._renderLayers),E=A.next();!E.done;E=A.next())E.value.resize(this.dimensions)}catch(B){S={error:B}}finally{try{E&&!E.done&&(k=A.return)&&k.call(A)}finally{if(S)throw S.error}}this._screenElement.style.width=this.dimensions.canvasWidth+"px",this._screenElement.style.height=this.dimensions.canvasHeight+"px"},b.prototype.onCharSizeChanged=function(){this.onResize(this._bufferService.cols,this._bufferService.rows)},b.prototype.onBlur=function(){this._runOperation(function(C){return C.onBlur()})},b.prototype.onFocus=function(){this._runOperation(function(C){return C.onFocus()})},b.prototype.onSelectionChanged=function(C,m,S){S===void 0&&(S=!1),this._runOperation(function(k){return k.onSelectionChanged(C,m,S)}),this._colors.selectionForeground&&this._onRequestRedraw.fire({start:0,end:this._bufferService.rows-1})},b.prototype.onCursorMove=function(){this._runOperation(function(C){return C.onCursorMove()})},b.prototype.onOptionsChanged=function(){this._runOperation(function(C){return C.onOptionsChanged()})},b.prototype.clear=function(){this._runOperation(function(C){return C.reset()})},b.prototype._runOperation=function(C){var m,S;try{for(var k=v(this._renderLayers),A=k.next();!A.done;A=k.next())C(A.value)}catch(E){m={error:E}}finally{try{A&&!A.done&&(S=k.return)&&S.call(k)}finally{if(m)throw m.error}}},b.prototype.renderRows=function(C,m){var S,k;try{for(var A=v(this._renderLayers),E=A.next();!E.done;E=A.next())E.value.onGridChanged(C,m)}catch(B){S={error:B}}finally{try{E&&!E.done&&(k=A.return)&&k.call(A)}finally{if(S)throw S.error}}},b.prototype.clearTextureAtlas=function(){var C,m;try{for(var S=v(this._renderLayers),k=S.next();!k.done;k=S.next())k.value.clearTextureAtlas()}catch(A){C={error:A}}finally{try{k&&!k.done&&(m=S.return)&&m.call(S)}finally{if(C)throw C.error}}},b.prototype._updateDimensions=function(){this._charSizeService.hasValidSize&&(this.dimensions.scaledCharWidth=Math.floor(this._charSizeService.width*window.devicePixelRatio),this.dimensions.scaledCharHeight=Math.ceil(this._charSizeService.height*window.devicePixelRatio),this.dimensions.scaledCellHeight=Math.floor(this.dimensions.scaledCharHeight*this._optionsService.rawOptions.lineHeight),this.dimensions.scaledCharTop=this._optionsService.rawOptions.lineHeight===1?0:Math.round((this.dimensions.scaledCellHeight-this.dimensions.scaledCharHeight)/2),this.dimensions.scaledCellWidth=this.dimensions.scaledCharWidth+Math.round(this._optionsService.rawOptions.letterSpacing),this.dimensions.scaledCharLeft=Math.floor(this._optionsService.rawOptions.letterSpacing/2),this.dimensions.scaledCanvasHeight=this._bufferService.rows*this.dimensions.scaledCellHeight,this.dimensions.scaledCanvasWidth=this._bufferService.cols*this.dimensions.scaledCellWidth,this.dimensions.canvasHeight=Math.round(this.dimensions.scaledCanvasHeight/window.devicePixelRatio),this.dimensions.canvasWidth=Math.round(this.dimensions.scaledCanvasWidth/window.devicePixelRatio),this.dimensions.actualCellHeight=this.dimensions.canvasHeight/this._bufferService.rows,this.dimensions.actualCellWidth=this.dimensions.canvasWidth/this._bufferService.cols)},d([p(4,e.IInstantiationService),p(5,e.IBufferService),p(6,r.ICharSizeService),p(7,e.IOptionsService)],b)}(h.Disposable);o.Renderer=f},1752:(T,o)=>{function y(l){return 57508<=l&&l<=57558}Object.defineProperty(o,"__esModule",{value:!0}),o.excludeFromContrastRatioDemands=o.isPowerlineGlyph=o.throwIfFalsy=void 0,o.throwIfFalsy=function(l){if(!l)throw new Error("value must not be falsy");return l},o.isPowerlineGlyph=y,o.excludeFromContrastRatioDemands=function(l){return y(l)||function(u){return 9472<=u&&u<=9631}(l)}},4149:function(T,o,y){var l,u=this&&this.__extends||(l=function(a,_){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,r){h.__proto__=r}||function(h,r){for(var e in r)Object.prototype.hasOwnProperty.call(r,e)&&(h[e]=r[e])},l(a,_)},function(a,_){if(typeof _!="function"&&_!==null)throw new TypeError("Class extends value "+String(_)+" is not a constructor or null");function h(){this.constructor=a}l(a,_),a.prototype=_===null?Object.create(_):(h.prototype=_.prototype,new h)}),d=this&&this.__decorate||function(a,_,h,r){var e,t=arguments.length,i=t<3?_:r===null?r=Object.getOwnPropertyDescriptor(_,h):r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(a,_,h,r);else for(var n=a.length-1;n>=0;n--)(e=a[n])&&(i=(t<3?e(i):t>3?e(_,h,i):e(_,h))||i);return t>3&&i&&Object.defineProperty(_,h,i),i},p=this&&this.__param||function(a,_){return function(h,r){_(h,r,a)}};Object.defineProperty(o,"__esModule",{value:!0}),o.SelectionRenderLayer=void 0;var v=y(1546),g=y(2585),s=function(a){function _(h,r,e,t,i,n,f){var c=a.call(this,h,"selection",r,!0,e,t,i,n,f)||this;return c._clearState(),c}return u(_,a),_.prototype._clearState=function(){this._state={start:void 0,end:void 0,columnSelectMode:void 0,ydisp:void 0}},_.prototype.resize=function(h){a.prototype.resize.call(this,h),this._clearState()},_.prototype.reset=function(){this._state.start&&this._state.end&&(this._clearState(),this._clearAll())},_.prototype.onSelectionChanged=function(h,r,e){if(a.prototype.onSelectionChanged.call(this,h,r,e),this._didStateChange(h,r,e,this._bufferService.buffer.ydisp))if(this._clearAll(),h&&r){var t=h[1]-this._bufferService.buffer.ydisp,i=r[1]-this._bufferService.buffer.ydisp,n=Math.max(t,0),f=Math.min(i,this._bufferService.rows-1);if(n>=this._bufferService.rows||f<0)this._state.ydisp=this._bufferService.buffer.ydisp;else{if(this._ctx.fillStyle=this._colors.selectionTransparent.css,e){var c=h[0],b=r[0]-c,C=f-n+1;this._fillCells(c,n,b,C)}else{c=t===n?h[0]:0;var m=n===i?r[0]:this._bufferService.cols;this._fillCells(c,n,m-c,1);var S=Math.max(f-n-1,0);if(this._fillCells(0,n+1,this._bufferService.cols,S),n!==f){var k=i===f?r[0]:this._bufferService.cols;this._fillCells(0,f,k,1)}}this._state.start=[h[0],h[1]],this._state.end=[r[0],r[1]],this._state.columnSelectMode=e,this._state.ydisp=this._bufferService.buffer.ydisp}}else this._clearState()},_.prototype._didStateChange=function(h,r,e,t){return!this._areCoordinatesEqual(h,this._state.start)||!this._areCoordinatesEqual(r,this._state.end)||e!==this._state.columnSelectMode||t!==this._state.ydisp},_.prototype._areCoordinatesEqual=function(h,r){return!(!h||!r)&&h[0]===r[0]&&h[1]===r[1]},d([p(4,g.IBufferService),p(5,g.IOptionsService),p(6,g.IDecorationService)],_)}(v.BaseRenderLayer);o.SelectionRenderLayer=s},9596:function(T,o,y){var l,u=this&&this.__extends||(l=function(n,f){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,b){c.__proto__=b}||function(c,b){for(var C in b)Object.prototype.hasOwnProperty.call(b,C)&&(c[C]=b[C])},l(n,f)},function(n,f){if(typeof f!="function"&&f!==null)throw new TypeError("Class extends value "+String(f)+" is not a constructor or null");function c(){this.constructor=n}l(n,f),n.prototype=f===null?Object.create(f):(c.prototype=f.prototype,new c)}),d=this&&this.__decorate||function(n,f,c,b){var C,m=arguments.length,S=m<3?f:b===null?b=Object.getOwnPropertyDescriptor(f,c):b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")S=Reflect.decorate(n,f,c,b);else for(var k=n.length-1;k>=0;k--)(C=n[k])&&(S=(m<3?C(S):m>3?C(f,c,S):C(f,c))||S);return m>3&&S&&Object.defineProperty(f,c,S),S},p=this&&this.__param||function(n,f){return function(c,b){f(c,b,n)}},v=this&&this.__values||function(n){var f=typeof Symbol=="function"&&Symbol.iterator,c=f&&n[f],b=0;if(c)return c.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&b>=n.length&&(n=void 0),{value:n&&n[b++],done:!n}}};throw new TypeError(f?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(o,"__esModule",{value:!0}),o.TextRenderLayer=void 0;var g=y(3700),s=y(1546),a=y(3734),_=y(643),h=y(511),r=y(2585),e=y(4725),t=y(4269),i=function(n){function f(c,b,C,m,S,k,A,E,B){var R=n.call(this,c,"text",b,m,C,S,k,A,B)||this;return R._characterJoinerService=E,R._characterWidth=0,R._characterFont="",R._characterOverlapCache={},R._workCell=new h.CellData,R._state=new g.GridCache,R}return u(f,n),f.prototype.resize=function(c){n.prototype.resize.call(this,c);var b=this._getFont(!1,!1);this._characterWidth===c.scaledCharWidth&&this._characterFont===b||(this._characterWidth=c.scaledCharWidth,this._characterFont=b,this._characterOverlapCache={}),this._state.clear(),this._state.resize(this._bufferService.cols,this._bufferService.rows)},f.prototype.reset=function(){this._state.clear(),this._clearAll()},f.prototype._forEachCell=function(c,b,C){for(var m=c;m<=b;m++)for(var S=m+this._bufferService.buffer.ydisp,k=this._bufferService.buffer.lines.get(S),A=this._characterJoinerService.getJoinedCharacters(S),E=0;E<this._bufferService.cols;E++){k.loadCell(E,this._workCell);var B=this._workCell,R=!1,x=E;if(B.getWidth()!==0){if(A.length>0&&E===A[0][0]){R=!0;var D=A.shift();B=new t.JoinedCellData(this._workCell,k.translateToString(!0,D[0],D[1]),D[1]-D[0]),x=D[1]-1}!R&&this._isOverlapping(B)&&x<k.length-1&&k.getCodePoint(x+1)===_.NULL_CELL_CODE&&(B.content&=-12582913,B.content|=2<<22),C(B,E,m),E=x}}},f.prototype._drawBackground=function(c,b){var C=this,m=this._ctx,S=this._bufferService.cols,k=0,A=0,E=null;m.save(),this._forEachCell(c,b,function(B,R,x){var D,W,z=null;B.isInverse()?z=B.isFgDefault()?C._colors.foreground.css:B.isFgRGB()?"rgb("+a.AttributeData.toColorRGB(B.getFgColor()).join(",")+")":C._colors.ansi[B.getFgColor()].css:B.isBgRGB()?z="rgb("+a.AttributeData.toColorRGB(B.getBgColor()).join(",")+")":B.isBgPalette()&&(z=C._colors.ansi[B.getBgColor()].css);var Y=!1;try{for(var N=v(C._decorationService.getDecorationsAtCell(R,C._bufferService.buffer.ydisp+x)),V=N.next();!V.done;V=N.next()){var K=V.value;K.options.layer!=="top"&&Y||(K.backgroundColorRGB&&(z=K.backgroundColorRGB.css),Y=K.options.layer==="top")}}catch(O){D={error:O}}finally{try{V&&!V.done&&(W=N.return)&&W.call(N)}finally{if(D)throw D.error}}E===null&&(k=R,A=x),x!==A?(m.fillStyle=E||"",C._fillCells(k,A,S-k,1),k=R,A=x):E!==z&&(m.fillStyle=E||"",C._fillCells(k,A,R-k,1),k=R,A=x),E=z}),E!==null&&(m.fillStyle=E,this._fillCells(k,A,S-k,1)),m.restore()},f.prototype._drawForeground=function(c,b){var C=this;this._forEachCell(c,b,function(m,S,k){if(!m.isInvisible()&&(C._drawChars(m,S,k),m.isUnderline()||m.isStrikethrough())){if(C._ctx.save(),m.isInverse())if(m.isBgDefault())C._ctx.fillStyle=C._colors.background.css;else if(m.isBgRGB())C._ctx.fillStyle="rgb("+a.AttributeData.toColorRGB(m.getBgColor()).join(",")+")";else{var A=m.getBgColor();C._optionsService.rawOptions.drawBoldTextInBrightColors&&m.isBold()&&A<8&&(A+=8),C._ctx.fillStyle=C._colors.ansi[A].css}else if(m.isFgDefault())C._ctx.fillStyle=C._colors.foreground.css;else if(m.isFgRGB())C._ctx.fillStyle="rgb("+a.AttributeData.toColorRGB(m.getFgColor()).join(",")+")";else{var E=m.getFgColor();C._optionsService.rawOptions.drawBoldTextInBrightColors&&m.isBold()&&E<8&&(E+=8),C._ctx.fillStyle=C._colors.ansi[E].css}m.isStrikethrough()&&C._fillMiddleLineAtCells(S,k,m.getWidth()),m.isUnderline()&&C._fillBottomLineAtCells(S,k,m.getWidth()),C._ctx.restore()}})},f.prototype.onGridChanged=function(c,b){this._state.cache.length!==0&&(this._charAtlas&&this._charAtlas.beginFrame(),this._clearCells(0,c,this._bufferService.cols,b-c+1),this._drawBackground(c,b),this._drawForeground(c,b))},f.prototype.onOptionsChanged=function(){this._setTransparency(this._optionsService.rawOptions.allowTransparency)},f.prototype._isOverlapping=function(c){if(c.getWidth()!==1||c.getCode()<256)return!1;var b=c.getChars();if(this._characterOverlapCache.hasOwnProperty(b))return this._characterOverlapCache[b];this._ctx.save(),this._ctx.font=this._characterFont;var C=Math.floor(this._ctx.measureText(b).width)>this._characterWidth;return this._ctx.restore(),this._characterOverlapCache[b]=C,C},d([p(5,r.IBufferService),p(6,r.IOptionsService),p(7,e.ICharacterJoinerService),p(8,r.IDecorationService)],f)}(s.BaseRenderLayer);o.TextRenderLayer=i},9616:(T,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.BaseCharAtlas=void 0;var y=function(){function l(){this._didWarmUp=!1}return l.prototype.dispose=function(){},l.prototype.warmUp=function(){this._didWarmUp||(this._doWarmUp(),this._didWarmUp=!0)},l.prototype._doWarmUp=function(){},l.prototype.clear=function(){},l.prototype.beginFrame=function(){},l}();o.BaseCharAtlas=y},1420:(T,o,y)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.removeTerminalFromCache=o.acquireCharAtlas=void 0;var l=y(2040),u=y(1906),d=[];o.acquireCharAtlas=function(p,v,g,s,a){for(var _=(0,l.generateConfig)(s,a,p,g),h=0;h<d.length;h++){var r=(e=d[h]).ownedBy.indexOf(v);if(r>=0){if((0,l.configEquals)(e.config,_))return e.atlas;e.ownedBy.length===1?(e.atlas.dispose(),d.splice(h,1)):e.ownedBy.splice(r,1);break}}for(h=0;h<d.length;h++){var e=d[h];if((0,l.configEquals)(e.config,_))return e.ownedBy.push(v),e.atlas}var t={atlas:new u.DynamicCharAtlas(document,_),config:_,ownedBy:[v]};return d.push(t),t.atlas},o.removeTerminalFromCache=function(p){for(var v=0;v<d.length;v++){var g=d[v].ownedBy.indexOf(p);if(g!==-1){d[v].ownedBy.length===1?(d[v].atlas.dispose(),d.splice(v,1)):d[v].ownedBy.splice(g,1);break}}}},2040:(T,o,y)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.is256Color=o.configEquals=o.generateConfig=void 0;var l=y(643);o.generateConfig=function(u,d,p,v){var g={foreground:v.foreground,background:v.background,cursor:void 0,cursorAccent:void 0,selection:void 0,ansi:v.ansi.slice()};return{devicePixelRatio:window.devicePixelRatio,scaledCharWidth:u,scaledCharHeight:d,fontFamily:p.fontFamily,fontSize:p.fontSize,fontWeight:p.fontWeight,fontWeightBold:p.fontWeightBold,allowTransparency:p.allowTransparency,colors:g}},o.configEquals=function(u,d){for(var p=0;p<u.colors.ansi.length;p++)if(u.colors.ansi[p].rgba!==d.colors.ansi[p].rgba)return!1;return u.devicePixelRatio===d.devicePixelRatio&&u.fontFamily===d.fontFamily&&u.fontSize===d.fontSize&&u.fontWeight===d.fontWeight&&u.fontWeightBold===d.fontWeightBold&&u.allowTransparency===d.allowTransparency&&u.scaledCharWidth===d.scaledCharWidth&&u.scaledCharHeight===d.scaledCharHeight&&u.colors.foreground===d.colors.foreground&&u.colors.background===d.colors.background},o.is256Color=function(u){return u<l.DEFAULT_COLOR}},8803:(T,o,y)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.CHAR_ATLAS_CELL_SPACING=o.TEXT_BASELINE=o.DIM_OPACITY=o.INVERTED_DEFAULT_COLOR=void 0;var l=y(6114);o.INVERTED_DEFAULT_COLOR=257,o.DIM_OPACITY=.5,o.TEXT_BASELINE=l.isFirefox||l.isLegacyEdge?"bottom":"ideographic",o.CHAR_ATLAS_CELL_SPACING=1},1906:function(T,o,y){var l,u=this&&this.__extends||(l=function(c,b){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(C,m){C.__proto__=m}||function(C,m){for(var S in m)Object.prototype.hasOwnProperty.call(m,S)&&(C[S]=m[S])},l(c,b)},function(c,b){if(typeof b!="function"&&b!==null)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");function C(){this.constructor=c}l(c,b),c.prototype=b===null?Object.create(b):(C.prototype=b.prototype,new C)});Object.defineProperty(o,"__esModule",{value:!0}),o.NoneCharAtlas=o.DynamicCharAtlas=o.getGlyphCacheKey=void 0;var d=y(8803),p=y(9616),v=y(5680),g=y(7001),s=y(6114),a=y(1752),_=y(8055),h=1024,r=1024,e={css:"rgba(0, 0, 0, 0)",rgba:0};function t(c){return c.code<<21|c.bg<<12|c.fg<<3|(c.bold?0:4)+(c.dim?0:2)+(c.italic?0:1)}o.getGlyphCacheKey=t;var i=function(c){function b(C,m){var S=c.call(this)||this;S._config=m,S._drawToCacheCount=0,S._glyphsWaitingOnBitmap=[],S._bitmapCommitTimeout=null,S._bitmap=null,S._cacheCanvas=C.createElement("canvas"),S._cacheCanvas.width=h,S._cacheCanvas.height=r,S._cacheCtx=(0,a.throwIfFalsy)(S._cacheCanvas.getContext("2d",{alpha:!0}));var k=C.createElement("canvas");k.width=S._config.scaledCharWidth,k.height=S._config.scaledCharHeight,S._tmpCtx=(0,a.throwIfFalsy)(k.getContext("2d",{alpha:S._config.allowTransparency})),S._width=Math.floor(h/S._config.scaledCharWidth),S._height=Math.floor(r/S._config.scaledCharHeight);var A=S._width*S._height;return S._cacheMap=new g.LRUMap(A),S._cacheMap.prealloc(A),S}return u(b,c),b.prototype.dispose=function(){this._bitmapCommitTimeout!==null&&(window.clearTimeout(this._bitmapCommitTimeout),this._bitmapCommitTimeout=null)},b.prototype.beginFrame=function(){this._drawToCacheCount=0},b.prototype.clear=function(){if(this._cacheMap.size>0){var C=this._width*this._height;this._cacheMap=new g.LRUMap(C),this._cacheMap.prealloc(C)}this._cacheCtx.clearRect(0,0,h,r),this._tmpCtx.clearRect(0,0,this._config.scaledCharWidth,this._config.scaledCharHeight)},b.prototype.draw=function(C,m,S,k){if(m.code===32)return!0;if(!this._canCache(m))return!1;var A=t(m),E=this._cacheMap.get(A);if(E!=null)return this._drawFromCache(C,E,S,k),!0;if(this._drawToCacheCount<100){var B;B=this._cacheMap.size<this._cacheMap.capacity?this._cacheMap.size:this._cacheMap.peek().index;var R=this._drawToCache(m,B);return this._cacheMap.set(A,R),this._drawFromCache(C,R,S,k),!0}return!1},b.prototype._canCache=function(C){return C.code<256},b.prototype._toCoordinateX=function(C){return C%this._width*this._config.scaledCharWidth},b.prototype._toCoordinateY=function(C){return Math.floor(C/this._width)*this._config.scaledCharHeight},b.prototype._drawFromCache=function(C,m,S,k){if(!m.isEmpty){var A=this._toCoordinateX(m.index),E=this._toCoordinateY(m.index);C.drawImage(m.inBitmap?this._bitmap:this._cacheCanvas,A,E,this._config.scaledCharWidth,this._config.scaledCharHeight,S,k,this._config.scaledCharWidth,this._config.scaledCharHeight)}},b.prototype._getColorFromAnsiIndex=function(C){return C<this._config.colors.ansi.length?this._config.colors.ansi[C]:v.DEFAULT_ANSI_COLORS[C]},b.prototype._getBackgroundColor=function(C){return this._config.allowTransparency?e:C.bg===d.INVERTED_DEFAULT_COLOR?this._config.colors.foreground:C.bg<256?this._getColorFromAnsiIndex(C.bg):this._config.colors.background},b.prototype._getForegroundColor=function(C){return C.fg===d.INVERTED_DEFAULT_COLOR?_.color.opaque(this._config.colors.background):C.fg<256?this._getColorFromAnsiIndex(C.fg):this._config.colors.foreground},b.prototype._drawToCache=function(C,m){this._drawToCacheCount++,this._tmpCtx.save();var S=this._getBackgroundColor(C);this._tmpCtx.globalCompositeOperation="copy",this._tmpCtx.fillStyle=S.css,this._tmpCtx.fillRect(0,0,this._config.scaledCharWidth,this._config.scaledCharHeight),this._tmpCtx.globalCompositeOperation="source-over";var k=C.bold?this._config.fontWeightBold:this._config.fontWeight,A=C.italic?"italic":"";this._tmpCtx.font=A+" "+k+" "+this._config.fontSize*this._config.devicePixelRatio+"px "+this._config.fontFamily,this._tmpCtx.textBaseline=d.TEXT_BASELINE,this._tmpCtx.fillStyle=this._getForegroundColor(C).css,C.dim&&(this._tmpCtx.globalAlpha=d.DIM_OPACITY),this._tmpCtx.fillText(C.chars,0,this._config.scaledCharHeight);var E=this._tmpCtx.getImageData(0,0,this._config.scaledCharWidth,this._config.scaledCharHeight),B=!1;if(this._config.allowTransparency||(B=f(E,S)),B&&C.chars==="_"&&!this._config.allowTransparency)for(var R=1;R<=5&&(this._tmpCtx.fillText(C.chars,0,this._config.scaledCharHeight-R),B=f(E=this._tmpCtx.getImageData(0,0,this._config.scaledCharWidth,this._config.scaledCharHeight),S));R++);this._tmpCtx.restore();var x=this._toCoordinateX(m),D=this._toCoordinateY(m);this._cacheCtx.putImageData(E,x,D);var W={index:m,isEmpty:B,inBitmap:!1};return this._addGlyphToBitmap(W),W},b.prototype._addGlyphToBitmap=function(C){var m=this;!("createImageBitmap"in window)||s.isFirefox||s.isSafari||(this._glyphsWaitingOnBitmap.push(C),this._bitmapCommitTimeout===null&&(this._bitmapCommitTimeout=window.setTimeout(function(){return m._generateBitmap()},100)))},b.prototype._generateBitmap=function(){var C=this,m=this._glyphsWaitingOnBitmap;this._glyphsWaitingOnBitmap=[],window.createImageBitmap(this._cacheCanvas).then(function(S){C._bitmap=S;for(var k=0;k<m.length;k++)m[k].inBitmap=!0}),this._bitmapCommitTimeout=null},b}(p.BaseCharAtlas);o.DynamicCharAtlas=i;var n=function(c){function b(C,m){return c.call(this)||this}return u(b,c),b.prototype.draw=function(C,m,S,k){return!1},b}(p.BaseCharAtlas);function f(c,b){for(var C=!0,m=b.rgba>>>24,S=b.rgba>>>16&255,k=b.rgba>>>8&255,A=0;A<c.data.length;A+=4)c.data[A]===m&&c.data[A+1]===S&&c.data[A+2]===k?c.data[A+3]=0:C=!1;return C}o.NoneCharAtlas=n},7001:(T,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.LRUMap=void 0;var y=function(){function l(u){this.capacity=u,this._map={},this._head=null,this._tail=null,this._nodePool=[],this.size=0}return l.prototype._unlinkNode=function(u){var d=u.prev,p=u.next;u===this._head&&(this._head=p),u===this._tail&&(this._tail=d),d!==null&&(d.next=p),p!==null&&(p.prev=d)},l.prototype._appendNode=function(u){var d=this._tail;d!==null&&(d.next=u),u.prev=d,u.next=null,this._tail=u,this._head===null&&(this._head=u)},l.prototype.prealloc=function(u){for(var d=this._nodePool,p=0;p<u;p++)d.push({prev:null,next:null,key:null,value:null})},l.prototype.get=function(u){var d=this._map[u];return d!==void 0?(this._unlinkNode(d),this._appendNode(d),d.value):null},l.prototype.peekValue=function(u){var d=this._map[u];return d!==void 0?d.value:null},l.prototype.peek=function(){var u=this._head;return u===null?null:u.value},l.prototype.set=function(u,d){var p=this._map[u];if(p!==void 0)p=this._map[u],this._unlinkNode(p),p.value=d;else if(this.size>=this.capacity)p=this._head,this._unlinkNode(p),delete this._map[p.key],p.key=u,p.value=d,this._map[u]=p;else{var v=this._nodePool;v.length>0?((p=v.pop()).key=u,p.value=d):p={prev:null,next:null,key:u,value:d},this._map[u]=p,this.size++}this._appendNode(p)},l}();o.LRUMap=y},1296:function(T,o,y){var l,u=this&&this.__extends||(l=function(m,S){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(k,A){k.__proto__=A}||function(k,A){for(var E in A)Object.prototype.hasOwnProperty.call(A,E)&&(k[E]=A[E])},l(m,S)},function(m,S){if(typeof S!="function"&&S!==null)throw new TypeError("Class extends value "+String(S)+" is not a constructor or null");function k(){this.constructor=m}l(m,S),m.prototype=S===null?Object.create(S):(k.prototype=S.prototype,new k)}),d=this&&this.__decorate||function(m,S,k,A){var E,B=arguments.length,R=B<3?S:A===null?A=Object.getOwnPropertyDescriptor(S,k):A;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")R=Reflect.decorate(m,S,k,A);else for(var x=m.length-1;x>=0;x--)(E=m[x])&&(R=(B<3?E(R):B>3?E(S,k,R):E(S,k))||R);return B>3&&R&&Object.defineProperty(S,k,R),R},p=this&&this.__param||function(m,S){return function(k,A){S(k,A,m)}},v=this&&this.__values||function(m){var S=typeof Symbol=="function"&&Symbol.iterator,k=S&&m[S],A=0;if(k)return k.call(m);if(m&&typeof m.length=="number")return{next:function(){return m&&A>=m.length&&(m=void 0),{value:m&&m[A++],done:!m}}};throw new TypeError(S?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(o,"__esModule",{value:!0}),o.DomRenderer=void 0;var g=y(3787),s=y(8803),a=y(844),_=y(4725),h=y(2585),r=y(8460),e=y(8055),t=y(9631),i="xterm-dom-renderer-owner-",n="xterm-fg-",f="xterm-bg-",c="xterm-focus",b=1,C=function(m){function S(k,A,E,B,R,x,D,W,z,Y){var N=m.call(this)||this;return N._colors=k,N._element=A,N._screenElement=E,N._viewportElement=B,N._linkifier=R,N._linkifier2=x,N._charSizeService=W,N._optionsService=z,N._bufferService=Y,N._terminalClass=b++,N._rowElements=[],N._rowContainer=document.createElement("div"),N._rowContainer.classList.add("xterm-rows"),N._rowContainer.style.lineHeight="normal",N._rowContainer.setAttribute("aria-hidden","true"),N._refreshRowElements(N._bufferService.cols,N._bufferService.rows),N._selectionContainer=document.createElement("div"),N._selectionContainer.classList.add("xterm-selection"),N._selectionContainer.setAttribute("aria-hidden","true"),N.dimensions={scaledCharWidth:0,scaledCharHeight:0,scaledCellWidth:0,scaledCellHeight:0,scaledCharLeft:0,scaledCharTop:0,scaledCanvasWidth:0,scaledCanvasHeight:0,canvasWidth:0,canvasHeight:0,actualCellWidth:0,actualCellHeight:0},N._updateDimensions(),N._injectCss(),N._rowFactory=D.createInstance(g.DomRendererRowFactory,document,N._colors),N._element.classList.add(i+N._terminalClass),N._screenElement.appendChild(N._rowContainer),N._screenElement.appendChild(N._selectionContainer),N.register(N._linkifier.onShowLinkUnderline(function(V){return N._onLinkHover(V)})),N.register(N._linkifier.onHideLinkUnderline(function(V){return N._onLinkLeave(V)})),N.register(N._linkifier2.onShowLinkUnderline(function(V){return N._onLinkHover(V)})),N.register(N._linkifier2.onHideLinkUnderline(function(V){return N._onLinkLeave(V)})),N}return u(S,m),Object.defineProperty(S.prototype,"onRequestRedraw",{get:function(){return new r.EventEmitter().event},enumerable:!1,configurable:!0}),S.prototype.dispose=function(){this._element.classList.remove(i+this._terminalClass),(0,t.removeElementFromParent)(this._rowContainer,this._selectionContainer,this._themeStyleElement,this._dimensionsStyleElement),m.prototype.dispose.call(this)},S.prototype._updateDimensions=function(){var k,A;this.dimensions.scaledCharWidth=this._charSizeService.width*window.devicePixelRatio,this.dimensions.scaledCharHeight=Math.ceil(this._charSizeService.height*window.devicePixelRatio),this.dimensions.scaledCellWidth=this.dimensions.scaledCharWidth+Math.round(this._optionsService.rawOptions.letterSpacing),this.dimensions.scaledCellHeight=Math.floor(this.dimensions.scaledCharHeight*this._optionsService.rawOptions.lineHeight),this.dimensions.scaledCharLeft=0,this.dimensions.scaledCharTop=0,this.dimensions.scaledCanvasWidth=this.dimensions.scaledCellWidth*this._bufferService.cols,this.dimensions.scaledCanvasHeight=this.dimensions.scaledCellHeight*this._bufferService.rows,this.dimensions.canvasWidth=Math.round(this.dimensions.scaledCanvasWidth/window.devicePixelRatio),this.dimensions.canvasHeight=Math.round(this.dimensions.scaledCanvasHeight/window.devicePixelRatio),this.dimensions.actualCellWidth=this.dimensions.canvasWidth/this._bufferService.cols,this.dimensions.actualCellHeight=this.dimensions.canvasHeight/this._bufferService.rows;try{for(var E=v(this._rowElements),B=E.next();!B.done;B=E.next()){var R=B.value;R.style.width=this.dimensions.canvasWidth+"px",R.style.height=this.dimensions.actualCellHeight+"px",R.style.lineHeight=this.dimensions.actualCellHeight+"px",R.style.overflow="hidden"}}catch(D){k={error:D}}finally{try{B&&!B.done&&(A=E.return)&&A.call(E)}finally{if(k)throw k.error}}this._dimensionsStyleElement||(this._dimensionsStyleElement=document.createElement("style"),this._screenElement.appendChild(this._dimensionsStyleElement));var x=this._terminalSelector+" .xterm-rows span { display: inline-block; height: 100%; vertical-align: top; width: "+this.dimensions.actualCellWidth+"px}";this._dimensionsStyleElement.textContent=x,this._selectionContainer.style.height=this._viewportElement.style.height,this._screenElement.style.width=this.dimensions.canvasWidth+"px",this._screenElement.style.height=this.dimensions.canvasHeight+"px"},S.prototype.setColors=function(k){this._colors=k,this._injectCss()},S.prototype._injectCss=function(){var k=this;this._themeStyleElement||(this._themeStyleElement=document.createElement("style"),this._screenElement.appendChild(this._themeStyleElement));var A=this._terminalSelector+" .xterm-rows { color: "+this._colors.foreground.css+"; font-family: "+this._optionsService.rawOptions.fontFamily+"; font-size: "+this._optionsService.rawOptions.fontSize+"px;}";A+=this._terminalSelector+" span:not(."+g.BOLD_CLASS+") { font-weight: "+this._optionsService.rawOptions.fontWeight+";}"+this._terminalSelector+" span."+g.BOLD_CLASS+" { font-weight: "+this._optionsService.rawOptions.fontWeightBold+";}"+this._terminalSelector+" span."+g.ITALIC_CLASS+" { font-style: italic;}",A+="@keyframes blink_box_shadow_"+this._terminalClass+" { 50% {  box-shadow: none; }}",A+="@keyframes blink_block_"+this._terminalClass+" { 0% {  background-color: "+this._colors.cursor.css+";  color: "+this._colors.cursorAccent.css+"; } 50% {  background-color: "+this._colors.cursorAccent.css+";  color: "+this._colors.cursor.css+"; }}",A+=this._terminalSelector+" .xterm-rows:not(.xterm-focus) ."+g.CURSOR_CLASS+"."+g.CURSOR_STYLE_BLOCK_CLASS+" { outline: 1px solid "+this._colors.cursor.css+"; outline-offset: -1px;}"+this._terminalSelector+" .xterm-rows.xterm-focus ."+g.CURSOR_CLASS+"."+g.CURSOR_BLINK_CLASS+":not(."+g.CURSOR_STYLE_BLOCK_CLASS+") { animation: blink_box_shadow_"+this._terminalClass+" 1s step-end infinite;}"+this._terminalSelector+" .xterm-rows.xterm-focus ."+g.CURSOR_CLASS+"."+g.CURSOR_BLINK_CLASS+"."+g.CURSOR_STYLE_BLOCK_CLASS+" { animation: blink_block_"+this._terminalClass+" 1s step-end infinite;}"+this._terminalSelector+" .xterm-rows.xterm-focus ."+g.CURSOR_CLASS+"."+g.CURSOR_STYLE_BLOCK_CLASS+" { background-color: "+this._colors.cursor.css+"; color: "+this._colors.cursorAccent.css+";}"+this._terminalSelector+" .xterm-rows ."+g.CURSOR_CLASS+"."+g.CURSOR_STYLE_BAR_CLASS+" { box-shadow: "+this._optionsService.rawOptions.cursorWidth+"px 0 0 "+this._colors.cursor.css+" inset;}"+this._terminalSelector+" .xterm-rows ."+g.CURSOR_CLASS+"."+g.CURSOR_STYLE_UNDERLINE_CLASS+" { box-shadow: 0 -1px 0 "+this._colors.cursor.css+" inset;}",A+=this._terminalSelector+" .xterm-selection { position: absolute; top: 0; left: 0; z-index: 1; pointer-events: none;}"+this._terminalSelector+" .xterm-selection div { position: absolute; background-color: "+this._colors.selectionOpaque.css+";}",this._colors.ansi.forEach(function(E,B){A+=k._terminalSelector+" ."+n+B+" { color: "+E.css+"; }"+k._terminalSelector+" ."+f+B+" { background-color: "+E.css+"; }"}),A+=this._terminalSelector+" ."+n+s.INVERTED_DEFAULT_COLOR+" { color: "+e.color.opaque(this._colors.background).css+"; }"+this._terminalSelector+" ."+f+s.INVERTED_DEFAULT_COLOR+" { background-color: "+this._colors.foreground.css+"; }",this._themeStyleElement.textContent=A},S.prototype.onDevicePixelRatioChange=function(){this._updateDimensions()},S.prototype._refreshRowElements=function(k,A){for(var E=this._rowElements.length;E<=A;E++){var B=document.createElement("div");this._rowContainer.appendChild(B),this._rowElements.push(B)}for(;this._rowElements.length>A;)this._rowContainer.removeChild(this._rowElements.pop())},S.prototype.onResize=function(k,A){this._refreshRowElements(k,A),this._updateDimensions()},S.prototype.onCharSizeChanged=function(){this._updateDimensions()},S.prototype.onBlur=function(){this._rowContainer.classList.remove(c)},S.prototype.onFocus=function(){this._rowContainer.classList.add(c)},S.prototype.onSelectionChanged=function(k,A,E){for(;this._selectionContainer.children.length;)this._selectionContainer.removeChild(this._selectionContainer.children[0]);if(this._rowFactory.onSelectionChanged(k,A,E),this.renderRows(0,this._bufferService.rows-1),k&&A){var B=k[1]-this._bufferService.buffer.ydisp,R=A[1]-this._bufferService.buffer.ydisp,x=Math.max(B,0),D=Math.min(R,this._bufferService.rows-1);if(!(x>=this._bufferService.rows||D<0)){var W=document.createDocumentFragment();if(E){var z=k[0]>A[0];W.appendChild(this._createSelectionElement(x,z?A[0]:k[0],z?k[0]:A[0],D-x+1))}else{var Y=B===x?k[0]:0,N=x===R?A[0]:this._bufferService.cols;W.appendChild(this._createSelectionElement(x,Y,N));var V=D-x-1;if(W.appendChild(this._createSelectionElement(x+1,0,this._bufferService.cols,V)),x!==D){var K=R===D?A[0]:this._bufferService.cols;W.appendChild(this._createSelectionElement(D,0,K))}}this._selectionContainer.appendChild(W)}}},S.prototype._createSelectionElement=function(k,A,E,B){B===void 0&&(B=1);var R=document.createElement("div");return R.style.height=B*this.dimensions.actualCellHeight+"px",R.style.top=k*this.dimensions.actualCellHeight+"px",R.style.left=A*this.dimensions.actualCellWidth+"px",R.style.width=this.dimensions.actualCellWidth*(E-A)+"px",R},S.prototype.onCursorMove=function(){},S.prototype.onOptionsChanged=function(){this._updateDimensions(),this._injectCss()},S.prototype.clear=function(){var k,A;try{for(var E=v(this._rowElements),B=E.next();!B.done;B=E.next())B.value.innerText=""}catch(R){k={error:R}}finally{try{B&&!B.done&&(A=E.return)&&A.call(E)}finally{if(k)throw k.error}}},S.prototype.renderRows=function(k,A){for(var E=this._bufferService.buffer.ybase+this._bufferService.buffer.y,B=Math.min(this._bufferService.buffer.x,this._bufferService.cols-1),R=this._optionsService.rawOptions.cursorBlink,x=k;x<=A;x++){var D=this._rowElements[x];D.innerText="";var W=x+this._bufferService.buffer.ydisp,z=this._bufferService.buffer.lines.get(W),Y=this._optionsService.rawOptions.cursorStyle;D.appendChild(this._rowFactory.createRow(z,W,W===E,Y,B,R,this.dimensions.actualCellWidth,this._bufferService.cols))}},Object.defineProperty(S.prototype,"_terminalSelector",{get:function(){return"."+i+this._terminalClass},enumerable:!1,configurable:!0}),S.prototype._onLinkHover=function(k){this._setCellUnderline(k.x1,k.x2,k.y1,k.y2,k.cols,!0)},S.prototype._onLinkLeave=function(k){this._setCellUnderline(k.x1,k.x2,k.y1,k.y2,k.cols,!1)},S.prototype._setCellUnderline=function(k,A,E,B,R,x){for(;k!==A||E!==B;){var D=this._rowElements[E];if(!D)return;var W=D.children[k];W&&(W.style.textDecoration=x?"underline":"none"),++k>=R&&(k=0,E++)}},d([p(6,h.IInstantiationService),p(7,_.ICharSizeService),p(8,h.IOptionsService),p(9,h.IBufferService)],S)}(a.Disposable);o.DomRenderer=C},3787:function(T,o,y){var l=this&&this.__decorate||function(i,n,f,c){var b,C=arguments.length,m=C<3?n:c===null?c=Object.getOwnPropertyDescriptor(n,f):c;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")m=Reflect.decorate(i,n,f,c);else for(var S=i.length-1;S>=0;S--)(b=i[S])&&(m=(C<3?b(m):C>3?b(n,f,m):b(n,f))||m);return C>3&&m&&Object.defineProperty(n,f,m),m},u=this&&this.__param||function(i,n){return function(f,c){n(f,c,i)}},d=this&&this.__values||function(i){var n=typeof Symbol=="function"&&Symbol.iterator,f=n&&i[n],c=0;if(f)return f.call(i);if(i&&typeof i.length=="number")return{next:function(){return i&&c>=i.length&&(i=void 0),{value:i&&i[c++],done:!i}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(o,"__esModule",{value:!0}),o.DomRendererRowFactory=o.CURSOR_STYLE_UNDERLINE_CLASS=o.CURSOR_STYLE_BAR_CLASS=o.CURSOR_STYLE_BLOCK_CLASS=o.CURSOR_BLINK_CLASS=o.CURSOR_CLASS=o.STRIKETHROUGH_CLASS=o.UNDERLINE_CLASS=o.ITALIC_CLASS=o.DIM_CLASS=o.BOLD_CLASS=void 0;var p=y(8803),v=y(643),g=y(511),s=y(2585),a=y(8055),_=y(4725),h=y(4269),r=y(1752);o.BOLD_CLASS="xterm-bold",o.DIM_CLASS="xterm-dim",o.ITALIC_CLASS="xterm-italic",o.UNDERLINE_CLASS="xterm-underline",o.STRIKETHROUGH_CLASS="xterm-strikethrough",o.CURSOR_CLASS="xterm-cursor",o.CURSOR_BLINK_CLASS="xterm-cursor-blink",o.CURSOR_STYLE_BLOCK_CLASS="xterm-cursor-block",o.CURSOR_STYLE_BAR_CLASS="xterm-cursor-bar",o.CURSOR_STYLE_UNDERLINE_CLASS="xterm-cursor-underline";var e=function(){function i(n,f,c,b,C,m){this._document=n,this._colors=f,this._characterJoinerService=c,this._optionsService=b,this._coreService=C,this._decorationService=m,this._workCell=new g.CellData,this._columnSelectMode=!1}return i.prototype.setColors=function(n){this._colors=n},i.prototype.onSelectionChanged=function(n,f,c){this._selectionStart=n,this._selectionEnd=f,this._columnSelectMode=c},i.prototype.createRow=function(n,f,c,b,C,m,S,k){for(var A,E,B=this._document.createDocumentFragment(),R=this._characterJoinerService.getJoinedCharacters(f),x=0,D=Math.min(n.length,k)-1;D>=0;D--)if(n.loadCell(D,this._workCell).getCode()!==v.NULL_CELL_CODE||c&&D===C){x=D+1;break}for(D=0;D<x;D++){n.loadCell(D,this._workCell);var W=this._workCell.getWidth();if(W!==0){var z=!1,Y=D,N=this._workCell;if(R.length>0&&D===R[0][0]){z=!0;var V=R.shift();N=new h.JoinedCellData(this._workCell,n.translateToString(!0,V[0],V[1]),V[1]-V[0]),Y=V[1]-1,W=N.getWidth()}var K=this._document.createElement("span");if(W>1&&(K.style.width=S*W+"px"),z&&(K.style.display="inline",C>=D&&C<=Y&&(C=D)),!this._coreService.isCursorHidden&&c&&D===C)switch(K.classList.add(o.CURSOR_CLASS),m&&K.classList.add(o.CURSOR_BLINK_CLASS),b){case"bar":K.classList.add(o.CURSOR_STYLE_BAR_CLASS);break;case"underline":K.classList.add(o.CURSOR_STYLE_UNDERLINE_CLASS);break;default:K.classList.add(o.CURSOR_STYLE_BLOCK_CLASS)}N.isBold()&&K.classList.add(o.BOLD_CLASS),N.isItalic()&&K.classList.add(o.ITALIC_CLASS),N.isDim()&&K.classList.add(o.DIM_CLASS),N.isUnderline()&&K.classList.add(o.UNDERLINE_CLASS),N.isInvisible()?K.textContent=v.WHITESPACE_CELL_CHAR:K.textContent=N.getChars()||v.WHITESPACE_CELL_CHAR,N.isStrikethrough()&&K.classList.add(o.STRIKETHROUGH_CLASS);var O=N.getFgColor(),ee=N.getFgColorMode(),Q=N.getBgColor(),ne=N.getBgColorMode(),F=!!N.isInverse();if(F){var re=O;O=Q,Q=re;var J=ee;ee=ne,ne=J}var G=void 0,P=void 0,I=!1;try{for(var q=(A=void 0,d(this._decorationService.getDecorationsAtCell(D,f))),X=q.next();!X.done;X=q.next()){var Z=X.value;Z.options.layer!=="top"&&I||(Z.backgroundColorRGB&&(ne=50331648,Q=Z.backgroundColorRGB.rgba>>8&16777215,G=Z.backgroundColorRGB),Z.foregroundColorRGB&&(ee=50331648,O=Z.foregroundColorRGB.rgba>>8&16777215,P=Z.foregroundColorRGB),I=Z.options.layer==="top")}}catch(he){A={error:he}}finally{try{X&&!X.done&&(E=q.return)&&E.call(q)}finally{if(A)throw A.error}}var te=this._isCellInSelection(D,f);I||this._colors.selectionForeground&&te&&(ee=50331648,O=this._colors.selectionForeground.rgba>>8&16777215,P=this._colors.selectionForeground),te&&(G=this._colors.selectionOpaque,I=!0),I&&K.classList.add("xterm-decoration-top");var se=void 0;switch(ne){case 16777216:case 33554432:se=this._colors.ansi[Q],K.classList.add("xterm-bg-"+Q);break;case 50331648:se=a.rgba.toColor(Q>>16,Q>>8&255,255&Q),this._addStyle(K,"background-color:#"+t((Q>>>0).toString(16),"0",6));break;default:F?(se=this._colors.foreground,K.classList.add("xterm-bg-"+p.INVERTED_DEFAULT_COLOR)):se=this._colors.background}switch(ee){case 16777216:case 33554432:N.isBold()&&O<8&&this._optionsService.rawOptions.drawBoldTextInBrightColors&&(O+=8),this._applyMinimumContrast(K,se,this._colors.ansi[O],N,G,void 0)||K.classList.add("xterm-fg-"+O);break;case 50331648:var le=a.rgba.toColor(O>>16&255,O>>8&255,255&O);this._applyMinimumContrast(K,se,le,N,G,P)||this._addStyle(K,"color:#"+t(O.toString(16),"0",6));break;default:this._applyMinimumContrast(K,se,this._colors.foreground,N,G,void 0)||F&&K.classList.add("xterm-fg-"+p.INVERTED_DEFAULT_COLOR)}B.appendChild(K),D=Y}}return B},i.prototype._applyMinimumContrast=function(n,f,c,b,C,m){if(this._optionsService.rawOptions.minimumContrastRatio===1||(0,r.excludeFromContrastRatioDemands)(b.getCode()))return!1;var S=void 0;return C||m||(S=this._colors.contrastCache.getColor(f.rgba,c.rgba)),S===void 0&&(S=a.color.ensureContrastRatio(C||f,m||c,this._optionsService.rawOptions.minimumContrastRatio),this._colors.contrastCache.setColor((C||f).rgba,(m||c).rgba,S??null)),!!S&&(this._addStyle(n,"color:"+S.css),!0)},i.prototype._addStyle=function(n,f){n.setAttribute("style",""+(n.getAttribute("style")||"")+f+";")},i.prototype._isCellInSelection=function(n,f){var c=this._selectionStart,b=this._selectionEnd;return!(!c||!b)&&(this._columnSelectMode?c[0]<=b[0]?n>=c[0]&&f>=c[1]&&n<b[0]&&f<=b[1]:n<c[0]&&f>=c[1]&&n>=b[0]&&f<=b[1]:f>c[1]&&f<b[1]||c[1]===b[1]&&f===c[1]&&n>=c[0]&&n<b[0]||c[1]<b[1]&&f===b[1]&&n<b[0]||c[1]<b[1]&&f===c[1]&&n>=c[0])},l([u(2,_.ICharacterJoinerService),u(3,s.IOptionsService),u(4,s.ICoreService),u(5,s.IDecorationService)],i)}();function t(i,n,f){for(;i.length<f;)i=n+i;return i}o.DomRendererRowFactory=e},456:(T,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.SelectionModel=void 0;var y=function(){function l(u){this._bufferService=u,this.isSelectAllActive=!1,this.selectionStartLength=0}return l.prototype.clearSelection=function(){this.selectionStart=void 0,this.selectionEnd=void 0,this.isSelectAllActive=!1,this.selectionStartLength=0},Object.defineProperty(l.prototype,"finalSelectionStart",{get:function(){return this.isSelectAllActive?[0,0]:this.selectionEnd&&this.selectionStart&&this.areSelectionValuesReversed()?this.selectionEnd:this.selectionStart},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"finalSelectionEnd",{get:function(){return this.isSelectAllActive?[this._bufferService.cols,this._bufferService.buffer.ybase+this._bufferService.rows-1]:this.selectionStart?!this.selectionEnd||this.areSelectionValuesReversed()?(u=this.selectionStart[0]+this.selectionStartLength)>this._bufferService.cols?u%this._bufferService.cols==0?[this._bufferService.cols,this.selectionStart[1]+Math.floor(u/this._bufferService.cols)-1]:[u%this._bufferService.cols,this.selectionStart[1]+Math.floor(u/this._bufferService.cols)]:[u,this.selectionStart[1]]:this.selectionStartLength&&this.selectionEnd[1]===this.selectionStart[1]?(u=this.selectionStart[0]+this.selectionStartLength)>this._bufferService.cols?[u%this._bufferService.cols,this.selectionStart[1]+Math.floor(u/this._bufferService.cols)]:[Math.max(u,this.selectionEnd[0]),this.selectionEnd[1]]:this.selectionEnd:void 0;var u},enumerable:!1,configurable:!0}),l.prototype.areSelectionValuesReversed=function(){var u=this.selectionStart,d=this.selectionEnd;return!(!u||!d)&&(u[1]>d[1]||u[1]===d[1]&&u[0]>d[0])},l.prototype.onTrim=function(u){return this.selectionStart&&(this.selectionStart[1]-=u),this.selectionEnd&&(this.selectionEnd[1]-=u),this.selectionEnd&&this.selectionEnd[1]<0?(this.clearSelection(),!0):(this.selectionStart&&this.selectionStart[1]<0&&(this.selectionStart[1]=0),!1)},l}();o.SelectionModel=y},428:function(T,o,y){var l=this&&this.__decorate||function(s,a,_,h){var r,e=arguments.length,t=e<3?a:h===null?h=Object.getOwnPropertyDescriptor(a,_):h;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")t=Reflect.decorate(s,a,_,h);else for(var i=s.length-1;i>=0;i--)(r=s[i])&&(t=(e<3?r(t):e>3?r(a,_,t):r(a,_))||t);return e>3&&t&&Object.defineProperty(a,_,t),t},u=this&&this.__param||function(s,a){return function(_,h){a(_,h,s)}};Object.defineProperty(o,"__esModule",{value:!0}),o.CharSizeService=void 0;var d=y(2585),p=y(8460),v=function(){function s(a,_,h){this._optionsService=h,this.width=0,this.height=0,this._onCharSizeChange=new p.EventEmitter,this._measureStrategy=new g(a,_,this._optionsService)}return Object.defineProperty(s.prototype,"hasValidSize",{get:function(){return this.width>0&&this.height>0},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"onCharSizeChange",{get:function(){return this._onCharSizeChange.event},enumerable:!1,configurable:!0}),s.prototype.measure=function(){var a=this._measureStrategy.measure();a.width===this.width&&a.height===this.height||(this.width=a.width,this.height=a.height,this._onCharSizeChange.fire())},l([u(2,d.IOptionsService)],s)}();o.CharSizeService=v;var g=function(){function s(a,_,h){this._document=a,this._parentElement=_,this._optionsService=h,this._result={width:0,height:0},this._measureElement=this._document.createElement("span"),this._measureElement.classList.add("xterm-char-measure-element"),this._measureElement.textContent="W",this._measureElement.setAttribute("aria-hidden","true"),this._parentElement.appendChild(this._measureElement)}return s.prototype.measure=function(){this._measureElement.style.fontFamily=this._optionsService.rawOptions.fontFamily,this._measureElement.style.fontSize=this._optionsService.rawOptions.fontSize+"px";var a=this._measureElement.getBoundingClientRect();return a.width!==0&&a.height!==0&&(this._result.width=a.width,this._result.height=Math.ceil(a.height)),this._result},s}()},4269:function(T,o,y){var l,u=this&&this.__extends||(l=function(r,e){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])},l(r,e)},function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function t(){this.constructor=r}l(r,e),r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}),d=this&&this.__decorate||function(r,e,t,i){var n,f=arguments.length,c=f<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")c=Reflect.decorate(r,e,t,i);else for(var b=r.length-1;b>=0;b--)(n=r[b])&&(c=(f<3?n(c):f>3?n(e,t,c):n(e,t))||c);return f>3&&c&&Object.defineProperty(e,t,c),c},p=this&&this.__param||function(r,e){return function(t,i){e(t,i,r)}};Object.defineProperty(o,"__esModule",{value:!0}),o.CharacterJoinerService=o.JoinedCellData=void 0;var v=y(3734),g=y(643),s=y(511),a=y(2585),_=function(r){function e(t,i,n){var f=r.call(this)||this;return f.content=0,f.combinedData="",f.fg=t.fg,f.bg=t.bg,f.combinedData=i,f._width=n,f}return u(e,r),e.prototype.isCombined=function(){return 2097152},e.prototype.getWidth=function(){return this._width},e.prototype.getChars=function(){return this.combinedData},e.prototype.getCode=function(){return 2097151},e.prototype.setFromCharData=function(t){throw new Error("not implemented")},e.prototype.getAsCharData=function(){return[this.fg,this.getChars(),this.getWidth(),this.getCode()]},e}(v.AttributeData);o.JoinedCellData=_;var h=function(){function r(e){this._bufferService=e,this._characterJoiners=[],this._nextCharacterJoinerId=0,this._workCell=new s.CellData}return r.prototype.register=function(e){var t={id:this._nextCharacterJoinerId++,handler:e};return this._characterJoiners.push(t),t.id},r.prototype.deregister=function(e){for(var t=0;t<this._characterJoiners.length;t++)if(this._characterJoiners[t].id===e)return this._characterJoiners.splice(t,1),!0;return!1},r.prototype.getJoinedCharacters=function(e){if(this._characterJoiners.length===0)return[];var t=this._bufferService.buffer.lines.get(e);if(!t||t.length===0)return[];for(var i=[],n=t.translateToString(!0),f=0,c=0,b=0,C=t.getFg(0),m=t.getBg(0),S=0;S<t.getTrimmedLength();S++)if(t.loadCell(S,this._workCell),this._workCell.getWidth()!==0){if(this._workCell.fg!==C||this._workCell.bg!==m){if(S-f>1)for(var k=this._getJoinedRanges(n,b,c,t,f),A=0;A<k.length;A++)i.push(k[A]);f=S,b=c,C=this._workCell.fg,m=this._workCell.bg}c+=this._workCell.getChars().length||g.WHITESPACE_CELL_CHAR.length}if(this._bufferService.cols-f>1)for(k=this._getJoinedRanges(n,b,c,t,f),A=0;A<k.length;A++)i.push(k[A]);return i},r.prototype._getJoinedRanges=function(e,t,i,n,f){var c=e.substring(t,i),b=[];try{b=this._characterJoiners[0].handler(c)}catch(k){console.error(k)}for(var C=1;C<this._characterJoiners.length;C++)try{for(var m=this._characterJoiners[C].handler(c),S=0;S<m.length;S++)r._mergeRanges(b,m[S])}catch(k){console.error(k)}return this._stringRangesToCellRanges(b,n,f),b},r.prototype._stringRangesToCellRanges=function(e,t,i){var n=0,f=!1,c=0,b=e[n];if(b){for(var C=i;C<this._bufferService.cols;C++){var m=t.getWidth(C),S=t.getString(C).length||g.WHITESPACE_CELL_CHAR.length;if(m!==0){if(!f&&b[0]<=c&&(b[0]=C,f=!0),b[1]<=c){if(b[1]=C,!(b=e[++n]))break;b[0]<=c?(b[0]=C,f=!0):f=!1}c+=S}}b&&(b[1]=this._bufferService.cols)}},r._mergeRanges=function(e,t){for(var i=!1,n=0;n<e.length;n++){var f=e[n];if(i){if(t[1]<=f[0])return e[n-1][1]=t[1],e;if(t[1]<=f[1])return e[n-1][1]=Math.max(t[1],f[1]),e.splice(n,1),e;e.splice(n,1),n--}else{if(t[1]<=f[0])return e.splice(n,0,t),e;if(t[1]<=f[1])return f[0]=Math.min(t[0],f[0]),e;t[0]<f[1]&&(f[0]=Math.min(t[0],f[0]),i=!0)}}return i?e[e.length-1][1]=t[1]:e.push(t),e},r=d([p(0,a.IBufferService)],r)}();o.CharacterJoinerService=h},5114:(T,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.CoreBrowserService=void 0;var y=function(){function l(u){this._textarea=u}return Object.defineProperty(l.prototype,"isFocused",{get:function(){return(this._textarea.getRootNode?this._textarea.getRootNode():document).activeElement===this._textarea&&document.hasFocus()},enumerable:!1,configurable:!0}),l}();o.CoreBrowserService=y},8934:function(T,o,y){var l=this&&this.__decorate||function(g,s,a,_){var h,r=arguments.length,e=r<3?s:_===null?_=Object.getOwnPropertyDescriptor(s,a):_;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")e=Reflect.decorate(g,s,a,_);else for(var t=g.length-1;t>=0;t--)(h=g[t])&&(e=(r<3?h(e):r>3?h(s,a,e):h(s,a))||e);return r>3&&e&&Object.defineProperty(s,a,e),e},u=this&&this.__param||function(g,s){return function(a,_){s(a,_,g)}};Object.defineProperty(o,"__esModule",{value:!0}),o.MouseService=void 0;var d=y(4725),p=y(9806),v=function(){function g(s,a){this._renderService=s,this._charSizeService=a}return g.prototype.getCoords=function(s,a,_,h,r){return(0,p.getCoords)(window,s,a,_,h,this._charSizeService.hasValidSize,this._renderService.dimensions.actualCellWidth,this._renderService.dimensions.actualCellHeight,r)},g.prototype.getRawByteCoords=function(s,a,_,h){var r=this.getCoords(s,a,_,h);return(0,p.getRawByteCoords)(r)},l([u(0,d.IRenderService),u(1,d.ICharSizeService)],g)}();o.MouseService=v},3230:function(T,o,y){var l,u=this&&this.__extends||(l=function(t,i){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,f){n.__proto__=f}||function(n,f){for(var c in f)Object.prototype.hasOwnProperty.call(f,c)&&(n[c]=f[c])},l(t,i)},function(t,i){if(typeof i!="function"&&i!==null)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function n(){this.constructor=t}l(t,i),t.prototype=i===null?Object.create(i):(n.prototype=i.prototype,new n)}),d=this&&this.__decorate||function(t,i,n,f){var c,b=arguments.length,C=b<3?i:f===null?f=Object.getOwnPropertyDescriptor(i,n):f;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")C=Reflect.decorate(t,i,n,f);else for(var m=t.length-1;m>=0;m--)(c=t[m])&&(C=(b<3?c(C):b>3?c(i,n,C):c(i,n))||C);return b>3&&C&&Object.defineProperty(i,n,C),C},p=this&&this.__param||function(t,i){return function(n,f){i(n,f,t)}};Object.defineProperty(o,"__esModule",{value:!0}),o.RenderService=void 0;var v=y(6193),g=y(8460),s=y(844),a=y(5596),_=y(3656),h=y(2585),r=y(4725),e=function(t){function i(n,f,c,b,C,m,S){var k=t.call(this)||this;if(k._renderer=n,k._rowCount=f,k._charSizeService=C,k._isPaused=!1,k._needsFullRefresh=!1,k._isNextRenderRedrawOnly=!0,k._needsSelectionRefresh=!1,k._canvasWidth=0,k._canvasHeight=0,k._selectionState={start:void 0,end:void 0,columnSelectMode:!1},k._onDimensionsChange=new g.EventEmitter,k._onRenderedViewportChange=new g.EventEmitter,k._onRender=new g.EventEmitter,k._onRefreshRequest=new g.EventEmitter,k.register({dispose:function(){return k._renderer.dispose()}}),k._renderDebouncer=new v.RenderDebouncer(function(E,B){return k._renderRows(E,B)}),k.register(k._renderDebouncer),k._screenDprMonitor=new a.ScreenDprMonitor,k._screenDprMonitor.setListener(function(){return k.onDevicePixelRatioChange()}),k.register(k._screenDprMonitor),k.register(S.onResize(function(){return k._fullRefresh()})),k.register(S.buffers.onBufferActivate(function(){var E;return(E=k._renderer)===null||E===void 0?void 0:E.clear()})),k.register(b.onOptionChange(function(){return k._handleOptionsChanged()})),k.register(k._charSizeService.onCharSizeChange(function(){return k.onCharSizeChanged()})),k.register(m.onDecorationRegistered(function(){return k._fullRefresh()})),k.register(m.onDecorationRemoved(function(){return k._fullRefresh()})),k._renderer.onRequestRedraw(function(E){return k.refreshRows(E.start,E.end,!0)}),k.register((0,_.addDisposableDomListener)(window,"resize",function(){return k.onDevicePixelRatioChange()})),"IntersectionObserver"in window){var A=new IntersectionObserver(function(E){return k._onIntersectionChange(E[E.length-1])},{threshold:0});A.observe(c),k.register({dispose:function(){return A.disconnect()}})}return k}return u(i,t),Object.defineProperty(i.prototype,"onDimensionsChange",{get:function(){return this._onDimensionsChange.event},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"onRenderedViewportChange",{get:function(){return this._onRenderedViewportChange.event},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"onRender",{get:function(){return this._onRender.event},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"onRefreshRequest",{get:function(){return this._onRefreshRequest.event},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"dimensions",{get:function(){return this._renderer.dimensions},enumerable:!1,configurable:!0}),i.prototype._onIntersectionChange=function(n){this._isPaused=n.isIntersecting===void 0?n.intersectionRatio===0:!n.isIntersecting,this._isPaused||this._charSizeService.hasValidSize||this._charSizeService.measure(),!this._isPaused&&this._needsFullRefresh&&(this.refreshRows(0,this._rowCount-1),this._needsFullRefresh=!1)},i.prototype.refreshRows=function(n,f,c){c===void 0&&(c=!1),this._isPaused?this._needsFullRefresh=!0:(c||(this._isNextRenderRedrawOnly=!1),this._renderDebouncer.refresh(n,f,this._rowCount))},i.prototype._renderRows=function(n,f){this._renderer.renderRows(n,f),this._needsSelectionRefresh&&(this._renderer.onSelectionChanged(this._selectionState.start,this._selectionState.end,this._selectionState.columnSelectMode),this._needsSelectionRefresh=!1),this._isNextRenderRedrawOnly||this._onRenderedViewportChange.fire({start:n,end:f}),this._onRender.fire({start:n,end:f}),this._isNextRenderRedrawOnly=!0},i.prototype.resize=function(n,f){this._rowCount=f,this._fireOnCanvasResize()},i.prototype._handleOptionsChanged=function(){this._renderer.onOptionsChanged(),this.refreshRows(0,this._rowCount-1),this._fireOnCanvasResize()},i.prototype._fireOnCanvasResize=function(){this._renderer.dimensions.canvasWidth===this._canvasWidth&&this._renderer.dimensions.canvasHeight===this._canvasHeight||this._onDimensionsChange.fire(this._renderer.dimensions)},i.prototype.dispose=function(){t.prototype.dispose.call(this)},i.prototype.setRenderer=function(n){var f=this;this._renderer.dispose(),this._renderer=n,this._renderer.onRequestRedraw(function(c){return f.refreshRows(c.start,c.end,!0)}),this._needsSelectionRefresh=!0,this._fullRefresh()},i.prototype.addRefreshCallback=function(n){return this._renderDebouncer.addRefreshCallback(n)},i.prototype._fullRefresh=function(){this._isPaused?this._needsFullRefresh=!0:this.refreshRows(0,this._rowCount-1)},i.prototype.clearTextureAtlas=function(){var n,f;(f=(n=this._renderer)===null||n===void 0?void 0:n.clearTextureAtlas)===null||f===void 0||f.call(n),this._fullRefresh()},i.prototype.setColors=function(n){this._renderer.setColors(n),this._fullRefresh()},i.prototype.onDevicePixelRatioChange=function(){this._charSizeService.measure(),this._renderer.onDevicePixelRatioChange(),this.refreshRows(0,this._rowCount-1)},i.prototype.onResize=function(n,f){this._renderer.onResize(n,f),this._fullRefresh()},i.prototype.onCharSizeChanged=function(){this._renderer.onCharSizeChanged()},i.prototype.onBlur=function(){this._renderer.onBlur()},i.prototype.onFocus=function(){this._renderer.onFocus()},i.prototype.onSelectionChanged=function(n,f,c){this._selectionState.start=n,this._selectionState.end=f,this._selectionState.columnSelectMode=c,this._renderer.onSelectionChanged(n,f,c)},i.prototype.onCursorMove=function(){this._renderer.onCursorMove()},i.prototype.clear=function(){this._renderer.clear()},d([p(3,h.IOptionsService),p(4,r.ICharSizeService),p(5,h.IDecorationService),p(6,h.IBufferService)],i)}(s.Disposable);o.RenderService=e},9312:function(T,o,y){var l,u=this&&this.__extends||(l=function(b,C){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,S){m.__proto__=S}||function(m,S){for(var k in S)Object.prototype.hasOwnProperty.call(S,k)&&(m[k]=S[k])},l(b,C)},function(b,C){if(typeof C!="function"&&C!==null)throw new TypeError("Class extends value "+String(C)+" is not a constructor or null");function m(){this.constructor=b}l(b,C),b.prototype=C===null?Object.create(C):(m.prototype=C.prototype,new m)}),d=this&&this.__decorate||function(b,C,m,S){var k,A=arguments.length,E=A<3?C:S===null?S=Object.getOwnPropertyDescriptor(C,m):S;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")E=Reflect.decorate(b,C,m,S);else for(var B=b.length-1;B>=0;B--)(k=b[B])&&(E=(A<3?k(E):A>3?k(C,m,E):k(C,m))||E);return A>3&&E&&Object.defineProperty(C,m,E),E},p=this&&this.__param||function(b,C){return function(m,S){C(m,S,b)}};Object.defineProperty(o,"__esModule",{value:!0}),o.SelectionService=void 0;var v=y(6114),g=y(456),s=y(511),a=y(8460),_=y(4725),h=y(2585),r=y(9806),e=y(9504),t=y(844),i=y(4841),n=String.fromCharCode(160),f=new RegExp(n,"g"),c=function(b){function C(m,S,k,A,E,B,R,x){var D=b.call(this)||this;return D._element=m,D._screenElement=S,D._linkifier=k,D._bufferService=A,D._coreService=E,D._mouseService=B,D._optionsService=R,D._renderService=x,D._dragScrollAmount=0,D._enabled=!0,D._workCell=new s.CellData,D._mouseDownTimeStamp=0,D._oldHasSelection=!1,D._oldSelectionStart=void 0,D._oldSelectionEnd=void 0,D._onLinuxMouseSelection=D.register(new a.EventEmitter),D._onRedrawRequest=D.register(new a.EventEmitter),D._onSelectionChange=D.register(new a.EventEmitter),D._onRequestScrollLines=D.register(new a.EventEmitter),D._mouseMoveListener=function(W){return D._onMouseMove(W)},D._mouseUpListener=function(W){return D._onMouseUp(W)},D._coreService.onUserInput(function(){D.hasSelection&&D.clearSelection()}),D._trimListener=D._bufferService.buffer.lines.onTrim(function(W){return D._onTrim(W)}),D.register(D._bufferService.buffers.onBufferActivate(function(W){return D._onBufferActivate(W)})),D.enable(),D._model=new g.SelectionModel(D._bufferService),D._activeSelectionMode=0,D}return u(C,b),Object.defineProperty(C.prototype,"onLinuxMouseSelection",{get:function(){return this._onLinuxMouseSelection.event},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"onRequestRedraw",{get:function(){return this._onRedrawRequest.event},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"onSelectionChange",{get:function(){return this._onSelectionChange.event},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"onRequestScrollLines",{get:function(){return this._onRequestScrollLines.event},enumerable:!1,configurable:!0}),C.prototype.dispose=function(){this._removeMouseDownListeners()},C.prototype.reset=function(){this.clearSelection()},C.prototype.disable=function(){this.clearSelection(),this._enabled=!1},C.prototype.enable=function(){this._enabled=!0},Object.defineProperty(C.prototype,"selectionStart",{get:function(){return this._model.finalSelectionStart},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"selectionEnd",{get:function(){return this._model.finalSelectionEnd},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"hasSelection",{get:function(){var m=this._model.finalSelectionStart,S=this._model.finalSelectionEnd;return!(!m||!S||m[0]===S[0]&&m[1]===S[1])},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"selectionText",{get:function(){var m=this._model.finalSelectionStart,S=this._model.finalSelectionEnd;if(!m||!S)return"";var k=this._bufferService.buffer,A=[];if(this._activeSelectionMode===3){if(m[0]===S[0])return"";for(var E=m[0]<S[0]?m[0]:S[0],B=m[0]<S[0]?S[0]:m[0],R=m[1];R<=S[1];R++){var x=k.translateBufferLineToString(R,!0,E,B);A.push(x)}}else{var D=m[1]===S[1]?S[0]:void 0;for(A.push(k.translateBufferLineToString(m[1],!0,m[0],D)),R=m[1]+1;R<=S[1]-1;R++){var W=k.lines.get(R);x=k.translateBufferLineToString(R,!0),W?.isWrapped?A[A.length-1]+=x:A.push(x)}m[1]!==S[1]&&(W=k.lines.get(S[1]),x=k.translateBufferLineToString(S[1],!0,0,S[0]),W&&W.isWrapped?A[A.length-1]+=x:A.push(x))}return A.map(function(z){return z.replace(f," ")}).join(v.isWindows?`\r
`:`
`)},enumerable:!1,configurable:!0}),C.prototype.clearSelection=function(){this._model.clearSelection(),this._removeMouseDownListeners(),this.refresh(),this._onSelectionChange.fire()},C.prototype.refresh=function(m){var S=this;this._refreshAnimationFrame||(this._refreshAnimationFrame=window.requestAnimationFrame(function(){return S._refresh()})),v.isLinux&&m&&this.selectionText.length&&this._onLinuxMouseSelection.fire(this.selectionText)},C.prototype._refresh=function(){this._refreshAnimationFrame=void 0,this._onRedrawRequest.fire({start:this._model.finalSelectionStart,end:this._model.finalSelectionEnd,columnSelectMode:this._activeSelectionMode===3})},C.prototype._isClickInSelection=function(m){var S=this._getMouseBufferCoords(m),k=this._model.finalSelectionStart,A=this._model.finalSelectionEnd;return!!(k&&A&&S)&&this._areCoordsInSelection(S,k,A)},C.prototype.isCellInSelection=function(m,S){var k=this._model.finalSelectionStart,A=this._model.finalSelectionEnd;return!(!k||!A)&&this._areCoordsInSelection([m,S],k,A)},C.prototype._areCoordsInSelection=function(m,S,k){return m[1]>S[1]&&m[1]<k[1]||S[1]===k[1]&&m[1]===S[1]&&m[0]>=S[0]&&m[0]<k[0]||S[1]<k[1]&&m[1]===k[1]&&m[0]<k[0]||S[1]<k[1]&&m[1]===S[1]&&m[0]>=S[0]},C.prototype._selectWordAtCursor=function(m,S){var k,A,E=(A=(k=this._linkifier.currentLink)===null||k===void 0?void 0:k.link)===null||A===void 0?void 0:A.range;if(E)return this._model.selectionStart=[E.start.x-1,E.start.y-1],this._model.selectionStartLength=(0,i.getRangeLength)(E,this._bufferService.cols),this._model.selectionEnd=void 0,!0;var B=this._getMouseBufferCoords(m);return!!B&&(this._selectWordAt(B,S),this._model.selectionEnd=void 0,!0)},C.prototype.selectAll=function(){this._model.isSelectAllActive=!0,this.refresh(),this._onSelectionChange.fire()},C.prototype.selectLines=function(m,S){this._model.clearSelection(),m=Math.max(m,0),S=Math.min(S,this._bufferService.buffer.lines.length-1),this._model.selectionStart=[0,m],this._model.selectionEnd=[this._bufferService.cols,S],this.refresh(),this._onSelectionChange.fire()},C.prototype._onTrim=function(m){this._model.onTrim(m)&&this.refresh()},C.prototype._getMouseBufferCoords=function(m){var S=this._mouseService.getCoords(m,this._screenElement,this._bufferService.cols,this._bufferService.rows,!0);if(S)return S[0]--,S[1]--,S[1]+=this._bufferService.buffer.ydisp,S},C.prototype._getMouseEventScrollAmount=function(m){var S=(0,r.getCoordsRelativeToElement)(window,m,this._screenElement)[1],k=this._renderService.dimensions.canvasHeight;return S>=0&&S<=k?0:(S>k&&(S-=k),S=Math.min(Math.max(S,-50),50),(S/=50)/Math.abs(S)+Math.round(14*S))},C.prototype.shouldForceSelection=function(m){return v.isMac?m.altKey&&this._optionsService.rawOptions.macOptionClickForcesSelection:m.shiftKey},C.prototype.onMouseDown=function(m){if(this._mouseDownTimeStamp=m.timeStamp,(m.button!==2||!this.hasSelection)&&m.button===0){if(!this._enabled){if(!this.shouldForceSelection(m))return;m.stopPropagation()}m.preventDefault(),this._dragScrollAmount=0,this._enabled&&m.shiftKey?this._onIncrementalClick(m):m.detail===1?this._onSingleClick(m):m.detail===2?this._onDoubleClick(m):m.detail===3&&this._onTripleClick(m),this._addMouseDownListeners(),this.refresh(!0)}},C.prototype._addMouseDownListeners=function(){var m=this;this._screenElement.ownerDocument&&(this._screenElement.ownerDocument.addEventListener("mousemove",this._mouseMoveListener),this._screenElement.ownerDocument.addEventListener("mouseup",this._mouseUpListener)),this._dragScrollIntervalTimer=window.setInterval(function(){return m._dragScroll()},50)},C.prototype._removeMouseDownListeners=function(){this._screenElement.ownerDocument&&(this._screenElement.ownerDocument.removeEventListener("mousemove",this._mouseMoveListener),this._screenElement.ownerDocument.removeEventListener("mouseup",this._mouseUpListener)),clearInterval(this._dragScrollIntervalTimer),this._dragScrollIntervalTimer=void 0},C.prototype._onIncrementalClick=function(m){this._model.selectionStart&&(this._model.selectionEnd=this._getMouseBufferCoords(m))},C.prototype._onSingleClick=function(m){if(this._model.selectionStartLength=0,this._model.isSelectAllActive=!1,this._activeSelectionMode=this.shouldColumnSelect(m)?3:0,this._model.selectionStart=this._getMouseBufferCoords(m),this._model.selectionStart){this._model.selectionEnd=void 0;var S=this._bufferService.buffer.lines.get(this._model.selectionStart[1]);S&&S.length!==this._model.selectionStart[0]&&S.hasWidth(this._model.selectionStart[0])===0&&this._model.selectionStart[0]++}},C.prototype._onDoubleClick=function(m){this._selectWordAtCursor(m,!0)&&(this._activeSelectionMode=1)},C.prototype._onTripleClick=function(m){var S=this._getMouseBufferCoords(m);S&&(this._activeSelectionMode=2,this._selectLineAt(S[1]))},C.prototype.shouldColumnSelect=function(m){return m.altKey&&!(v.isMac&&this._optionsService.rawOptions.macOptionClickForcesSelection)},C.prototype._onMouseMove=function(m){if(m.stopImmediatePropagation(),this._model.selectionStart){var S=this._model.selectionEnd?[this._model.selectionEnd[0],this._model.selectionEnd[1]]:null;if(this._model.selectionEnd=this._getMouseBufferCoords(m),this._model.selectionEnd){this._activeSelectionMode===2?this._model.selectionEnd[1]<this._model.selectionStart[1]?this._model.selectionEnd[0]=0:this._model.selectionEnd[0]=this._bufferService.cols:this._activeSelectionMode===1&&this._selectToWordAt(this._model.selectionEnd),this._dragScrollAmount=this._getMouseEventScrollAmount(m),this._activeSelectionMode!==3&&(this._dragScrollAmount>0?this._model.selectionEnd[0]=this._bufferService.cols:this._dragScrollAmount<0&&(this._model.selectionEnd[0]=0));var k=this._bufferService.buffer;if(this._model.selectionEnd[1]<k.lines.length){var A=k.lines.get(this._model.selectionEnd[1]);A&&A.hasWidth(this._model.selectionEnd[0])===0&&this._model.selectionEnd[0]++}S&&S[0]===this._model.selectionEnd[0]&&S[1]===this._model.selectionEnd[1]||this.refresh(!0)}else this.refresh(!0)}},C.prototype._dragScroll=function(){if(this._model.selectionEnd&&this._model.selectionStart&&this._dragScrollAmount){this._onRequestScrollLines.fire({amount:this._dragScrollAmount,suppressScrollEvent:!1});var m=this._bufferService.buffer;this._dragScrollAmount>0?(this._activeSelectionMode!==3&&(this._model.selectionEnd[0]=this._bufferService.cols),this._model.selectionEnd[1]=Math.min(m.ydisp+this._bufferService.rows,m.lines.length-1)):(this._activeSelectionMode!==3&&(this._model.selectionEnd[0]=0),this._model.selectionEnd[1]=m.ydisp),this.refresh()}},C.prototype._onMouseUp=function(m){var S=m.timeStamp-this._mouseDownTimeStamp;if(this._removeMouseDownListeners(),this.selectionText.length<=1&&S<500&&m.altKey&&this._optionsService.getOption("altClickMovesCursor")){if(this._bufferService.buffer.ybase===this._bufferService.buffer.ydisp){var k=this._mouseService.getCoords(m,this._element,this._bufferService.cols,this._bufferService.rows,!1);if(k&&k[0]!==void 0&&k[1]!==void 0){var A=(0,e.moveToCellSequence)(k[0]-1,k[1]-1,this._bufferService,this._coreService.decPrivateModes.applicationCursorKeys);this._coreService.triggerDataEvent(A,!0)}}}else this._fireEventIfSelectionChanged()},C.prototype._fireEventIfSelectionChanged=function(){var m=this._model.finalSelectionStart,S=this._model.finalSelectionEnd,k=!(!m||!S||m[0]===S[0]&&m[1]===S[1]);k?m&&S&&(this._oldSelectionStart&&this._oldSelectionEnd&&m[0]===this._oldSelectionStart[0]&&m[1]===this._oldSelectionStart[1]&&S[0]===this._oldSelectionEnd[0]&&S[1]===this._oldSelectionEnd[1]||this._fireOnSelectionChange(m,S,k)):this._oldHasSelection&&this._fireOnSelectionChange(m,S,k)},C.prototype._fireOnSelectionChange=function(m,S,k){this._oldSelectionStart=m,this._oldSelectionEnd=S,this._oldHasSelection=k,this._onSelectionChange.fire()},C.prototype._onBufferActivate=function(m){var S=this;this.clearSelection(),this._trimListener.dispose(),this._trimListener=m.activeBuffer.lines.onTrim(function(k){return S._onTrim(k)})},C.prototype._convertViewportColToCharacterIndex=function(m,S){for(var k=S[0],A=0;S[0]>=A;A++){var E=m.loadCell(A,this._workCell).getChars().length;this._workCell.getWidth()===0?k--:E>1&&S[0]!==A&&(k+=E-1)}return k},C.prototype.setSelection=function(m,S,k){this._model.clearSelection(),this._removeMouseDownListeners(),this._model.selectionStart=[m,S],this._model.selectionStartLength=k,this.refresh(),this._fireEventIfSelectionChanged()},C.prototype.rightClickSelect=function(m){this._isClickInSelection(m)||(this._selectWordAtCursor(m,!1)&&this.refresh(!0),this._fireEventIfSelectionChanged())},C.prototype._getWordAt=function(m,S,k,A){if(k===void 0&&(k=!0),A===void 0&&(A=!0),!(m[0]>=this._bufferService.cols)){var E=this._bufferService.buffer,B=E.lines.get(m[1]);if(B){var R=E.translateBufferLineToString(m[1],!1),x=this._convertViewportColToCharacterIndex(B,m),D=x,W=m[0]-x,z=0,Y=0,N=0,V=0;if(R.charAt(x)===" "){for(;x>0&&R.charAt(x-1)===" ";)x--;for(;D<R.length&&R.charAt(D+1)===" ";)D++}else{var K=m[0],O=m[0];B.getWidth(K)===0&&(z++,K--),B.getWidth(O)===2&&(Y++,O++);var ee=B.getString(O).length;for(ee>1&&(V+=ee-1,D+=ee-1);K>0&&x>0&&!this._isCharWordSeparator(B.loadCell(K-1,this._workCell));){B.loadCell(K-1,this._workCell);var Q=this._workCell.getChars().length;this._workCell.getWidth()===0?(z++,K--):Q>1&&(N+=Q-1,x-=Q-1),x--,K--}for(;O<B.length&&D+1<R.length&&!this._isCharWordSeparator(B.loadCell(O+1,this._workCell));){B.loadCell(O+1,this._workCell);var ne=this._workCell.getChars().length;this._workCell.getWidth()===2?(Y++,O++):ne>1&&(V+=ne-1,D+=ne-1),D++,O++}}D++;var F=x+W-z+N,re=Math.min(this._bufferService.cols,D-x+z+Y-N-V);if(S||R.slice(x,D).trim()!==""){if(k&&F===0&&B.getCodePoint(0)!==32){var J=E.lines.get(m[1]-1);if(J&&B.isWrapped&&J.getCodePoint(this._bufferService.cols-1)!==32){var G=this._getWordAt([this._bufferService.cols-1,m[1]-1],!1,!0,!1);if(G){var P=this._bufferService.cols-G.start;F-=P,re+=P}}}if(A&&F+re===this._bufferService.cols&&B.getCodePoint(this._bufferService.cols-1)!==32){var I=E.lines.get(m[1]+1);if(I?.isWrapped&&I.getCodePoint(0)!==32){var q=this._getWordAt([0,m[1]+1],!1,!1,!0);q&&(re+=q.length)}}return{start:F,length:re}}}}},C.prototype._selectWordAt=function(m,S){var k=this._getWordAt(m,S);if(k){for(;k.start<0;)k.start+=this._bufferService.cols,m[1]--;this._model.selectionStart=[k.start,m[1]],this._model.selectionStartLength=k.length}},C.prototype._selectToWordAt=function(m){var S=this._getWordAt(m,!0);if(S){for(var k=m[1];S.start<0;)S.start+=this._bufferService.cols,k--;if(!this._model.areSelectionValuesReversed())for(;S.start+S.length>this._bufferService.cols;)S.length-=this._bufferService.cols,k++;this._model.selectionEnd=[this._model.areSelectionValuesReversed()?S.start:S.start+S.length,k]}},C.prototype._isCharWordSeparator=function(m){return m.getWidth()!==0&&this._optionsService.rawOptions.wordSeparator.indexOf(m.getChars())>=0},C.prototype._selectLineAt=function(m){var S=this._bufferService.buffer.getWrappedRangeForLine(m),k={start:{x:0,y:S.first},end:{x:this._bufferService.cols-1,y:S.last}};this._model.selectionStart=[0,S.first],this._model.selectionEnd=void 0,this._model.selectionStartLength=(0,i.getRangeLength)(k,this._bufferService.cols)},d([p(3,h.IBufferService),p(4,h.ICoreService),p(5,_.IMouseService),p(6,h.IOptionsService),p(7,_.IRenderService)],C)}(t.Disposable);o.SelectionService=c},4725:(T,o,y)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.ICharacterJoinerService=o.ISoundService=o.ISelectionService=o.IRenderService=o.IMouseService=o.ICoreBrowserService=o.ICharSizeService=void 0;var l=y(8343);o.ICharSizeService=(0,l.createDecorator)("CharSizeService"),o.ICoreBrowserService=(0,l.createDecorator)("CoreBrowserService"),o.IMouseService=(0,l.createDecorator)("MouseService"),o.IRenderService=(0,l.createDecorator)("RenderService"),o.ISelectionService=(0,l.createDecorator)("SelectionService"),o.ISoundService=(0,l.createDecorator)("SoundService"),o.ICharacterJoinerService=(0,l.createDecorator)("CharacterJoinerService")},357:function(T,o,y){var l=this&&this.__decorate||function(v,g,s,a){var _,h=arguments.length,r=h<3?g:a===null?a=Object.getOwnPropertyDescriptor(g,s):a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(v,g,s,a);else for(var e=v.length-1;e>=0;e--)(_=v[e])&&(r=(h<3?_(r):h>3?_(g,s,r):_(g,s))||r);return h>3&&r&&Object.defineProperty(g,s,r),r},u=this&&this.__param||function(v,g){return function(s,a){g(s,a,v)}};Object.defineProperty(o,"__esModule",{value:!0}),o.SoundService=void 0;var d=y(2585),p=function(){function v(g){this._optionsService=g}return Object.defineProperty(v,"audioContext",{get:function(){if(!v._audioContext){var g=window.AudioContext||window.webkitAudioContext;if(!g)return console.warn("Web Audio API is not supported by this browser. Consider upgrading to the latest version"),null;v._audioContext=new g}return v._audioContext},enumerable:!1,configurable:!0}),v.prototype.playBellSound=function(){var g=v.audioContext;if(g){var s=g.createBufferSource();g.decodeAudioData(this._base64ToArrayBuffer(this._removeMimeType(this._optionsService.rawOptions.bellSound)),function(a){s.buffer=a,s.connect(g.destination),s.start(0)})}},v.prototype._base64ToArrayBuffer=function(g){for(var s=window.atob(g),a=s.length,_=new Uint8Array(a),h=0;h<a;h++)_[h]=s.charCodeAt(h);return _.buffer},v.prototype._removeMimeType=function(g){return g.split(",")[1]},v=l([u(0,d.IOptionsService)],v)}();o.SoundService=p},6349:(T,o,y)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.CircularList=void 0;var l=y(8460),u=function(){function d(p){this._maxLength=p,this.onDeleteEmitter=new l.EventEmitter,this.onInsertEmitter=new l.EventEmitter,this.onTrimEmitter=new l.EventEmitter,this._array=new Array(this._maxLength),this._startIndex=0,this._length=0}return Object.defineProperty(d.prototype,"onDelete",{get:function(){return this.onDeleteEmitter.event},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"onInsert",{get:function(){return this.onInsertEmitter.event},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"onTrim",{get:function(){return this.onTrimEmitter.event},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"maxLength",{get:function(){return this._maxLength},set:function(p){if(this._maxLength!==p){for(var v=new Array(p),g=0;g<Math.min(p,this.length);g++)v[g]=this._array[this._getCyclicIndex(g)];this._array=v,this._maxLength=p,this._startIndex=0}},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"length",{get:function(){return this._length},set:function(p){if(p>this._length)for(var v=this._length;v<p;v++)this._array[v]=void 0;this._length=p},enumerable:!1,configurable:!0}),d.prototype.get=function(p){return this._array[this._getCyclicIndex(p)]},d.prototype.set=function(p,v){this._array[this._getCyclicIndex(p)]=v},d.prototype.push=function(p){this._array[this._getCyclicIndex(this._length)]=p,this._length===this._maxLength?(this._startIndex=++this._startIndex%this._maxLength,this.onTrimEmitter.fire(1)):this._length++},d.prototype.recycle=function(){if(this._length!==this._maxLength)throw new Error("Can only recycle when the buffer is full");return this._startIndex=++this._startIndex%this._maxLength,this.onTrimEmitter.fire(1),this._array[this._getCyclicIndex(this._length-1)]},Object.defineProperty(d.prototype,"isFull",{get:function(){return this._length===this._maxLength},enumerable:!1,configurable:!0}),d.prototype.pop=function(){return this._array[this._getCyclicIndex(this._length---1)]},d.prototype.splice=function(p,v){for(var g=[],s=2;s<arguments.length;s++)g[s-2]=arguments[s];if(v){for(var a=p;a<this._length-v;a++)this._array[this._getCyclicIndex(a)]=this._array[this._getCyclicIndex(a+v)];this._length-=v,this.onDeleteEmitter.fire({index:p,amount:v})}for(a=this._length-1;a>=p;a--)this._array[this._getCyclicIndex(a+g.length)]=this._array[this._getCyclicIndex(a)];for(a=0;a<g.length;a++)this._array[this._getCyclicIndex(p+a)]=g[a];if(g.length&&this.onInsertEmitter.fire({index:p,amount:g.length}),this._length+g.length>this._maxLength){var _=this._length+g.length-this._maxLength;this._startIndex+=_,this._length=this._maxLength,this.onTrimEmitter.fire(_)}else this._length+=g.length},d.prototype.trimStart=function(p){p>this._length&&(p=this._length),this._startIndex+=p,this._length-=p,this.onTrimEmitter.fire(p)},d.prototype.shiftElements=function(p,v,g){if(!(v<=0)){if(p<0||p>=this._length)throw new Error("start argument out of range");if(p+g<0)throw new Error("Cannot shift elements in list beyond index 0");if(g>0){for(var s=v-1;s>=0;s--)this.set(p+s+g,this.get(p+s));var a=p+v+g-this._length;if(a>0)for(this._length+=a;this._length>this._maxLength;)this._length--,this._startIndex++,this.onTrimEmitter.fire(1)}else for(s=0;s<v;s++)this.set(p+s+g,this.get(p+s))}},d.prototype._getCyclicIndex=function(p){return(this._startIndex+p)%this._maxLength},d}();o.CircularList=u},1439:(T,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.clone=void 0,o.clone=function y(l,u){if(u===void 0&&(u=5),typeof l!="object")return l;var d=Array.isArray(l)?[]:{};for(var p in l)d[p]=u<=1?l[p]:l[p]&&y(l[p],u-1);return d}},8055:function(T,o){var y,l,u,d,p=this&&this.__read||function(s,a){var _=typeof Symbol=="function"&&s[Symbol.iterator];if(!_)return s;var h,r,e=_.call(s),t=[];try{for(;(a===void 0||a-- >0)&&!(h=e.next()).done;)t.push(h.value)}catch(i){r={error:i}}finally{try{h&&!h.done&&(_=e.return)&&_.call(e)}finally{if(r)throw r.error}}return t};function v(s){var a=s.toString(16);return a.length<2?"0"+a:a}function g(s,a){return s<a?(a+.05)/(s+.05):(s+.05)/(a+.05)}Object.defineProperty(o,"__esModule",{value:!0}),o.contrastRatio=o.toPaddedHex=o.rgba=o.rgb=o.css=o.color=o.channels=void 0,function(s){s.toCss=function(a,_,h,r){return r!==void 0?"#"+v(a)+v(_)+v(h)+v(r):"#"+v(a)+v(_)+v(h)},s.toRgba=function(a,_,h,r){return r===void 0&&(r=255),(a<<24|_<<16|h<<8|r)>>>0}}(y=o.channels||(o.channels={})),(l=o.color||(o.color={})).blend=function(s,a){var _=(255&a.rgba)/255;if(_===1)return{css:a.css,rgba:a.rgba};var h=a.rgba>>24&255,r=a.rgba>>16&255,e=a.rgba>>8&255,t=s.rgba>>24&255,i=s.rgba>>16&255,n=s.rgba>>8&255,f=t+Math.round((h-t)*_),c=i+Math.round((r-i)*_),b=n+Math.round((e-n)*_);return{css:y.toCss(f,c,b),rgba:y.toRgba(f,c,b)}},l.isOpaque=function(s){return(255&s.rgba)==255},l.ensureContrastRatio=function(s,a,_){var h=d.ensureContrastRatio(s.rgba,a.rgba,_);if(h)return d.toColor(h>>24&255,h>>16&255,h>>8&255)},l.opaque=function(s){var a=(255|s.rgba)>>>0,_=p(d.toChannels(a),3),h=_[0],r=_[1],e=_[2];return{css:y.toCss(h,r,e),rgba:a}},l.opacity=function(s,a){var _=Math.round(255*a),h=p(d.toChannels(s.rgba),3),r=h[0],e=h[1],t=h[2];return{css:y.toCss(r,e,t,_),rgba:y.toRgba(r,e,t,_)}},l.toColorRGB=function(s){return[s.rgba>>24&255,s.rgba>>16&255,s.rgba>>8&255]},(o.css||(o.css={})).toColor=function(s){if(s.match(/#[0-9a-f]{3,8}/i))switch(s.length){case 4:var a=parseInt(s.slice(1,2).repeat(2),16),_=parseInt(s.slice(2,3).repeat(2),16),h=parseInt(s.slice(3,4).repeat(2),16);return d.toColor(a,_,h);case 5:a=parseInt(s.slice(1,2).repeat(2),16),_=parseInt(s.slice(2,3).repeat(2),16),h=parseInt(s.slice(3,4).repeat(2),16);var r=parseInt(s.slice(4,5).repeat(2),16);return d.toColor(a,_,h,r);case 7:return{css:s,rgba:(parseInt(s.slice(1),16)<<8|255)>>>0};case 9:return{css:s,rgba:parseInt(s.slice(1),16)>>>0}}var e=s.match(/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(,\s*(0|1|\d?\.(\d+))\s*)?\)/);if(e)return a=parseInt(e[1]),_=parseInt(e[2]),h=parseInt(e[3]),r=Math.round(255*(e[5]===void 0?1:parseFloat(e[5]))),d.toColor(a,_,h,r);throw new Error("css.toColor: Unsupported css format")},function(s){function a(_,h,r){var e=_/255,t=h/255,i=r/255;return .2126*(e<=.03928?e/12.92:Math.pow((e+.055)/1.055,2.4))+.7152*(t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4))+.0722*(i<=.03928?i/12.92:Math.pow((i+.055)/1.055,2.4))}s.relativeLuminance=function(_){return a(_>>16&255,_>>8&255,255&_)},s.relativeLuminance2=a}(u=o.rgb||(o.rgb={})),function(s){function a(h,r,e){for(var t=h>>24&255,i=h>>16&255,n=h>>8&255,f=r>>24&255,c=r>>16&255,b=r>>8&255,C=g(u.relativeLuminance2(f,c,b),u.relativeLuminance2(t,i,n));C<e&&(f>0||c>0||b>0);)f-=Math.max(0,Math.ceil(.1*f)),c-=Math.max(0,Math.ceil(.1*c)),b-=Math.max(0,Math.ceil(.1*b)),C=g(u.relativeLuminance2(f,c,b),u.relativeLuminance2(t,i,n));return(f<<24|c<<16|b<<8|255)>>>0}function _(h,r,e){for(var t=h>>24&255,i=h>>16&255,n=h>>8&255,f=r>>24&255,c=r>>16&255,b=r>>8&255,C=g(u.relativeLuminance2(f,c,b),u.relativeLuminance2(t,i,n));C<e&&(f<255||c<255||b<255);)f=Math.min(255,f+Math.ceil(.1*(255-f))),c=Math.min(255,c+Math.ceil(.1*(255-c))),b=Math.min(255,b+Math.ceil(.1*(255-b))),C=g(u.relativeLuminance2(f,c,b),u.relativeLuminance2(t,i,n));return(f<<24|c<<16|b<<8|255)>>>0}s.ensureContrastRatio=function(h,r,e){var t=u.relativeLuminance(h>>8),i=u.relativeLuminance(r>>8);if(g(t,i)<e){if(i<t){var n=a(h,r,e),f=g(t,u.relativeLuminance(n>>8));if(f<e){var c=_(h,h,e);return f>g(t,u.relativeLuminance(c>>8))?n:c}return n}var b=_(h,r,e),C=g(t,u.relativeLuminance(b>>8));return C<e?(c=a(h,h,e),C>g(t,u.relativeLuminance(c>>8))?b:c):b}},s.reduceLuminance=a,s.increaseLuminance=_,s.toChannels=function(h){return[h>>24&255,h>>16&255,h>>8&255,255&h]},s.toColor=function(h,r,e,t){return{css:y.toCss(h,r,e,t),rgba:y.toRgba(h,r,e,t)}}}(d=o.rgba||(o.rgba={})),o.toPaddedHex=v,o.contrastRatio=g},8969:function(T,o,y){var l,u=this&&this.__extends||(l=function(S,k){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(A,E){A.__proto__=E}||function(A,E){for(var B in E)Object.prototype.hasOwnProperty.call(E,B)&&(A[B]=E[B])},l(S,k)},function(S,k){if(typeof k!="function"&&k!==null)throw new TypeError("Class extends value "+String(k)+" is not a constructor or null");function A(){this.constructor=S}l(S,k),S.prototype=k===null?Object.create(k):(A.prototype=k.prototype,new A)}),d=this&&this.__values||function(S){var k=typeof Symbol=="function"&&Symbol.iterator,A=k&&S[k],E=0;if(A)return A.call(S);if(S&&typeof S.length=="number")return{next:function(){return S&&E>=S.length&&(S=void 0),{value:S&&S[E++],done:!S}}};throw new TypeError(k?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(o,"__esModule",{value:!0}),o.CoreTerminal=void 0;var p=y(844),v=y(2585),g=y(4348),s=y(7866),a=y(744),_=y(7302),h=y(6975),r=y(8460),e=y(1753),t=y(3730),i=y(1480),n=y(7994),f=y(9282),c=y(5435),b=y(5981),C=!1,m=function(S){function k(A){var E=S.call(this)||this;return E._onBinary=new r.EventEmitter,E._onData=new r.EventEmitter,E._onLineFeed=new r.EventEmitter,E._onResize=new r.EventEmitter,E._onScroll=new r.EventEmitter,E._onWriteParsed=new r.EventEmitter,E._instantiationService=new g.InstantiationService,E.optionsService=new _.OptionsService(A),E._instantiationService.setService(v.IOptionsService,E.optionsService),E._bufferService=E.register(E._instantiationService.createInstance(a.BufferService)),E._instantiationService.setService(v.IBufferService,E._bufferService),E._logService=E._instantiationService.createInstance(s.LogService),E._instantiationService.setService(v.ILogService,E._logService),E.coreService=E.register(E._instantiationService.createInstance(h.CoreService,function(){return E.scrollToBottom()})),E._instantiationService.setService(v.ICoreService,E.coreService),E.coreMouseService=E._instantiationService.createInstance(e.CoreMouseService),E._instantiationService.setService(v.ICoreMouseService,E.coreMouseService),E._dirtyRowService=E._instantiationService.createInstance(t.DirtyRowService),E._instantiationService.setService(v.IDirtyRowService,E._dirtyRowService),E.unicodeService=E._instantiationService.createInstance(i.UnicodeService),E._instantiationService.setService(v.IUnicodeService,E.unicodeService),E._charsetService=E._instantiationService.createInstance(n.CharsetService),E._instantiationService.setService(v.ICharsetService,E._charsetService),E._inputHandler=new c.InputHandler(E._bufferService,E._charsetService,E.coreService,E._dirtyRowService,E._logService,E.optionsService,E.coreMouseService,E.unicodeService),E.register((0,r.forwardEvent)(E._inputHandler.onLineFeed,E._onLineFeed)),E.register(E._inputHandler),E.register((0,r.forwardEvent)(E._bufferService.onResize,E._onResize)),E.register((0,r.forwardEvent)(E.coreService.onData,E._onData)),E.register((0,r.forwardEvent)(E.coreService.onBinary,E._onBinary)),E.register(E.optionsService.onOptionChange(function(B){return E._updateOptions(B)})),E.register(E._bufferService.onScroll(function(B){E._onScroll.fire({position:E._bufferService.buffer.ydisp,source:0}),E._dirtyRowService.markRangeDirty(E._bufferService.buffer.scrollTop,E._bufferService.buffer.scrollBottom)})),E.register(E._inputHandler.onScroll(function(B){E._onScroll.fire({position:E._bufferService.buffer.ydisp,source:0}),E._dirtyRowService.markRangeDirty(E._bufferService.buffer.scrollTop,E._bufferService.buffer.scrollBottom)})),E._writeBuffer=new b.WriteBuffer(function(B,R){return E._inputHandler.parse(B,R)}),E.register((0,r.forwardEvent)(E._writeBuffer.onWriteParsed,E._onWriteParsed)),E}return u(k,S),Object.defineProperty(k.prototype,"onBinary",{get:function(){return this._onBinary.event},enumerable:!1,configurable:!0}),Object.defineProperty(k.prototype,"onData",{get:function(){return this._onData.event},enumerable:!1,configurable:!0}),Object.defineProperty(k.prototype,"onLineFeed",{get:function(){return this._onLineFeed.event},enumerable:!1,configurable:!0}),Object.defineProperty(k.prototype,"onResize",{get:function(){return this._onResize.event},enumerable:!1,configurable:!0}),Object.defineProperty(k.prototype,"onWriteParsed",{get:function(){return this._onWriteParsed.event},enumerable:!1,configurable:!0}),Object.defineProperty(k.prototype,"onScroll",{get:function(){var A=this;return this._onScrollApi||(this._onScrollApi=new r.EventEmitter,this.register(this._onScroll.event(function(E){var B;(B=A._onScrollApi)===null||B===void 0||B.fire(E.position)}))),this._onScrollApi.event},enumerable:!1,configurable:!0}),Object.defineProperty(k.prototype,"cols",{get:function(){return this._bufferService.cols},enumerable:!1,configurable:!0}),Object.defineProperty(k.prototype,"rows",{get:function(){return this._bufferService.rows},enumerable:!1,configurable:!0}),Object.defineProperty(k.prototype,"buffers",{get:function(){return this._bufferService.buffers},enumerable:!1,configurable:!0}),Object.defineProperty(k.prototype,"options",{get:function(){return this.optionsService.options},set:function(A){for(var E in A)this.optionsService.options[E]=A[E]},enumerable:!1,configurable:!0}),k.prototype.dispose=function(){var A;this._isDisposed||(S.prototype.dispose.call(this),(A=this._windowsMode)===null||A===void 0||A.dispose(),this._windowsMode=void 0)},k.prototype.write=function(A,E){this._writeBuffer.write(A,E)},k.prototype.writeSync=function(A,E){this._logService.logLevel<=v.LogLevelEnum.WARN&&!C&&(this._logService.warn("writeSync is unreliable and will be removed soon."),C=!0),this._writeBuffer.writeSync(A,E)},k.prototype.resize=function(A,E){isNaN(A)||isNaN(E)||(A=Math.max(A,a.MINIMUM_COLS),E=Math.max(E,a.MINIMUM_ROWS),this._bufferService.resize(A,E))},k.prototype.scroll=function(A,E){E===void 0&&(E=!1),this._bufferService.scroll(A,E)},k.prototype.scrollLines=function(A,E,B){this._bufferService.scrollLines(A,E,B)},k.prototype.scrollPages=function(A){this._bufferService.scrollPages(A)},k.prototype.scrollToTop=function(){this._bufferService.scrollToTop()},k.prototype.scrollToBottom=function(){this._bufferService.scrollToBottom()},k.prototype.scrollToLine=function(A){this._bufferService.scrollToLine(A)},k.prototype.registerEscHandler=function(A,E){return this._inputHandler.registerEscHandler(A,E)},k.prototype.registerDcsHandler=function(A,E){return this._inputHandler.registerDcsHandler(A,E)},k.prototype.registerCsiHandler=function(A,E){return this._inputHandler.registerCsiHandler(A,E)},k.prototype.registerOscHandler=function(A,E){return this._inputHandler.registerOscHandler(A,E)},k.prototype._setup=function(){this.optionsService.rawOptions.windowsMode&&this._enableWindowsMode()},k.prototype.reset=function(){this._inputHandler.reset(),this._bufferService.reset(),this._charsetService.reset(),this.coreService.reset(),this.coreMouseService.reset()},k.prototype._updateOptions=function(A){var E;switch(A){case"scrollback":this.buffers.resize(this.cols,this.rows);break;case"windowsMode":this.optionsService.rawOptions.windowsMode?this._enableWindowsMode():((E=this._windowsMode)===null||E===void 0||E.dispose(),this._windowsMode=void 0)}},k.prototype._enableWindowsMode=function(){var A=this;if(!this._windowsMode){var E=[];E.push(this.onLineFeed(f.updateWindowsModeWrappedState.bind(null,this._bufferService))),E.push(this.registerCsiHandler({final:"H"},function(){return(0,f.updateWindowsModeWrappedState)(A._bufferService),!1})),this._windowsMode={dispose:function(){var B,R;try{for(var x=d(E),D=x.next();!D.done;D=x.next())D.value.dispose()}catch(W){B={error:W}}finally{try{D&&!D.done&&(R=x.return)&&R.call(x)}finally{if(B)throw B.error}}}}}},k}(p.Disposable);o.CoreTerminal=m},8460:(T,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.forwardEvent=o.EventEmitter=void 0;var y=function(){function l(){this._listeners=[],this._disposed=!1}return Object.defineProperty(l.prototype,"event",{get:function(){var u=this;return this._event||(this._event=function(d){return u._listeners.push(d),{dispose:function(){if(!u._disposed){for(var p=0;p<u._listeners.length;p++)if(u._listeners[p]===d)return void u._listeners.splice(p,1)}}}}),this._event},enumerable:!1,configurable:!0}),l.prototype.fire=function(u,d){for(var p=[],v=0;v<this._listeners.length;v++)p.push(this._listeners[v]);for(v=0;v<p.length;v++)p[v].call(void 0,u,d)},l.prototype.dispose=function(){this._listeners&&(this._listeners.length=0),this._disposed=!0},l}();o.EventEmitter=y,o.forwardEvent=function(l,u){return l(function(d){return u.fire(d)})}},5435:function(T,o,y){var l,u=this&&this.__extends||(l=function(E,B){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(R,x){R.__proto__=x}||function(R,x){for(var D in x)Object.prototype.hasOwnProperty.call(x,D)&&(R[D]=x[D])},l(E,B)},function(E,B){if(typeof B!="function"&&B!==null)throw new TypeError("Class extends value "+String(B)+" is not a constructor or null");function R(){this.constructor=E}l(E,B),E.prototype=B===null?Object.create(B):(R.prototype=B.prototype,new R)});Object.defineProperty(o,"__esModule",{value:!0}),o.InputHandler=o.WindowsOptionsReportType=void 0;var d,p=y(2584),v=y(7116),g=y(2015),s=y(844),a=y(8273),_=y(482),h=y(8437),r=y(8460),e=y(643),t=y(511),i=y(3734),n=y(2585),f=y(6242),c=y(6351),b=y(5941),C={"(":0,")":1,"*":2,"+":3,"-":1,".":2},m=131072;function S(E,B){if(E>24)return B.setWinLines||!1;switch(E){case 1:return!!B.restoreWin;case 2:return!!B.minimizeWin;case 3:return!!B.setWinPosition;case 4:return!!B.setWinSizePixels;case 5:return!!B.raiseWin;case 6:return!!B.lowerWin;case 7:return!!B.refreshWin;case 8:return!!B.setWinSizeChars;case 9:return!!B.maximizeWin;case 10:return!!B.fullscreenWin;case 11:return!!B.getWinState;case 13:return!!B.getWinPosition;case 14:return!!B.getWinSizePixels;case 15:return!!B.getScreenSizePixels;case 16:return!!B.getCellSizePixels;case 18:return!!B.getWinSizeChars;case 19:return!!B.getScreenSizeChars;case 20:return!!B.getIconTitle;case 21:return!!B.getWinTitle;case 22:return!!B.pushTitle;case 23:return!!B.popTitle;case 24:return!!B.setWinLines}return!1}(function(E){E[E.GET_WIN_SIZE_PIXELS=0]="GET_WIN_SIZE_PIXELS",E[E.GET_CELL_SIZE_PIXELS=1]="GET_CELL_SIZE_PIXELS"})(d=o.WindowsOptionsReportType||(o.WindowsOptionsReportType={}));var k=function(){function E(B,R,x,D){this._bufferService=B,this._coreService=R,this._logService=x,this._optionsService=D,this._data=new Uint32Array(0)}return E.prototype.hook=function(B){this._data=new Uint32Array(0)},E.prototype.put=function(B,R,x){this._data=(0,a.concat)(this._data,B.subarray(R,x))},E.prototype.unhook=function(B){if(!B)return this._data=new Uint32Array(0),!0;var R=(0,_.utf32ToString)(this._data);switch(this._data=new Uint32Array(0),R){case'"q':this._coreService.triggerDataEvent(p.C0.ESC+'P1$r0"q'+p.C0.ESC+"\\");break;case'"p':this._coreService.triggerDataEvent(p.C0.ESC+'P1$r61;1"p'+p.C0.ESC+"\\");break;case"r":var x=this._bufferService.buffer.scrollTop+1+";"+(this._bufferService.buffer.scrollBottom+1)+"r";this._coreService.triggerDataEvent(p.C0.ESC+"P1$r"+x+p.C0.ESC+"\\");break;case"m":this._coreService.triggerDataEvent(p.C0.ESC+"P1$r0m"+p.C0.ESC+"\\");break;case" q":var D={block:2,underline:4,bar:6}[this._optionsService.rawOptions.cursorStyle];D-=this._optionsService.rawOptions.cursorBlink?1:0,this._coreService.triggerDataEvent(p.C0.ESC+"P1$r"+D+" q"+p.C0.ESC+"\\");break;default:this._logService.debug("Unknown DCS $q %s",R),this._coreService.triggerDataEvent(p.C0.ESC+"P0$r"+p.C0.ESC+"\\")}return!0},E}(),A=function(E){function B(R,x,D,W,z,Y,N,V,K){K===void 0&&(K=new g.EscapeSequenceParser);var O=E.call(this)||this;O._bufferService=R,O._charsetService=x,O._coreService=D,O._dirtyRowService=W,O._logService=z,O._optionsService=Y,O._coreMouseService=N,O._unicodeService=V,O._parser=K,O._parseBuffer=new Uint32Array(4096),O._stringDecoder=new _.StringToUtf32,O._utf8Decoder=new _.Utf8ToUtf32,O._workCell=new t.CellData,O._windowTitle="",O._iconName="",O._windowTitleStack=[],O._iconNameStack=[],O._curAttrData=h.DEFAULT_ATTR_DATA.clone(),O._eraseAttrDataInternal=h.DEFAULT_ATTR_DATA.clone(),O._onRequestBell=new r.EventEmitter,O._onRequestRefreshRows=new r.EventEmitter,O._onRequestReset=new r.EventEmitter,O._onRequestSendFocus=new r.EventEmitter,O._onRequestSyncScrollBar=new r.EventEmitter,O._onRequestWindowsOptionsReport=new r.EventEmitter,O._onA11yChar=new r.EventEmitter,O._onA11yTab=new r.EventEmitter,O._onCursorMove=new r.EventEmitter,O._onLineFeed=new r.EventEmitter,O._onScroll=new r.EventEmitter,O._onTitleChange=new r.EventEmitter,O._onColor=new r.EventEmitter,O._parseStack={paused:!1,cursorStartX:0,cursorStartY:0,decodedLength:0,position:0},O._specialColors=[256,257,258],O.register(O._parser),O._activeBuffer=O._bufferService.buffer,O.register(O._bufferService.buffers.onBufferActivate(function(F){return O._activeBuffer=F.activeBuffer})),O._parser.setCsiHandlerFallback(function(F,re){O._logService.debug("Unknown CSI code: ",{identifier:O._parser.identToString(F),params:re.toArray()})}),O._parser.setEscHandlerFallback(function(F){O._logService.debug("Unknown ESC code: ",{identifier:O._parser.identToString(F)})}),O._parser.setExecuteHandlerFallback(function(F){O._logService.debug("Unknown EXECUTE code: ",{code:F})}),O._parser.setOscHandlerFallback(function(F,re,J){O._logService.debug("Unknown OSC code: ",{identifier:F,action:re,data:J})}),O._parser.setDcsHandlerFallback(function(F,re,J){re==="HOOK"&&(J=J.toArray()),O._logService.debug("Unknown DCS code: ",{identifier:O._parser.identToString(F),action:re,payload:J})}),O._parser.setPrintHandler(function(F,re,J){return O.print(F,re,J)}),O._parser.registerCsiHandler({final:"@"},function(F){return O.insertChars(F)}),O._parser.registerCsiHandler({intermediates:" ",final:"@"},function(F){return O.scrollLeft(F)}),O._parser.registerCsiHandler({final:"A"},function(F){return O.cursorUp(F)}),O._parser.registerCsiHandler({intermediates:" ",final:"A"},function(F){return O.scrollRight(F)}),O._parser.registerCsiHandler({final:"B"},function(F){return O.cursorDown(F)}),O._parser.registerCsiHandler({final:"C"},function(F){return O.cursorForward(F)}),O._parser.registerCsiHandler({final:"D"},function(F){return O.cursorBackward(F)}),O._parser.registerCsiHandler({final:"E"},function(F){return O.cursorNextLine(F)}),O._parser.registerCsiHandler({final:"F"},function(F){return O.cursorPrecedingLine(F)}),O._parser.registerCsiHandler({final:"G"},function(F){return O.cursorCharAbsolute(F)}),O._parser.registerCsiHandler({final:"H"},function(F){return O.cursorPosition(F)}),O._parser.registerCsiHandler({final:"I"},function(F){return O.cursorForwardTab(F)}),O._parser.registerCsiHandler({final:"J"},function(F){return O.eraseInDisplay(F)}),O._parser.registerCsiHandler({prefix:"?",final:"J"},function(F){return O.eraseInDisplay(F)}),O._parser.registerCsiHandler({final:"K"},function(F){return O.eraseInLine(F)}),O._parser.registerCsiHandler({prefix:"?",final:"K"},function(F){return O.eraseInLine(F)}),O._parser.registerCsiHandler({final:"L"},function(F){return O.insertLines(F)}),O._parser.registerCsiHandler({final:"M"},function(F){return O.deleteLines(F)}),O._parser.registerCsiHandler({final:"P"},function(F){return O.deleteChars(F)}),O._parser.registerCsiHandler({final:"S"},function(F){return O.scrollUp(F)}),O._parser.registerCsiHandler({final:"T"},function(F){return O.scrollDown(F)}),O._parser.registerCsiHandler({final:"X"},function(F){return O.eraseChars(F)}),O._parser.registerCsiHandler({final:"Z"},function(F){return O.cursorBackwardTab(F)}),O._parser.registerCsiHandler({final:"`"},function(F){return O.charPosAbsolute(F)}),O._parser.registerCsiHandler({final:"a"},function(F){return O.hPositionRelative(F)}),O._parser.registerCsiHandler({final:"b"},function(F){return O.repeatPrecedingCharacter(F)}),O._parser.registerCsiHandler({final:"c"},function(F){return O.sendDeviceAttributesPrimary(F)}),O._parser.registerCsiHandler({prefix:">",final:"c"},function(F){return O.sendDeviceAttributesSecondary(F)}),O._parser.registerCsiHandler({final:"d"},function(F){return O.linePosAbsolute(F)}),O._parser.registerCsiHandler({final:"e"},function(F){return O.vPositionRelative(F)}),O._parser.registerCsiHandler({final:"f"},function(F){return O.hVPosition(F)}),O._parser.registerCsiHandler({final:"g"},function(F){return O.tabClear(F)}),O._parser.registerCsiHandler({final:"h"},function(F){return O.setMode(F)}),O._parser.registerCsiHandler({prefix:"?",final:"h"},function(F){return O.setModePrivate(F)}),O._parser.registerCsiHandler({final:"l"},function(F){return O.resetMode(F)}),O._parser.registerCsiHandler({prefix:"?",final:"l"},function(F){return O.resetModePrivate(F)}),O._parser.registerCsiHandler({final:"m"},function(F){return O.charAttributes(F)}),O._parser.registerCsiHandler({final:"n"},function(F){return O.deviceStatus(F)}),O._parser.registerCsiHandler({prefix:"?",final:"n"},function(F){return O.deviceStatusPrivate(F)}),O._parser.registerCsiHandler({intermediates:"!",final:"p"},function(F){return O.softReset(F)}),O._parser.registerCsiHandler({intermediates:" ",final:"q"},function(F){return O.setCursorStyle(F)}),O._parser.registerCsiHandler({final:"r"},function(F){return O.setScrollRegion(F)}),O._parser.registerCsiHandler({final:"s"},function(F){return O.saveCursor(F)}),O._parser.registerCsiHandler({final:"t"},function(F){return O.windowOptions(F)}),O._parser.registerCsiHandler({final:"u"},function(F){return O.restoreCursor(F)}),O._parser.registerCsiHandler({intermediates:"'",final:"}"},function(F){return O.insertColumns(F)}),O._parser.registerCsiHandler({intermediates:"'",final:"~"},function(F){return O.deleteColumns(F)}),O._parser.setExecuteHandler(p.C0.BEL,function(){return O.bell()}),O._parser.setExecuteHandler(p.C0.LF,function(){return O.lineFeed()}),O._parser.setExecuteHandler(p.C0.VT,function(){return O.lineFeed()}),O._parser.setExecuteHandler(p.C0.FF,function(){return O.lineFeed()}),O._parser.setExecuteHandler(p.C0.CR,function(){return O.carriageReturn()}),O._parser.setExecuteHandler(p.C0.BS,function(){return O.backspace()}),O._parser.setExecuteHandler(p.C0.HT,function(){return O.tab()}),O._parser.setExecuteHandler(p.C0.SO,function(){return O.shiftOut()}),O._parser.setExecuteHandler(p.C0.SI,function(){return O.shiftIn()}),O._parser.setExecuteHandler(p.C1.IND,function(){return O.index()}),O._parser.setExecuteHandler(p.C1.NEL,function(){return O.nextLine()}),O._parser.setExecuteHandler(p.C1.HTS,function(){return O.tabSet()}),O._parser.registerOscHandler(0,new f.OscHandler(function(F){return O.setTitle(F),O.setIconName(F),!0})),O._parser.registerOscHandler(1,new f.OscHandler(function(F){return O.setIconName(F)})),O._parser.registerOscHandler(2,new f.OscHandler(function(F){return O.setTitle(F)})),O._parser.registerOscHandler(4,new f.OscHandler(function(F){return O.setOrReportIndexedColor(F)})),O._parser.registerOscHandler(10,new f.OscHandler(function(F){return O.setOrReportFgColor(F)})),O._parser.registerOscHandler(11,new f.OscHandler(function(F){return O.setOrReportBgColor(F)})),O._parser.registerOscHandler(12,new f.OscHandler(function(F){return O.setOrReportCursorColor(F)})),O._parser.registerOscHandler(104,new f.OscHandler(function(F){return O.restoreIndexedColor(F)})),O._parser.registerOscHandler(110,new f.OscHandler(function(F){return O.restoreFgColor(F)})),O._parser.registerOscHandler(111,new f.OscHandler(function(F){return O.restoreBgColor(F)})),O._parser.registerOscHandler(112,new f.OscHandler(function(F){return O.restoreCursorColor(F)})),O._parser.registerEscHandler({final:"7"},function(){return O.saveCursor()}),O._parser.registerEscHandler({final:"8"},function(){return O.restoreCursor()}),O._parser.registerEscHandler({final:"D"},function(){return O.index()}),O._parser.registerEscHandler({final:"E"},function(){return O.nextLine()}),O._parser.registerEscHandler({final:"H"},function(){return O.tabSet()}),O._parser.registerEscHandler({final:"M"},function(){return O.reverseIndex()}),O._parser.registerEscHandler({final:"="},function(){return O.keypadApplicationMode()}),O._parser.registerEscHandler({final:">"},function(){return O.keypadNumericMode()}),O._parser.registerEscHandler({final:"c"},function(){return O.fullReset()}),O._parser.registerEscHandler({final:"n"},function(){return O.setgLevel(2)}),O._parser.registerEscHandler({final:"o"},function(){return O.setgLevel(3)}),O._parser.registerEscHandler({final:"|"},function(){return O.setgLevel(3)}),O._parser.registerEscHandler({final:"}"},function(){return O.setgLevel(2)}),O._parser.registerEscHandler({final:"~"},function(){return O.setgLevel(1)}),O._parser.registerEscHandler({intermediates:"%",final:"@"},function(){return O.selectDefaultCharset()}),O._parser.registerEscHandler({intermediates:"%",final:"G"},function(){return O.selectDefaultCharset()});var ee=function(F){Q._parser.registerEscHandler({intermediates:"(",final:F},function(){return O.selectCharset("("+F)}),Q._parser.registerEscHandler({intermediates:")",final:F},function(){return O.selectCharset(")"+F)}),Q._parser.registerEscHandler({intermediates:"*",final:F},function(){return O.selectCharset("*"+F)}),Q._parser.registerEscHandler({intermediates:"+",final:F},function(){return O.selectCharset("+"+F)}),Q._parser.registerEscHandler({intermediates:"-",final:F},function(){return O.selectCharset("-"+F)}),Q._parser.registerEscHandler({intermediates:".",final:F},function(){return O.selectCharset("."+F)}),Q._parser.registerEscHandler({intermediates:"/",final:F},function(){return O.selectCharset("/"+F)})},Q=this;for(var ne in v.CHARSETS)ee(ne);return O._parser.registerEscHandler({intermediates:"#",final:"8"},function(){return O.screenAlignmentPattern()}),O._parser.setErrorHandler(function(F){return O._logService.error("Parsing error: ",F),F}),O._parser.registerDcsHandler({intermediates:"$",final:"q"},new k(O._bufferService,O._coreService,O._logService,O._optionsService)),O}return u(B,E),Object.defineProperty(B.prototype,"onRequestBell",{get:function(){return this._onRequestBell.event},enumerable:!1,configurable:!0}),Object.defineProperty(B.prototype,"onRequestRefreshRows",{get:function(){return this._onRequestRefreshRows.event},enumerable:!1,configurable:!0}),Object.defineProperty(B.prototype,"onRequestReset",{get:function(){return this._onRequestReset.event},enumerable:!1,configurable:!0}),Object.defineProperty(B.prototype,"onRequestSendFocus",{get:function(){return this._onRequestSendFocus.event},enumerable:!1,configurable:!0}),Object.defineProperty(B.prototype,"onRequestSyncScrollBar",{get:function(){return this._onRequestSyncScrollBar.event},enumerable:!1,configurable:!0}),Object.defineProperty(B.prototype,"onRequestWindowsOptionsReport",{get:function(){return this._onRequestWindowsOptionsReport.event},enumerable:!1,configurable:!0}),Object.defineProperty(B.prototype,"onA11yChar",{get:function(){return this._onA11yChar.event},enumerable:!1,configurable:!0}),Object.defineProperty(B.prototype,"onA11yTab",{get:function(){return this._onA11yTab.event},enumerable:!1,configurable:!0}),Object.defineProperty(B.prototype,"onCursorMove",{get:function(){return this._onCursorMove.event},enumerable:!1,configurable:!0}),Object.defineProperty(B.prototype,"onLineFeed",{get:function(){return this._onLineFeed.event},enumerable:!1,configurable:!0}),Object.defineProperty(B.prototype,"onScroll",{get:function(){return this._onScroll.event},enumerable:!1,configurable:!0}),Object.defineProperty(B.prototype,"onTitleChange",{get:function(){return this._onTitleChange.event},enumerable:!1,configurable:!0}),Object.defineProperty(B.prototype,"onColor",{get:function(){return this._onColor.event},enumerable:!1,configurable:!0}),B.prototype.dispose=function(){E.prototype.dispose.call(this)},B.prototype._preserveStack=function(R,x,D,W){this._parseStack.paused=!0,this._parseStack.cursorStartX=R,this._parseStack.cursorStartY=x,this._parseStack.decodedLength=D,this._parseStack.position=W},B.prototype._logSlowResolvingAsync=function(R){this._logService.logLevel<=n.LogLevelEnum.WARN&&Promise.race([R,new Promise(function(x,D){return setTimeout(function(){return D("#SLOW_TIMEOUT")},5e3)})]).catch(function(x){if(x!=="#SLOW_TIMEOUT")throw x;console.warn("async parser handler taking longer than 5000 ms")})},B.prototype.parse=function(R,x){var D,W=this._activeBuffer.x,z=this._activeBuffer.y,Y=0,N=this._parseStack.paused;if(N){if(D=this._parser.parse(this._parseBuffer,this._parseStack.decodedLength,x))return this._logSlowResolvingAsync(D),D;W=this._parseStack.cursorStartX,z=this._parseStack.cursorStartY,this._parseStack.paused=!1,R.length>m&&(Y=this._parseStack.position+m)}if(this._logService.logLevel<=n.LogLevelEnum.DEBUG&&this._logService.debug("parsing data"+(typeof R=="string"?' "'+R+'"':' "'+Array.prototype.map.call(R,function(ee){return String.fromCharCode(ee)}).join("")+'"'),typeof R=="string"?R.split("").map(function(ee){return ee.charCodeAt(0)}):R),this._parseBuffer.length<R.length&&this._parseBuffer.length<m&&(this._parseBuffer=new Uint32Array(Math.min(R.length,m))),N||this._dirtyRowService.clearRange(),R.length>m)for(var V=Y;V<R.length;V+=m){var K=V+m<R.length?V+m:R.length,O=typeof R=="string"?this._stringDecoder.decode(R.substring(V,K),this._parseBuffer):this._utf8Decoder.decode(R.subarray(V,K),this._parseBuffer);if(D=this._parser.parse(this._parseBuffer,O))return this._preserveStack(W,z,O,V),this._logSlowResolvingAsync(D),D}else if(!N&&(O=typeof R=="string"?this._stringDecoder.decode(R,this._parseBuffer):this._utf8Decoder.decode(R,this._parseBuffer),D=this._parser.parse(this._parseBuffer,O)))return this._preserveStack(W,z,O,0),this._logSlowResolvingAsync(D),D;this._activeBuffer.x===W&&this._activeBuffer.y===z||this._onCursorMove.fire(),this._onRequestRefreshRows.fire(this._dirtyRowService.start,this._dirtyRowService.end)},B.prototype.print=function(R,x,D){var W,z,Y=this._charsetService.charset,N=this._optionsService.rawOptions.screenReaderMode,V=this._bufferService.cols,K=this._coreService.decPrivateModes.wraparound,O=this._coreService.modes.insertMode,ee=this._curAttrData,Q=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);this._dirtyRowService.markDirty(this._activeBuffer.y),this._activeBuffer.x&&D-x>0&&Q.getWidth(this._activeBuffer.x-1)===2&&Q.setCellFromCodePoint(this._activeBuffer.x-1,0,1,ee.fg,ee.bg,ee.extended);for(var ne=x;ne<D;++ne){if(W=R[ne],z=this._unicodeService.wcwidth(W),W<127&&Y){var F=Y[String.fromCharCode(W)];F&&(W=F.charCodeAt(0))}if(N&&this._onA11yChar.fire((0,_.stringFromCodePoint)(W)),z||!this._activeBuffer.x){if(this._activeBuffer.x+z-1>=V){if(K){for(;this._activeBuffer.x<V;)Q.setCellFromCodePoint(this._activeBuffer.x++,0,1,ee.fg,ee.bg,ee.extended);this._activeBuffer.x=0,this._activeBuffer.y++,this._activeBuffer.y===this._activeBuffer.scrollBottom+1?(this._activeBuffer.y--,this._bufferService.scroll(this._eraseAttrData(),!0)):(this._activeBuffer.y>=this._bufferService.rows&&(this._activeBuffer.y=this._bufferService.rows-1),this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y).isWrapped=!0),Q=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y)}else if(this._activeBuffer.x=V-1,z===2)continue}if(O&&(Q.insertCells(this._activeBuffer.x,z,this._activeBuffer.getNullCell(ee),ee),Q.getWidth(V-1)===2&&Q.setCellFromCodePoint(V-1,e.NULL_CELL_CODE,e.NULL_CELL_WIDTH,ee.fg,ee.bg,ee.extended)),Q.setCellFromCodePoint(this._activeBuffer.x++,W,z,ee.fg,ee.bg,ee.extended),z>0)for(;--z;)Q.setCellFromCodePoint(this._activeBuffer.x++,0,0,ee.fg,ee.bg,ee.extended)}else Q.getWidth(this._activeBuffer.x-1)?Q.addCodepointToCell(this._activeBuffer.x-1,W):Q.addCodepointToCell(this._activeBuffer.x-2,W)}D-x>0&&(Q.loadCell(this._activeBuffer.x-1,this._workCell),this._workCell.getWidth()===2||this._workCell.getCode()>65535?this._parser.precedingCodepoint=0:this._workCell.isCombined()?this._parser.precedingCodepoint=this._workCell.getChars().charCodeAt(0):this._parser.precedingCodepoint=this._workCell.content),this._activeBuffer.x<V&&D-x>0&&Q.getWidth(this._activeBuffer.x)===0&&!Q.hasContent(this._activeBuffer.x)&&Q.setCellFromCodePoint(this._activeBuffer.x,0,1,ee.fg,ee.bg,ee.extended),this._dirtyRowService.markDirty(this._activeBuffer.y)},B.prototype.registerCsiHandler=function(R,x){var D=this;return R.final!=="t"||R.prefix||R.intermediates?this._parser.registerCsiHandler(R,x):this._parser.registerCsiHandler(R,function(W){return!S(W.params[0],D._optionsService.rawOptions.windowOptions)||x(W)})},B.prototype.registerDcsHandler=function(R,x){return this._parser.registerDcsHandler(R,new c.DcsHandler(x))},B.prototype.registerEscHandler=function(R,x){return this._parser.registerEscHandler(R,x)},B.prototype.registerOscHandler=function(R,x){return this._parser.registerOscHandler(R,new f.OscHandler(x))},B.prototype.bell=function(){return this._onRequestBell.fire(),!0},B.prototype.lineFeed=function(){return this._dirtyRowService.markDirty(this._activeBuffer.y),this._optionsService.rawOptions.convertEol&&(this._activeBuffer.x=0),this._activeBuffer.y++,this._activeBuffer.y===this._activeBuffer.scrollBottom+1?(this._activeBuffer.y--,this._bufferService.scroll(this._eraseAttrData())):this._activeBuffer.y>=this._bufferService.rows&&(this._activeBuffer.y=this._bufferService.rows-1),this._activeBuffer.x>=this._bufferService.cols&&this._activeBuffer.x--,this._dirtyRowService.markDirty(this._activeBuffer.y),this._onLineFeed.fire(),!0},B.prototype.carriageReturn=function(){return this._activeBuffer.x=0,!0},B.prototype.backspace=function(){var R;if(!this._coreService.decPrivateModes.reverseWraparound)return this._restrictCursor(),this._activeBuffer.x>0&&this._activeBuffer.x--,!0;if(this._restrictCursor(this._bufferService.cols),this._activeBuffer.x>0)this._activeBuffer.x--;else if(this._activeBuffer.x===0&&this._activeBuffer.y>this._activeBuffer.scrollTop&&this._activeBuffer.y<=this._activeBuffer.scrollBottom&&((R=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y))===null||R===void 0?void 0:R.isWrapped)){this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y).isWrapped=!1,this._activeBuffer.y--,this._activeBuffer.x=this._bufferService.cols-1;var x=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);x.hasWidth(this._activeBuffer.x)&&!x.hasContent(this._activeBuffer.x)&&this._activeBuffer.x--}return this._restrictCursor(),!0},B.prototype.tab=function(){if(this._activeBuffer.x>=this._bufferService.cols)return!0;var R=this._activeBuffer.x;return this._activeBuffer.x=this._activeBuffer.nextStop(),this._optionsService.rawOptions.screenReaderMode&&this._onA11yTab.fire(this._activeBuffer.x-R),!0},B.prototype.shiftOut=function(){return this._charsetService.setgLevel(1),!0},B.prototype.shiftIn=function(){return this._charsetService.setgLevel(0),!0},B.prototype._restrictCursor=function(R){R===void 0&&(R=this._bufferService.cols-1),this._activeBuffer.x=Math.min(R,Math.max(0,this._activeBuffer.x)),this._activeBuffer.y=this._coreService.decPrivateModes.origin?Math.min(this._activeBuffer.scrollBottom,Math.max(this._activeBuffer.scrollTop,this._activeBuffer.y)):Math.min(this._bufferService.rows-1,Math.max(0,this._activeBuffer.y)),this._dirtyRowService.markDirty(this._activeBuffer.y)},B.prototype._setCursor=function(R,x){this._dirtyRowService.markDirty(this._activeBuffer.y),this._coreService.decPrivateModes.origin?(this._activeBuffer.x=R,this._activeBuffer.y=this._activeBuffer.scrollTop+x):(this._activeBuffer.x=R,this._activeBuffer.y=x),this._restrictCursor(),this._dirtyRowService.markDirty(this._activeBuffer.y)},B.prototype._moveCursor=function(R,x){this._restrictCursor(),this._setCursor(this._activeBuffer.x+R,this._activeBuffer.y+x)},B.prototype.cursorUp=function(R){var x=this._activeBuffer.y-this._activeBuffer.scrollTop;return x>=0?this._moveCursor(0,-Math.min(x,R.params[0]||1)):this._moveCursor(0,-(R.params[0]||1)),!0},B.prototype.cursorDown=function(R){var x=this._activeBuffer.scrollBottom-this._activeBuffer.y;return x>=0?this._moveCursor(0,Math.min(x,R.params[0]||1)):this._moveCursor(0,R.params[0]||1),!0},B.prototype.cursorForward=function(R){return this._moveCursor(R.params[0]||1,0),!0},B.prototype.cursorBackward=function(R){return this._moveCursor(-(R.params[0]||1),0),!0},B.prototype.cursorNextLine=function(R){return this.cursorDown(R),this._activeBuffer.x=0,!0},B.prototype.cursorPrecedingLine=function(R){return this.cursorUp(R),this._activeBuffer.x=0,!0},B.prototype.cursorCharAbsolute=function(R){return this._setCursor((R.params[0]||1)-1,this._activeBuffer.y),!0},B.prototype.cursorPosition=function(R){return this._setCursor(R.length>=2?(R.params[1]||1)-1:0,(R.params[0]||1)-1),!0},B.prototype.charPosAbsolute=function(R){return this._setCursor((R.params[0]||1)-1,this._activeBuffer.y),!0},B.prototype.hPositionRelative=function(R){return this._moveCursor(R.params[0]||1,0),!0},B.prototype.linePosAbsolute=function(R){return this._setCursor(this._activeBuffer.x,(R.params[0]||1)-1),!0},B.prototype.vPositionRelative=function(R){return this._moveCursor(0,R.params[0]||1),!0},B.prototype.hVPosition=function(R){return this.cursorPosition(R),!0},B.prototype.tabClear=function(R){var x=R.params[0];return x===0?delete this._activeBuffer.tabs[this._activeBuffer.x]:x===3&&(this._activeBuffer.tabs={}),!0},B.prototype.cursorForwardTab=function(R){if(this._activeBuffer.x>=this._bufferService.cols)return!0;for(var x=R.params[0]||1;x--;)this._activeBuffer.x=this._activeBuffer.nextStop();return!0},B.prototype.cursorBackwardTab=function(R){if(this._activeBuffer.x>=this._bufferService.cols)return!0;for(var x=R.params[0]||1;x--;)this._activeBuffer.x=this._activeBuffer.prevStop();return!0},B.prototype._eraseInBufferLine=function(R,x,D,W){W===void 0&&(W=!1);var z=this._activeBuffer.lines.get(this._activeBuffer.ybase+R);z.replaceCells(x,D,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),W&&(z.isWrapped=!1)},B.prototype._resetBufferLine=function(R){var x=this._activeBuffer.lines.get(this._activeBuffer.ybase+R);x.fill(this._activeBuffer.getNullCell(this._eraseAttrData())),this._bufferService.buffer.clearMarkers(this._activeBuffer.ybase+R),x.isWrapped=!1},B.prototype.eraseInDisplay=function(R){var x;switch(this._restrictCursor(this._bufferService.cols),R.params[0]){case 0:for(x=this._activeBuffer.y,this._dirtyRowService.markDirty(x),this._eraseInBufferLine(x++,this._activeBuffer.x,this._bufferService.cols,this._activeBuffer.x===0);x<this._bufferService.rows;x++)this._resetBufferLine(x);this._dirtyRowService.markDirty(x);break;case 1:for(x=this._activeBuffer.y,this._dirtyRowService.markDirty(x),this._eraseInBufferLine(x,0,this._activeBuffer.x+1,!0),this._activeBuffer.x+1>=this._bufferService.cols&&(this._activeBuffer.lines.get(x+1).isWrapped=!1);x--;)this._resetBufferLine(x);this._dirtyRowService.markDirty(0);break;case 2:for(x=this._bufferService.rows,this._dirtyRowService.markDirty(x-1);x--;)this._resetBufferLine(x);this._dirtyRowService.markDirty(0);break;case 3:var D=this._activeBuffer.lines.length-this._bufferService.rows;D>0&&(this._activeBuffer.lines.trimStart(D),this._activeBuffer.ybase=Math.max(this._activeBuffer.ybase-D,0),this._activeBuffer.ydisp=Math.max(this._activeBuffer.ydisp-D,0),this._onScroll.fire(0))}return!0},B.prototype.eraseInLine=function(R){switch(this._restrictCursor(this._bufferService.cols),R.params[0]){case 0:this._eraseInBufferLine(this._activeBuffer.y,this._activeBuffer.x,this._bufferService.cols,this._activeBuffer.x===0);break;case 1:this._eraseInBufferLine(this._activeBuffer.y,0,this._activeBuffer.x+1,!1);break;case 2:this._eraseInBufferLine(this._activeBuffer.y,0,this._bufferService.cols,!0)}return this._dirtyRowService.markDirty(this._activeBuffer.y),!0},B.prototype.insertLines=function(R){this._restrictCursor();var x=R.params[0]||1;if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;for(var D=this._activeBuffer.ybase+this._activeBuffer.y,W=this._bufferService.rows-1-this._activeBuffer.scrollBottom,z=this._bufferService.rows-1+this._activeBuffer.ybase-W+1;x--;)this._activeBuffer.lines.splice(z-1,1),this._activeBuffer.lines.splice(D,0,this._activeBuffer.getBlankLine(this._eraseAttrData()));return this._dirtyRowService.markRangeDirty(this._activeBuffer.y,this._activeBuffer.scrollBottom),this._activeBuffer.x=0,!0},B.prototype.deleteLines=function(R){this._restrictCursor();var x=R.params[0]||1;if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;var D,W=this._activeBuffer.ybase+this._activeBuffer.y;for(D=this._bufferService.rows-1-this._activeBuffer.scrollBottom,D=this._bufferService.rows-1+this._activeBuffer.ybase-D;x--;)this._activeBuffer.lines.splice(W,1),this._activeBuffer.lines.splice(D,0,this._activeBuffer.getBlankLine(this._eraseAttrData()));return this._dirtyRowService.markRangeDirty(this._activeBuffer.y,this._activeBuffer.scrollBottom),this._activeBuffer.x=0,!0},B.prototype.insertChars=function(R){this._restrictCursor();var x=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);return x&&(x.insertCells(this._activeBuffer.x,R.params[0]||1,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),this._dirtyRowService.markDirty(this._activeBuffer.y)),!0},B.prototype.deleteChars=function(R){this._restrictCursor();var x=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);return x&&(x.deleteCells(this._activeBuffer.x,R.params[0]||1,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),this._dirtyRowService.markDirty(this._activeBuffer.y)),!0},B.prototype.scrollUp=function(R){for(var x=R.params[0]||1;x--;)this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollTop,1),this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollBottom,0,this._activeBuffer.getBlankLine(this._eraseAttrData()));return this._dirtyRowService.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0},B.prototype.scrollDown=function(R){for(var x=R.params[0]||1;x--;)this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollBottom,1),this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollTop,0,this._activeBuffer.getBlankLine(h.DEFAULT_ATTR_DATA));return this._dirtyRowService.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0},B.prototype.scrollLeft=function(R){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;for(var x=R.params[0]||1,D=this._activeBuffer.scrollTop;D<=this._activeBuffer.scrollBottom;++D){var W=this._activeBuffer.lines.get(this._activeBuffer.ybase+D);W.deleteCells(0,x,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),W.isWrapped=!1}return this._dirtyRowService.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0},B.prototype.scrollRight=function(R){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;for(var x=R.params[0]||1,D=this._activeBuffer.scrollTop;D<=this._activeBuffer.scrollBottom;++D){var W=this._activeBuffer.lines.get(this._activeBuffer.ybase+D);W.insertCells(0,x,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),W.isWrapped=!1}return this._dirtyRowService.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0},B.prototype.insertColumns=function(R){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;for(var x=R.params[0]||1,D=this._activeBuffer.scrollTop;D<=this._activeBuffer.scrollBottom;++D){var W=this._activeBuffer.lines.get(this._activeBuffer.ybase+D);W.insertCells(this._activeBuffer.x,x,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),W.isWrapped=!1}return this._dirtyRowService.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0},B.prototype.deleteColumns=function(R){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;for(var x=R.params[0]||1,D=this._activeBuffer.scrollTop;D<=this._activeBuffer.scrollBottom;++D){var W=this._activeBuffer.lines.get(this._activeBuffer.ybase+D);W.deleteCells(this._activeBuffer.x,x,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),W.isWrapped=!1}return this._dirtyRowService.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0},B.prototype.eraseChars=function(R){this._restrictCursor();var x=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);return x&&(x.replaceCells(this._activeBuffer.x,this._activeBuffer.x+(R.params[0]||1),this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),this._dirtyRowService.markDirty(this._activeBuffer.y)),!0},B.prototype.repeatPrecedingCharacter=function(R){if(!this._parser.precedingCodepoint)return!0;for(var x=R.params[0]||1,D=new Uint32Array(x),W=0;W<x;++W)D[W]=this._parser.precedingCodepoint;return this.print(D,0,D.length),!0},B.prototype.sendDeviceAttributesPrimary=function(R){return R.params[0]>0||(this._is("xterm")||this._is("rxvt-unicode")||this._is("screen")?this._coreService.triggerDataEvent(p.C0.ESC+"[?1;2c"):this._is("linux")&&this._coreService.triggerDataEvent(p.C0.ESC+"[?6c")),!0},B.prototype.sendDeviceAttributesSecondary=function(R){return R.params[0]>0||(this._is("xterm")?this._coreService.triggerDataEvent(p.C0.ESC+"[>0;276;0c"):this._is("rxvt-unicode")?this._coreService.triggerDataEvent(p.C0.ESC+"[>85;95;0c"):this._is("linux")?this._coreService.triggerDataEvent(R.params[0]+"c"):this._is("screen")&&this._coreService.triggerDataEvent(p.C0.ESC+"[>83;40003;0c")),!0},B.prototype._is=function(R){return(this._optionsService.rawOptions.termName+"").indexOf(R)===0},B.prototype.setMode=function(R){for(var x=0;x<R.length;x++)R.params[x]===4&&(this._coreService.modes.insertMode=!0);return!0},B.prototype.setModePrivate=function(R){for(var x=0;x<R.length;x++)switch(R.params[x]){case 1:this._coreService.decPrivateModes.applicationCursorKeys=!0;break;case 2:this._charsetService.setgCharset(0,v.DEFAULT_CHARSET),this._charsetService.setgCharset(1,v.DEFAULT_CHARSET),this._charsetService.setgCharset(2,v.DEFAULT_CHARSET),this._charsetService.setgCharset(3,v.DEFAULT_CHARSET);break;case 3:this._optionsService.rawOptions.windowOptions.setWinLines&&(this._bufferService.resize(132,this._bufferService.rows),this._onRequestReset.fire());break;case 6:this._coreService.decPrivateModes.origin=!0,this._setCursor(0,0);break;case 7:this._coreService.decPrivateModes.wraparound=!0;break;case 12:break;case 45:this._coreService.decPrivateModes.reverseWraparound=!0;break;case 66:this._logService.debug("Serial port requested application keypad."),this._coreService.decPrivateModes.applicationKeypad=!0,this._onRequestSyncScrollBar.fire();break;case 9:this._coreMouseService.activeProtocol="X10";break;case 1e3:this._coreMouseService.activeProtocol="VT200";break;case 1002:this._coreMouseService.activeProtocol="DRAG";break;case 1003:this._coreMouseService.activeProtocol="ANY";break;case 1004:this._coreService.decPrivateModes.sendFocus=!0,this._onRequestSendFocus.fire();break;case 1005:this._logService.debug("DECSET 1005 not supported (see #2507)");break;case 1006:this._coreMouseService.activeEncoding="SGR";break;case 1015:this._logService.debug("DECSET 1015 not supported (see #2507)");break;case 25:this._coreService.isCursorHidden=!1;break;case 1048:this.saveCursor();break;case 1049:this.saveCursor();case 47:case 1047:this._bufferService.buffers.activateAltBuffer(this._eraseAttrData()),this._coreService.isCursorInitialized=!0,this._onRequestRefreshRows.fire(0,this._bufferService.rows-1),this._onRequestSyncScrollBar.fire();break;case 2004:this._coreService.decPrivateModes.bracketedPasteMode=!0}return!0},B.prototype.resetMode=function(R){for(var x=0;x<R.length;x++)R.params[x]===4&&(this._coreService.modes.insertMode=!1);return!0},B.prototype.resetModePrivate=function(R){for(var x=0;x<R.length;x++)switch(R.params[x]){case 1:this._coreService.decPrivateModes.applicationCursorKeys=!1;break;case 3:this._optionsService.rawOptions.windowOptions.setWinLines&&(this._bufferService.resize(80,this._bufferService.rows),this._onRequestReset.fire());break;case 6:this._coreService.decPrivateModes.origin=!1,this._setCursor(0,0);break;case 7:this._coreService.decPrivateModes.wraparound=!1;break;case 12:break;case 45:this._coreService.decPrivateModes.reverseWraparound=!1;break;case 66:this._logService.debug("Switching back to normal keypad."),this._coreService.decPrivateModes.applicationKeypad=!1,this._onRequestSyncScrollBar.fire();break;case 9:case 1e3:case 1002:case 1003:this._coreMouseService.activeProtocol="NONE";break;case 1004:this._coreService.decPrivateModes.sendFocus=!1;break;case 1005:this._logService.debug("DECRST 1005 not supported (see #2507)");break;case 1006:this._coreMouseService.activeEncoding="DEFAULT";break;case 1015:this._logService.debug("DECRST 1015 not supported (see #2507)");break;case 25:this._coreService.isCursorHidden=!0;break;case 1048:this.restoreCursor();break;case 1049:case 47:case 1047:this._bufferService.buffers.activateNormalBuffer(),R.params[x]===1049&&this.restoreCursor(),this._coreService.isCursorInitialized=!0,this._onRequestRefreshRows.fire(0,this._bufferService.rows-1),this._onRequestSyncScrollBar.fire();break;case 2004:this._coreService.decPrivateModes.bracketedPasteMode=!1}return!0},B.prototype._updateAttrColor=function(R,x,D,W,z){return x===2?(R|=50331648,R&=-16777216,R|=i.AttributeData.fromColorRGB([D,W,z])):x===5&&(R&=-50331904,R|=33554432|255&D),R},B.prototype._extractColor=function(R,x,D){var W=[0,0,-1,0,0,0],z=0,Y=0;do{if(W[Y+z]=R.params[x+Y],R.hasSubParams(x+Y)){var N=R.getSubParams(x+Y),V=0;do W[1]===5&&(z=1),W[Y+V+1+z]=N[V];while(++V<N.length&&V+Y+1+z<W.length);break}if(W[1]===5&&Y+z>=2||W[1]===2&&Y+z>=5)break;W[1]&&(z=1)}while(++Y+x<R.length&&Y+z<W.length);for(V=2;V<W.length;++V)W[V]===-1&&(W[V]=0);switch(W[0]){case 38:D.fg=this._updateAttrColor(D.fg,W[1],W[3],W[4],W[5]);break;case 48:D.bg=this._updateAttrColor(D.bg,W[1],W[3],W[4],W[5]);break;case 58:D.extended=D.extended.clone(),D.extended.underlineColor=this._updateAttrColor(D.extended.underlineColor,W[1],W[3],W[4],W[5])}return Y},B.prototype._processUnderline=function(R,x){x.extended=x.extended.clone(),(!~R||R>5)&&(R=1),x.extended.underlineStyle=R,x.fg|=268435456,R===0&&(x.fg&=-268435457),x.updateExtended()},B.prototype.charAttributes=function(R){if(R.length===1&&R.params[0]===0)return this._curAttrData.fg=h.DEFAULT_ATTR_DATA.fg,this._curAttrData.bg=h.DEFAULT_ATTR_DATA.bg,!0;for(var x,D=R.length,W=this._curAttrData,z=0;z<D;z++)(x=R.params[z])>=30&&x<=37?(W.fg&=-50331904,W.fg|=16777216|x-30):x>=40&&x<=47?(W.bg&=-50331904,W.bg|=16777216|x-40):x>=90&&x<=97?(W.fg&=-50331904,W.fg|=16777224|x-90):x>=100&&x<=107?(W.bg&=-50331904,W.bg|=16777224|x-100):x===0?(W.fg=h.DEFAULT_ATTR_DATA.fg,W.bg=h.DEFAULT_ATTR_DATA.bg):x===1?W.fg|=134217728:x===3?W.bg|=67108864:x===4?(W.fg|=268435456,this._processUnderline(R.hasSubParams(z)?R.getSubParams(z)[0]:1,W)):x===5?W.fg|=536870912:x===7?W.fg|=67108864:x===8?W.fg|=1073741824:x===9?W.fg|=2147483648:x===2?W.bg|=134217728:x===21?this._processUnderline(2,W):x===22?(W.fg&=-134217729,W.bg&=-134217729):x===23?W.bg&=-67108865:x===24?W.fg&=-268435457:x===25?W.fg&=-536870913:x===27?W.fg&=-67108865:x===28?W.fg&=-1073741825:x===29?W.fg&=2147483647:x===39?(W.fg&=-67108864,W.fg|=16777215&h.DEFAULT_ATTR_DATA.fg):x===49?(W.bg&=-67108864,W.bg|=16777215&h.DEFAULT_ATTR_DATA.bg):x===38||x===48||x===58?z+=this._extractColor(R,z,W):x===59?(W.extended=W.extended.clone(),W.extended.underlineColor=-1,W.updateExtended()):x===100?(W.fg&=-67108864,W.fg|=16777215&h.DEFAULT_ATTR_DATA.fg,W.bg&=-67108864,W.bg|=16777215&h.DEFAULT_ATTR_DATA.bg):this._logService.debug("Unknown SGR attribute: %d.",x);return!0},B.prototype.deviceStatus=function(R){switch(R.params[0]){case 5:this._coreService.triggerDataEvent(p.C0.ESC+"[0n");break;case 6:var x=this._activeBuffer.y+1,D=this._activeBuffer.x+1;this._coreService.triggerDataEvent(p.C0.ESC+"["+x+";"+D+"R")}return!0},B.prototype.deviceStatusPrivate=function(R){if(R.params[0]===6){var x=this._activeBuffer.y+1,D=this._activeBuffer.x+1;this._coreService.triggerDataEvent(p.C0.ESC+"[?"+x+";"+D+"R")}return!0},B.prototype.softReset=function(R){return this._coreService.isCursorHidden=!1,this._onRequestSyncScrollBar.fire(),this._activeBuffer.scrollTop=0,this._activeBuffer.scrollBottom=this._bufferService.rows-1,this._curAttrData=h.DEFAULT_ATTR_DATA.clone(),this._coreService.reset(),this._charsetService.reset(),this._activeBuffer.savedX=0,this._activeBuffer.savedY=this._activeBuffer.ybase,this._activeBuffer.savedCurAttrData.fg=this._curAttrData.fg,this._activeBuffer.savedCurAttrData.bg=this._curAttrData.bg,this._activeBuffer.savedCharset=this._charsetService.charset,this._coreService.decPrivateModes.origin=!1,!0},B.prototype.setCursorStyle=function(R){var x=R.params[0]||1;switch(x){case 1:case 2:this._optionsService.options.cursorStyle="block";break;case 3:case 4:this._optionsService.options.cursorStyle="underline";break;case 5:case 6:this._optionsService.options.cursorStyle="bar"}var D=x%2==1;return this._optionsService.options.cursorBlink=D,!0},B.prototype.setScrollRegion=function(R){var x,D=R.params[0]||1;return(R.length<2||(x=R.params[1])>this._bufferService.rows||x===0)&&(x=this._bufferService.rows),x>D&&(this._activeBuffer.scrollTop=D-1,this._activeBuffer.scrollBottom=x-1,this._setCursor(0,0)),!0},B.prototype.windowOptions=function(R){if(!S(R.params[0],this._optionsService.rawOptions.windowOptions))return!0;var x=R.length>1?R.params[1]:0;switch(R.params[0]){case 14:x!==2&&this._onRequestWindowsOptionsReport.fire(d.GET_WIN_SIZE_PIXELS);break;case 16:this._onRequestWindowsOptionsReport.fire(d.GET_CELL_SIZE_PIXELS);break;case 18:this._bufferService&&this._coreService.triggerDataEvent(p.C0.ESC+"[8;"+this._bufferService.rows+";"+this._bufferService.cols+"t");break;case 22:x!==0&&x!==2||(this._windowTitleStack.push(this._windowTitle),this._windowTitleStack.length>10&&this._windowTitleStack.shift()),x!==0&&x!==1||(this._iconNameStack.push(this._iconName),this._iconNameStack.length>10&&this._iconNameStack.shift());break;case 23:x!==0&&x!==2||this._windowTitleStack.length&&this.setTitle(this._windowTitleStack.pop()),x!==0&&x!==1||this._iconNameStack.length&&this.setIconName(this._iconNameStack.pop())}return!0},B.prototype.saveCursor=function(R){return this._activeBuffer.savedX=this._activeBuffer.x,this._activeBuffer.savedY=this._activeBuffer.ybase+this._activeBuffer.y,this._activeBuffer.savedCurAttrData.fg=this._curAttrData.fg,this._activeBuffer.savedCurAttrData.bg=this._curAttrData.bg,this._activeBuffer.savedCharset=this._charsetService.charset,!0},B.prototype.restoreCursor=function(R){return this._activeBuffer.x=this._activeBuffer.savedX||0,this._activeBuffer.y=Math.max(this._activeBuffer.savedY-this._activeBuffer.ybase,0),this._curAttrData.fg=this._activeBuffer.savedCurAttrData.fg,this._curAttrData.bg=this._activeBuffer.savedCurAttrData.bg,this._charsetService.charset=this._savedCharset,this._activeBuffer.savedCharset&&(this._charsetService.charset=this._activeBuffer.savedCharset),this._restrictCursor(),!0},B.prototype.setTitle=function(R){return this._windowTitle=R,this._onTitleChange.fire(R),!0},B.prototype.setIconName=function(R){return this._iconName=R,!0},B.prototype.setOrReportIndexedColor=function(R){for(var x=[],D=R.split(";");D.length>1;){var W=D.shift(),z=D.shift();if(/^\d+$/.exec(W)){var Y=parseInt(W);if(0<=Y&&Y<256)if(z==="?")x.push({type:0,index:Y});else{var N=(0,b.parseColor)(z);N&&x.push({type:1,index:Y,color:N})}}}return x.length&&this._onColor.fire(x),!0},B.prototype._setOrReportSpecialColor=function(R,x){for(var D=R.split(";"),W=0;W<D.length&&!(x>=this._specialColors.length);++W,++x)if(D[W]==="?")this._onColor.fire([{type:0,index:this._specialColors[x]}]);else{var z=(0,b.parseColor)(D[W]);z&&this._onColor.fire([{type:1,index:this._specialColors[x],color:z}])}return!0},B.prototype.setOrReportFgColor=function(R){return this._setOrReportSpecialColor(R,0)},B.prototype.setOrReportBgColor=function(R){return this._setOrReportSpecialColor(R,1)},B.prototype.setOrReportCursorColor=function(R){return this._setOrReportSpecialColor(R,2)},B.prototype.restoreIndexedColor=function(R){if(!R)return this._onColor.fire([{type:2}]),!0;for(var x=[],D=R.split(";"),W=0;W<D.length;++W)if(/^\d+$/.exec(D[W])){var z=parseInt(D[W]);0<=z&&z<256&&x.push({type:2,index:z})}return x.length&&this._onColor.fire(x),!0},B.prototype.restoreFgColor=function(R){return this._onColor.fire([{type:2,index:256}]),!0},B.prototype.restoreBgColor=function(R){return this._onColor.fire([{type:2,index:257}]),!0},B.prototype.restoreCursorColor=function(R){return this._onColor.fire([{type:2,index:258}]),!0},B.prototype.nextLine=function(){return this._activeBuffer.x=0,this.index(),!0},B.prototype.keypadApplicationMode=function(){return this._logService.debug("Serial port requested application keypad."),this._coreService.decPrivateModes.applicationKeypad=!0,this._onRequestSyncScrollBar.fire(),!0},B.prototype.keypadNumericMode=function(){return this._logService.debug("Switching back to normal keypad."),this._coreService.decPrivateModes.applicationKeypad=!1,this._onRequestSyncScrollBar.fire(),!0},B.prototype.selectDefaultCharset=function(){return this._charsetService.setgLevel(0),this._charsetService.setgCharset(0,v.DEFAULT_CHARSET),!0},B.prototype.selectCharset=function(R){return R.length!==2?(this.selectDefaultCharset(),!0):(R[0]==="/"||this._charsetService.setgCharset(C[R[0]],v.CHARSETS[R[1]]||v.DEFAULT_CHARSET),!0)},B.prototype.index=function(){return this._restrictCursor(),this._activeBuffer.y++,this._activeBuffer.y===this._activeBuffer.scrollBottom+1?(this._activeBuffer.y--,this._bufferService.scroll(this._eraseAttrData())):this._activeBuffer.y>=this._bufferService.rows&&(this._activeBuffer.y=this._bufferService.rows-1),this._restrictCursor(),!0},B.prototype.tabSet=function(){return this._activeBuffer.tabs[this._activeBuffer.x]=!0,!0},B.prototype.reverseIndex=function(){if(this._restrictCursor(),this._activeBuffer.y===this._activeBuffer.scrollTop){var R=this._activeBuffer.scrollBottom-this._activeBuffer.scrollTop;this._activeBuffer.lines.shiftElements(this._activeBuffer.ybase+this._activeBuffer.y,R,1),this._activeBuffer.lines.set(this._activeBuffer.ybase+this._activeBuffer.y,this._activeBuffer.getBlankLine(this._eraseAttrData())),this._dirtyRowService.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom)}else this._activeBuffer.y--,this._restrictCursor();return!0},B.prototype.fullReset=function(){return this._parser.reset(),this._onRequestReset.fire(),!0},B.prototype.reset=function(){this._curAttrData=h.DEFAULT_ATTR_DATA.clone(),this._eraseAttrDataInternal=h.DEFAULT_ATTR_DATA.clone()},B.prototype._eraseAttrData=function(){return this._eraseAttrDataInternal.bg&=-67108864,this._eraseAttrDataInternal.bg|=67108863&this._curAttrData.bg,this._eraseAttrDataInternal},B.prototype.setgLevel=function(R){return this._charsetService.setgLevel(R),!0},B.prototype.screenAlignmentPattern=function(){var R=new t.CellData;R.content=1<<22|"E".charCodeAt(0),R.fg=this._curAttrData.fg,R.bg=this._curAttrData.bg,this._setCursor(0,0);for(var x=0;x<this._bufferService.rows;++x){var D=this._activeBuffer.ybase+this._activeBuffer.y+x,W=this._activeBuffer.lines.get(D);W&&(W.fill(R),W.isWrapped=!1)}return this._dirtyRowService.markAllDirty(),this._setCursor(0,0),!0},B}(s.Disposable);o.InputHandler=A},844:function(T,o){var y=this&&this.__values||function(d){var p=typeof Symbol=="function"&&Symbol.iterator,v=p&&d[p],g=0;if(v)return v.call(d);if(d&&typeof d.length=="number")return{next:function(){return d&&g>=d.length&&(d=void 0),{value:d&&d[g++],done:!d}}};throw new TypeError(p?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(o,"__esModule",{value:!0}),o.getDisposeArrayDisposable=o.disposeArray=o.Disposable=void 0;var l=function(){function d(){this._disposables=[],this._isDisposed=!1}return d.prototype.dispose=function(){var p,v;this._isDisposed=!0;try{for(var g=y(this._disposables),s=g.next();!s.done;s=g.next())s.value.dispose()}catch(a){p={error:a}}finally{try{s&&!s.done&&(v=g.return)&&v.call(g)}finally{if(p)throw p.error}}this._disposables.length=0},d.prototype.register=function(p){return this._disposables.push(p),p},d.prototype.unregister=function(p){var v=this._disposables.indexOf(p);v!==-1&&this._disposables.splice(v,1)},d}();function u(d){var p,v;try{for(var g=y(d),s=g.next();!s.done;s=g.next())s.value.dispose()}catch(a){p={error:a}}finally{try{s&&!s.done&&(v=g.return)&&v.call(g)}finally{if(p)throw p.error}}d.length=0}o.Disposable=l,o.disposeArray=u,o.getDisposeArrayDisposable=function(d){return{dispose:function(){return u(d)}}}},6114:(T,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.isLinux=o.isWindows=o.isIphone=o.isIpad=o.isMac=o.isSafari=o.isLegacyEdge=o.isFirefox=void 0;var y=typeof navigator>"u",l=y?"node":navigator.userAgent,u=y?"node":navigator.platform;o.isFirefox=l.includes("Firefox"),o.isLegacyEdge=l.includes("Edge"),o.isSafari=/^((?!chrome|android).)*safari/i.test(l),o.isMac=["Macintosh","MacIntel","MacPPC","Mac68K"].includes(u),o.isIpad=u==="iPad",o.isIphone=u==="iPhone",o.isWindows=["Windows","Win16","Win32","WinCE"].includes(u),o.isLinux=u.indexOf("Linux")>=0},6106:function(T,o){var y=this&&this.__generator||function(u,d){var p,v,g,s,a={label:0,sent:function(){if(1&g[0])throw g[1];return g[1]},trys:[],ops:[]};return s={next:_(0),throw:_(1),return:_(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function _(h){return function(r){return function(e){if(p)throw new TypeError("Generator is already executing.");for(;a;)try{if(p=1,v&&(g=2&e[0]?v.return:e[0]?v.throw||((g=v.return)&&g.call(v),0):v.next)&&!(g=g.call(v,e[1])).done)return g;switch(v=0,g&&(e=[2&e[0],g.value]),e[0]){case 0:case 1:g=e;break;case 4:return a.label++,{value:e[1],done:!1};case 5:a.label++,v=e[1],e=[0];continue;case 7:e=a.ops.pop(),a.trys.pop();continue;default:if(!((g=(g=a.trys).length>0&&g[g.length-1])||e[0]!==6&&e[0]!==2)){a=0;continue}if(e[0]===3&&(!g||e[1]>g[0]&&e[1]<g[3])){a.label=e[1];break}if(e[0]===6&&a.label<g[1]){a.label=g[1],g=e;break}if(g&&a.label<g[2]){a.label=g[2],a.ops.push(e);break}g[2]&&a.ops.pop(),a.trys.pop();continue}e=d.call(u,a)}catch(t){e=[6,t],v=0}finally{p=g=0}if(5&e[0])throw e[1];return{value:e[0]?e[1]:void 0,done:!0}}([h,r])}}};Object.defineProperty(o,"__esModule",{value:!0}),o.SortedList=void 0;var l=function(){function u(d){this._getKey=d,this._array=[]}return u.prototype.clear=function(){this._array.length=0},u.prototype.insert=function(d){if(this._array.length!==0){var p=this._search(this._getKey(d),0,this._array.length-1);this._array.splice(p,0,d)}else this._array.push(d)},u.prototype.delete=function(d){if(this._array.length===0)return!1;var p=this._getKey(d),v=this._search(p,0,this._array.length-1);if(this._getKey(this._array[v])!==p)return!1;do if(this._array[v]===d)return this._array.splice(v,1),!0;while(++v<this._array.length&&this._getKey(this._array[v])===p);return!1},u.prototype.getKeyIterator=function(d){var p;return y(this,function(v){switch(v.label){case 0:if(this._array.length===0)return[2];if((p=this._search(d,0,this._array.length-1))<0||p>=this._array.length)return[2];if(this._getKey(this._array[p])!==d)return[2];v.label=1;case 1:return[4,this._array[p]];case 2:v.sent(),v.label=3;case 3:if(++p<this._array.length&&this._getKey(this._array[p])===d)return[3,1];v.label=4;case 4:return[2]}})},u.prototype.values=function(){return this._array.values()},u.prototype._search=function(d,p,v){if(v<p)return p;var g=Math.floor((p+v)/2);if(this._getKey(this._array[g])>d)return this._search(d,p,g-1);if(this._getKey(this._array[g])<d)return this._search(d,g+1,v);for(;g>0&&this._getKey(this._array[g-1])===d;)g--;return g},u}();o.SortedList=l},8273:(T,o)=>{function y(l,u,d,p){if(d===void 0&&(d=0),p===void 0&&(p=l.length),d>=l.length)return l;d=(l.length+d)%l.length,p=p>=l.length?l.length:(l.length+p)%l.length;for(var v=d;v<p;++v)l[v]=u;return l}Object.defineProperty(o,"__esModule",{value:!0}),o.concat=o.fillFallback=o.fill=void 0,o.fill=function(l,u,d,p){return l.fill?l.fill(u,d,p):y(l,u,d,p)},o.fillFallback=y,o.concat=function(l,u){var d=new l.constructor(l.length+u.length);return d.set(l),d.set(u,l.length),d}},9282:(T,o,y)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.updateWindowsModeWrappedState=void 0;var l=y(643);o.updateWindowsModeWrappedState=function(u){var d=u.buffer.lines.get(u.buffer.ybase+u.buffer.y-1),p=d?.get(u.cols-1),v=u.buffer.lines.get(u.buffer.ybase+u.buffer.y);v&&p&&(v.isWrapped=p[l.CHAR_DATA_CODE_INDEX]!==l.NULL_CELL_CODE&&p[l.CHAR_DATA_CODE_INDEX]!==l.WHITESPACE_CELL_CODE)}},3734:(T,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.ExtendedAttrs=o.AttributeData=void 0;var y=function(){function u(){this.fg=0,this.bg=0,this.extended=new l}return u.toColorRGB=function(d){return[d>>>16&255,d>>>8&255,255&d]},u.fromColorRGB=function(d){return(255&d[0])<<16|(255&d[1])<<8|255&d[2]},u.prototype.clone=function(){var d=new u;return d.fg=this.fg,d.bg=this.bg,d.extended=this.extended.clone(),d},u.prototype.isInverse=function(){return 67108864&this.fg},u.prototype.isBold=function(){return 134217728&this.fg},u.prototype.isUnderline=function(){return 268435456&this.fg},u.prototype.isBlink=function(){return 536870912&this.fg},u.prototype.isInvisible=function(){return 1073741824&this.fg},u.prototype.isItalic=function(){return 67108864&this.bg},u.prototype.isDim=function(){return 134217728&this.bg},u.prototype.isStrikethrough=function(){return 2147483648&this.fg},u.prototype.getFgColorMode=function(){return 50331648&this.fg},u.prototype.getBgColorMode=function(){return 50331648&this.bg},u.prototype.isFgRGB=function(){return(50331648&this.fg)==50331648},u.prototype.isBgRGB=function(){return(50331648&this.bg)==50331648},u.prototype.isFgPalette=function(){return(50331648&this.fg)==16777216||(50331648&this.fg)==33554432},u.prototype.isBgPalette=function(){return(50331648&this.bg)==16777216||(50331648&this.bg)==33554432},u.prototype.isFgDefault=function(){return(50331648&this.fg)==0},u.prototype.isBgDefault=function(){return(50331648&this.bg)==0},u.prototype.isAttributeDefault=function(){return this.fg===0&&this.bg===0},u.prototype.getFgColor=function(){switch(50331648&this.fg){case 16777216:case 33554432:return 255&this.fg;case 50331648:return 16777215&this.fg;default:return-1}},u.prototype.getBgColor=function(){switch(50331648&this.bg){case 16777216:case 33554432:return 255&this.bg;case 50331648:return 16777215&this.bg;default:return-1}},u.prototype.hasExtendedAttrs=function(){return 268435456&this.bg},u.prototype.updateExtended=function(){this.extended.isEmpty()?this.bg&=-268435457:this.bg|=268435456},u.prototype.getUnderlineColor=function(){if(268435456&this.bg&&~this.extended.underlineColor)switch(50331648&this.extended.underlineColor){case 16777216:case 33554432:return 255&this.extended.underlineColor;case 50331648:return 16777215&this.extended.underlineColor;default:return this.getFgColor()}return this.getFgColor()},u.prototype.getUnderlineColorMode=function(){return 268435456&this.bg&&~this.extended.underlineColor?50331648&this.extended.underlineColor:this.getFgColorMode()},u.prototype.isUnderlineColorRGB=function(){return 268435456&this.bg&&~this.extended.underlineColor?(50331648&this.extended.underlineColor)==50331648:this.isFgRGB()},u.prototype.isUnderlineColorPalette=function(){return 268435456&this.bg&&~this.extended.underlineColor?(50331648&this.extended.underlineColor)==16777216||(50331648&this.extended.underlineColor)==33554432:this.isFgPalette()},u.prototype.isUnderlineColorDefault=function(){return 268435456&this.bg&&~this.extended.underlineColor?(50331648&this.extended.underlineColor)==0:this.isFgDefault()},u.prototype.getUnderlineStyle=function(){return 268435456&this.fg?268435456&this.bg?this.extended.underlineStyle:1:0},u}();o.AttributeData=y;var l=function(){function u(d,p){d===void 0&&(d=0),p===void 0&&(p=-1),this.underlineStyle=d,this.underlineColor=p}return u.prototype.clone=function(){return new u(this.underlineStyle,this.underlineColor)},u.prototype.isEmpty=function(){return this.underlineStyle===0},u}();o.ExtendedAttrs=l},9092:function(T,o,y){var l=this&&this.__read||function(t,i){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var f,c,b=n.call(t),C=[];try{for(;(i===void 0||i-- >0)&&!(f=b.next()).done;)C.push(f.value)}catch(m){c={error:m}}finally{try{f&&!f.done&&(n=b.return)&&n.call(b)}finally{if(c)throw c.error}}return C},u=this&&this.__spreadArray||function(t,i,n){if(n||arguments.length===2)for(var f,c=0,b=i.length;c<b;c++)!f&&c in i||(f||(f=Array.prototype.slice.call(i,0,c)),f[c]=i[c]);return t.concat(f||Array.prototype.slice.call(i))};Object.defineProperty(o,"__esModule",{value:!0}),o.BufferStringIterator=o.Buffer=o.MAX_BUFFER_SIZE=void 0;var d=y(6349),p=y(8437),v=y(511),g=y(643),s=y(4634),a=y(4863),_=y(7116),h=y(3734);o.MAX_BUFFER_SIZE=4294967295;var r=function(){function t(i,n,f){this._hasScrollback=i,this._optionsService=n,this._bufferService=f,this.ydisp=0,this.ybase=0,this.y=0,this.x=0,this.savedY=0,this.savedX=0,this.savedCurAttrData=p.DEFAULT_ATTR_DATA.clone(),this.savedCharset=_.DEFAULT_CHARSET,this.markers=[],this._nullCell=v.CellData.fromCharData([0,g.NULL_CELL_CHAR,g.NULL_CELL_WIDTH,g.NULL_CELL_CODE]),this._whitespaceCell=v.CellData.fromCharData([0,g.WHITESPACE_CELL_CHAR,g.WHITESPACE_CELL_WIDTH,g.WHITESPACE_CELL_CODE]),this._isClearing=!1,this._cols=this._bufferService.cols,this._rows=this._bufferService.rows,this.lines=new d.CircularList(this._getCorrectBufferLength(this._rows)),this.scrollTop=0,this.scrollBottom=this._rows-1,this.setupTabStops()}return t.prototype.getNullCell=function(i){return i?(this._nullCell.fg=i.fg,this._nullCell.bg=i.bg,this._nullCell.extended=i.extended):(this._nullCell.fg=0,this._nullCell.bg=0,this._nullCell.extended=new h.ExtendedAttrs),this._nullCell},t.prototype.getWhitespaceCell=function(i){return i?(this._whitespaceCell.fg=i.fg,this._whitespaceCell.bg=i.bg,this._whitespaceCell.extended=i.extended):(this._whitespaceCell.fg=0,this._whitespaceCell.bg=0,this._whitespaceCell.extended=new h.ExtendedAttrs),this._whitespaceCell},t.prototype.getBlankLine=function(i,n){return new p.BufferLine(this._bufferService.cols,this.getNullCell(i),n)},Object.defineProperty(t.prototype,"hasScrollback",{get:function(){return this._hasScrollback&&this.lines.maxLength>this._rows},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isCursorInViewport",{get:function(){var i=this.ybase+this.y-this.ydisp;return i>=0&&i<this._rows},enumerable:!1,configurable:!0}),t.prototype._getCorrectBufferLength=function(i){if(!this._hasScrollback)return i;var n=i+this._optionsService.rawOptions.scrollback;return n>o.MAX_BUFFER_SIZE?o.MAX_BUFFER_SIZE:n},t.prototype.fillViewportRows=function(i){if(this.lines.length===0){i===void 0&&(i=p.DEFAULT_ATTR_DATA);for(var n=this._rows;n--;)this.lines.push(this.getBlankLine(i))}},t.prototype.clear=function(){this.ydisp=0,this.ybase=0,this.y=0,this.x=0,this.lines=new d.CircularList(this._getCorrectBufferLength(this._rows)),this.scrollTop=0,this.scrollBottom=this._rows-1,this.setupTabStops()},t.prototype.resize=function(i,n){var f=this.getNullCell(p.DEFAULT_ATTR_DATA),c=this._getCorrectBufferLength(n);if(c>this.lines.maxLength&&(this.lines.maxLength=c),this.lines.length>0){if(this._cols<i)for(var b=0;b<this.lines.length;b++)this.lines.get(b).resize(i,f);var C=0;if(this._rows<n)for(var m=this._rows;m<n;m++)this.lines.length<n+this.ybase&&(this._optionsService.rawOptions.windowsMode?this.lines.push(new p.BufferLine(i,f)):this.ybase>0&&this.lines.length<=this.ybase+this.y+C+1?(this.ybase--,C++,this.ydisp>0&&this.ydisp--):this.lines.push(new p.BufferLine(i,f)));else for(m=this._rows;m>n;m--)this.lines.length>n+this.ybase&&(this.lines.length>this.ybase+this.y+1?this.lines.pop():(this.ybase++,this.ydisp++));if(c<this.lines.maxLength){var S=this.lines.length-c;S>0&&(this.lines.trimStart(S),this.ybase=Math.max(this.ybase-S,0),this.ydisp=Math.max(this.ydisp-S,0),this.savedY=Math.max(this.savedY-S,0)),this.lines.maxLength=c}this.x=Math.min(this.x,i-1),this.y=Math.min(this.y,n-1),C&&(this.y+=C),this.savedX=Math.min(this.savedX,i-1),this.scrollTop=0}if(this.scrollBottom=n-1,this._isReflowEnabled&&(this._reflow(i,n),this._cols>i))for(b=0;b<this.lines.length;b++)this.lines.get(b).resize(i,f);this._cols=i,this._rows=n},Object.defineProperty(t.prototype,"_isReflowEnabled",{get:function(){return this._hasScrollback&&!this._optionsService.rawOptions.windowsMode},enumerable:!1,configurable:!0}),t.prototype._reflow=function(i,n){this._cols!==i&&(i>this._cols?this._reflowLarger(i,n):this._reflowSmaller(i,n))},t.prototype._reflowLarger=function(i,n){var f=(0,s.reflowLargerGetLinesToRemove)(this.lines,this._cols,i,this.ybase+this.y,this.getNullCell(p.DEFAULT_ATTR_DATA));if(f.length>0){var c=(0,s.reflowLargerCreateNewLayout)(this.lines,f);(0,s.reflowLargerApplyNewLayout)(this.lines,c.layout),this._reflowLargerAdjustViewport(i,n,c.countRemoved)}},t.prototype._reflowLargerAdjustViewport=function(i,n,f){for(var c=this.getNullCell(p.DEFAULT_ATTR_DATA),b=f;b-- >0;)this.ybase===0?(this.y>0&&this.y--,this.lines.length<n&&this.lines.push(new p.BufferLine(i,c))):(this.ydisp===this.ybase&&this.ydisp--,this.ybase--);this.savedY=Math.max(this.savedY-f,0)},t.prototype._reflowSmaller=function(i,n){for(var f=this.getNullCell(p.DEFAULT_ATTR_DATA),c=[],b=0,C=this.lines.length-1;C>=0;C--){var m=this.lines.get(C);if(!(!m||!m.isWrapped&&m.getTrimmedLength()<=i)){for(var S=[m];m.isWrapped&&C>0;)m=this.lines.get(--C),S.unshift(m);var k=this.ybase+this.y;if(!(k>=C&&k<C+S.length)){var A,E=S[S.length-1].getTrimmedLength(),B=(0,s.reflowSmallerGetNewLineLengths)(S,this._cols,i),R=B.length-S.length;A=this.ybase===0&&this.y!==this.lines.length-1?Math.max(0,this.y-this.lines.maxLength+R):Math.max(0,this.lines.length-this.lines.maxLength+R);for(var x=[],D=0;D<R;D++){var W=this.getBlankLine(p.DEFAULT_ATTR_DATA,!0);x.push(W)}x.length>0&&(c.push({start:C+S.length+b,newLines:x}),b+=x.length),S.push.apply(S,u([],l(x),!1));var z=B.length-1,Y=B[z];Y===0&&(Y=B[--z]);for(var N=S.length-R-1,V=E;N>=0;){var K=Math.min(V,Y);if(S[z]===void 0)break;if(S[z].copyCellsFrom(S[N],V-K,Y-K,K,!0),(Y-=K)==0&&(Y=B[--z]),(V-=K)==0){N--;var O=Math.max(N,0);V=(0,s.getWrappedLineTrimmedLength)(S,O,this._cols)}}for(D=0;D<S.length;D++)B[D]<i&&S[D].setCell(B[D],f);for(var ee=R-A;ee-- >0;)this.ybase===0?this.y<n-1?(this.y++,this.lines.pop()):(this.ybase++,this.ydisp++):this.ybase<Math.min(this.lines.maxLength,this.lines.length+b)-n&&(this.ybase===this.ydisp&&this.ydisp++,this.ybase++);this.savedY=Math.min(this.savedY+R,this.ybase+n-1)}}}if(c.length>0){var Q=[],ne=[];for(D=0;D<this.lines.length;D++)ne.push(this.lines.get(D));var F=this.lines.length,re=F-1,J=0,G=c[J];this.lines.length=Math.min(this.lines.maxLength,this.lines.length+b);var P=0;for(D=Math.min(this.lines.maxLength-1,F+b-1);D>=0;D--)if(G&&G.start>re+P){for(var I=G.newLines.length-1;I>=0;I--)this.lines.set(D--,G.newLines[I]);D++,Q.push({index:re+1,amount:G.newLines.length}),P+=G.newLines.length,G=c[++J]}else this.lines.set(D,ne[re--]);var q=0;for(D=Q.length-1;D>=0;D--)Q[D].index+=q,this.lines.onInsertEmitter.fire(Q[D]),q+=Q[D].amount;var X=Math.max(0,F+b-this.lines.maxLength);X>0&&this.lines.onTrimEmitter.fire(X)}},t.prototype.stringIndexToBufferIndex=function(i,n,f){for(f===void 0&&(f=!1);n;){var c=this.lines.get(i);if(!c)return[-1,-1];for(var b=f?c.getTrimmedLength():c.length,C=0;C<b;++C)if(c.get(C)[g.CHAR_DATA_WIDTH_INDEX]&&(n-=c.get(C)[g.CHAR_DATA_CHAR_INDEX].length||1),n<0)return[i,C];i++}return[i,0]},t.prototype.translateBufferLineToString=function(i,n,f,c){f===void 0&&(f=0);var b=this.lines.get(i);return b?b.translateToString(n,f,c):""},t.prototype.getWrappedRangeForLine=function(i){for(var n=i,f=i;n>0&&this.lines.get(n).isWrapped;)n--;for(;f+1<this.lines.length&&this.lines.get(f+1).isWrapped;)f++;return{first:n,last:f}},t.prototype.setupTabStops=function(i){for(i!=null?this.tabs[i]||(i=this.prevStop(i)):(this.tabs={},i=0);i<this._cols;i+=this._optionsService.rawOptions.tabStopWidth)this.tabs[i]=!0},t.prototype.prevStop=function(i){for(i==null&&(i=this.x);!this.tabs[--i]&&i>0;);return i>=this._cols?this._cols-1:i<0?0:i},t.prototype.nextStop=function(i){for(i==null&&(i=this.x);!this.tabs[++i]&&i<this._cols;);return i>=this._cols?this._cols-1:i<0?0:i},t.prototype.clearMarkers=function(i){this._isClearing=!0;for(var n=0;n<this.markers.length;n++)this.markers[n].line===i&&(this.markers[n].dispose(),this.markers.splice(n--,1));this._isClearing=!1},t.prototype.clearAllMarkers=function(){this._isClearing=!0;for(var i=0;i<this.markers.length;i++)this.markers[i].dispose(),this.markers.splice(i--,1);this._isClearing=!1},t.prototype.addMarker=function(i){var n=this,f=new a.Marker(i);return this.markers.push(f),f.register(this.lines.onTrim(function(c){f.line-=c,f.line<0&&f.dispose()})),f.register(this.lines.onInsert(function(c){f.line>=c.index&&(f.line+=c.amount)})),f.register(this.lines.onDelete(function(c){f.line>=c.index&&f.line<c.index+c.amount&&f.dispose(),f.line>c.index&&(f.line-=c.amount)})),f.register(f.onDispose(function(){return n._removeMarker(f)})),f},t.prototype._removeMarker=function(i){this._isClearing||this.markers.splice(this.markers.indexOf(i),1)},t.prototype.iterator=function(i,n,f,c,b){return new e(this,i,n,f,c,b)},t}();o.Buffer=r;var e=function(){function t(i,n,f,c,b,C){f===void 0&&(f=0),c===void 0&&(c=i.lines.length),b===void 0&&(b=0),C===void 0&&(C=0),this._buffer=i,this._trimRight=n,this._startIndex=f,this._endIndex=c,this._startOverscan=b,this._endOverscan=C,this._startIndex<0&&(this._startIndex=0),this._endIndex>this._buffer.lines.length&&(this._endIndex=this._buffer.lines.length),this._current=this._startIndex}return t.prototype.hasNext=function(){return this._current<this._endIndex},t.prototype.next=function(){var i=this._buffer.getWrappedRangeForLine(this._current);i.first<this._startIndex-this._startOverscan&&(i.first=this._startIndex-this._startOverscan),i.last>this._endIndex+this._endOverscan&&(i.last=this._endIndex+this._endOverscan),i.first=Math.max(i.first,0),i.last=Math.min(i.last,this._buffer.lines.length);for(var n="",f=i.first;f<=i.last;++f)n+=this._buffer.translateBufferLineToString(f,this._trimRight);return this._current=i.last+1,{range:i,content:n}},t}();o.BufferStringIterator=e},8437:(T,o,y)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.BufferLine=o.DEFAULT_ATTR_DATA=void 0;var l=y(482),u=y(643),d=y(511),p=y(3734);o.DEFAULT_ATTR_DATA=Object.freeze(new p.AttributeData);var v=function(){function g(s,a,_){_===void 0&&(_=!1),this.isWrapped=_,this._combined={},this._extendedAttrs={},this._data=new Uint32Array(3*s);for(var h=a||d.CellData.fromCharData([0,u.NULL_CELL_CHAR,u.NULL_CELL_WIDTH,u.NULL_CELL_CODE]),r=0;r<s;++r)this.setCell(r,h);this.length=s}return g.prototype.get=function(s){var a=this._data[3*s+0],_=2097151&a;return[this._data[3*s+1],2097152&a?this._combined[s]:_?(0,l.stringFromCodePoint)(_):"",a>>22,2097152&a?this._combined[s].charCodeAt(this._combined[s].length-1):_]},g.prototype.set=function(s,a){this._data[3*s+1]=a[u.CHAR_DATA_ATTR_INDEX],a[u.CHAR_DATA_CHAR_INDEX].length>1?(this._combined[s]=a[1],this._data[3*s+0]=2097152|s|a[u.CHAR_DATA_WIDTH_INDEX]<<22):this._data[3*s+0]=a[u.CHAR_DATA_CHAR_INDEX].charCodeAt(0)|a[u.CHAR_DATA_WIDTH_INDEX]<<22},g.prototype.getWidth=function(s){return this._data[3*s+0]>>22},g.prototype.hasWidth=function(s){return 12582912&this._data[3*s+0]},g.prototype.getFg=function(s){return this._data[3*s+1]},g.prototype.getBg=function(s){return this._data[3*s+2]},g.prototype.hasContent=function(s){return 4194303&this._data[3*s+0]},g.prototype.getCodePoint=function(s){var a=this._data[3*s+0];return 2097152&a?this._combined[s].charCodeAt(this._combined[s].length-1):2097151&a},g.prototype.isCombined=function(s){return 2097152&this._data[3*s+0]},g.prototype.getString=function(s){var a=this._data[3*s+0];return 2097152&a?this._combined[s]:2097151&a?(0,l.stringFromCodePoint)(2097151&a):""},g.prototype.loadCell=function(s,a){var _=3*s;return a.content=this._data[_+0],a.fg=this._data[_+1],a.bg=this._data[_+2],2097152&a.content&&(a.combinedData=this._combined[s]),268435456&a.bg&&(a.extended=this._extendedAttrs[s]),a},g.prototype.setCell=function(s,a){2097152&a.content&&(this._combined[s]=a.combinedData),268435456&a.bg&&(this._extendedAttrs[s]=a.extended),this._data[3*s+0]=a.content,this._data[3*s+1]=a.fg,this._data[3*s+2]=a.bg},g.prototype.setCellFromCodePoint=function(s,a,_,h,r,e){268435456&r&&(this._extendedAttrs[s]=e),this._data[3*s+0]=a|_<<22,this._data[3*s+1]=h,this._data[3*s+2]=r},g.prototype.addCodepointToCell=function(s,a){var _=this._data[3*s+0];2097152&_?this._combined[s]+=(0,l.stringFromCodePoint)(a):(2097151&_?(this._combined[s]=(0,l.stringFromCodePoint)(2097151&_)+(0,l.stringFromCodePoint)(a),_&=-2097152,_|=2097152):_=a|1<<22,this._data[3*s+0]=_)},g.prototype.insertCells=function(s,a,_,h){if((s%=this.length)&&this.getWidth(s-1)===2&&this.setCellFromCodePoint(s-1,0,1,h?.fg||0,h?.bg||0,h?.extended||new p.ExtendedAttrs),a<this.length-s){for(var r=new d.CellData,e=this.length-s-a-1;e>=0;--e)this.setCell(s+a+e,this.loadCell(s+e,r));for(e=0;e<a;++e)this.setCell(s+e,_)}else for(e=s;e<this.length;++e)this.setCell(e,_);this.getWidth(this.length-1)===2&&this.setCellFromCodePoint(this.length-1,0,1,h?.fg||0,h?.bg||0,h?.extended||new p.ExtendedAttrs)},g.prototype.deleteCells=function(s,a,_,h){if(s%=this.length,a<this.length-s){for(var r=new d.CellData,e=0;e<this.length-s-a;++e)this.setCell(s+e,this.loadCell(s+a+e,r));for(e=this.length-a;e<this.length;++e)this.setCell(e,_)}else for(e=s;e<this.length;++e)this.setCell(e,_);s&&this.getWidth(s-1)===2&&this.setCellFromCodePoint(s-1,0,1,h?.fg||0,h?.bg||0,h?.extended||new p.ExtendedAttrs),this.getWidth(s)!==0||this.hasContent(s)||this.setCellFromCodePoint(s,0,1,h?.fg||0,h?.bg||0,h?.extended||new p.ExtendedAttrs)},g.prototype.replaceCells=function(s,a,_,h){for(s&&this.getWidth(s-1)===2&&this.setCellFromCodePoint(s-1,0,1,h?.fg||0,h?.bg||0,h?.extended||new p.ExtendedAttrs),a<this.length&&this.getWidth(a-1)===2&&this.setCellFromCodePoint(a,0,1,h?.fg||0,h?.bg||0,h?.extended||new p.ExtendedAttrs);s<a&&s<this.length;)this.setCell(s++,_)},g.prototype.resize=function(s,a){if(s!==this.length){if(s>this.length){var _=new Uint32Array(3*s);this.length&&(3*s<this._data.length?_.set(this._data.subarray(0,3*s)):_.set(this._data)),this._data=_;for(var h=this.length;h<s;++h)this.setCell(h,a)}else if(s){(_=new Uint32Array(3*s)).set(this._data.subarray(0,3*s)),this._data=_;var r=Object.keys(this._combined);for(h=0;h<r.length;h++){var e=parseInt(r[h],10);e>=s&&delete this._combined[e]}}else this._data=new Uint32Array(0),this._combined={};this.length=s}},g.prototype.fill=function(s){this._combined={},this._extendedAttrs={};for(var a=0;a<this.length;++a)this.setCell(a,s)},g.prototype.copyFrom=function(s){for(var a in this.length!==s.length?this._data=new Uint32Array(s._data):this._data.set(s._data),this.length=s.length,this._combined={},s._combined)this._combined[a]=s._combined[a];for(var a in this._extendedAttrs={},s._extendedAttrs)this._extendedAttrs[a]=s._extendedAttrs[a];this.isWrapped=s.isWrapped},g.prototype.clone=function(){var s=new g(0);for(var a in s._data=new Uint32Array(this._data),s.length=this.length,this._combined)s._combined[a]=this._combined[a];for(var a in this._extendedAttrs)s._extendedAttrs[a]=this._extendedAttrs[a];return s.isWrapped=this.isWrapped,s},g.prototype.getTrimmedLength=function(){for(var s=this.length-1;s>=0;--s)if(4194303&this._data[3*s+0])return s+(this._data[3*s+0]>>22);return 0},g.prototype.copyCellsFrom=function(s,a,_,h,r){var e=s._data;if(r)for(var t=h-1;t>=0;t--)for(var i=0;i<3;i++)this._data[3*(_+t)+i]=e[3*(a+t)+i];else for(t=0;t<h;t++)for(i=0;i<3;i++)this._data[3*(_+t)+i]=e[3*(a+t)+i];var n=Object.keys(s._combined);for(i=0;i<n.length;i++){var f=parseInt(n[i],10);f>=a&&(this._combined[f-a+_]=s._combined[f])}},g.prototype.translateToString=function(s,a,_){s===void 0&&(s=!1),a===void 0&&(a=0),_===void 0&&(_=this.length),s&&(_=Math.min(_,this.getTrimmedLength()));for(var h="";a<_;){var r=this._data[3*a+0],e=2097151&r;h+=2097152&r?this._combined[a]:e?(0,l.stringFromCodePoint)(e):u.WHITESPACE_CELL_CHAR,a+=r>>22||1}return h},g}();o.BufferLine=v},4841:(T,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.getRangeLength=void 0,o.getRangeLength=function(y,l){if(y.start.y>y.end.y)throw new Error("Buffer range end ("+y.end.x+", "+y.end.y+") cannot be before start ("+y.start.x+", "+y.start.y+")");return l*(y.end.y-y.start.y)+(y.end.x-y.start.x+1)}},4634:(T,o)=>{function y(l,u,d){if(u===l.length-1)return l[u].getTrimmedLength();var p=!l[u].hasContent(d-1)&&l[u].getWidth(d-1)===1,v=l[u+1].getWidth(0)===2;return p&&v?d-1:d}Object.defineProperty(o,"__esModule",{value:!0}),o.getWrappedLineTrimmedLength=o.reflowSmallerGetNewLineLengths=o.reflowLargerApplyNewLayout=o.reflowLargerCreateNewLayout=o.reflowLargerGetLinesToRemove=void 0,o.reflowLargerGetLinesToRemove=function(l,u,d,p,v){for(var g=[],s=0;s<l.length-1;s++){var a=s,_=l.get(++a);if(_.isWrapped){for(var h=[l.get(s)];a<l.length&&_.isWrapped;)h.push(_),_=l.get(++a);if(p>=s&&p<a)s+=h.length-1;else{for(var r=0,e=y(h,r,u),t=1,i=0;t<h.length;){var n=y(h,t,u),f=n-i,c=d-e,b=Math.min(f,c);h[r].copyCellsFrom(h[t],i,e,b,!1),(e+=b)===d&&(r++,e=0),(i+=b)===n&&(t++,i=0),e===0&&r!==0&&h[r-1].getWidth(d-1)===2&&(h[r].copyCellsFrom(h[r-1],d-1,e++,1,!1),h[r-1].setCell(d-1,v))}h[r].replaceCells(e,d,v);for(var C=0,m=h.length-1;m>0&&(m>r||h[m].getTrimmedLength()===0);m--)C++;C>0&&(g.push(s+h.length-C),g.push(C)),s+=h.length-1}}}return g},o.reflowLargerCreateNewLayout=function(l,u){for(var d=[],p=0,v=u[p],g=0,s=0;s<l.length;s++)if(v===s){var a=u[++p];l.onDeleteEmitter.fire({index:s-g,amount:a}),s+=a-1,g+=a,v=u[++p]}else d.push(s);return{layout:d,countRemoved:g}},o.reflowLargerApplyNewLayout=function(l,u){for(var d=[],p=0;p<u.length;p++)d.push(l.get(u[p]));for(p=0;p<d.length;p++)l.set(p,d[p]);l.length=u.length},o.reflowSmallerGetNewLineLengths=function(l,u,d){for(var p=[],v=l.map(function(e,t){return y(l,t,u)}).reduce(function(e,t){return e+t}),g=0,s=0,a=0;a<v;){if(v-a<d){p.push(v-a);break}g+=d;var _=y(l,s,u);g>_&&(g-=_,s++);var h=l[s].getWidth(g-1)===2;h&&g--;var r=h?d-1:d;p.push(r),a+=r}return p},o.getWrappedLineTrimmedLength=y},5295:function(T,o,y){var l,u=this&&this.__extends||(l=function(g,s){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,_){a.__proto__=_}||function(a,_){for(var h in _)Object.prototype.hasOwnProperty.call(_,h)&&(a[h]=_[h])},l(g,s)},function(g,s){if(typeof s!="function"&&s!==null)throw new TypeError("Class extends value "+String(s)+" is not a constructor or null");function a(){this.constructor=g}l(g,s),g.prototype=s===null?Object.create(s):(a.prototype=s.prototype,new a)});Object.defineProperty(o,"__esModule",{value:!0}),o.BufferSet=void 0;var d=y(9092),p=y(8460),v=function(g){function s(a,_){var h=g.call(this)||this;return h._optionsService=a,h._bufferService=_,h._onBufferActivate=h.register(new p.EventEmitter),h.reset(),h}return u(s,g),Object.defineProperty(s.prototype,"onBufferActivate",{get:function(){return this._onBufferActivate.event},enumerable:!1,configurable:!0}),s.prototype.reset=function(){this._normal=new d.Buffer(!0,this._optionsService,this._bufferService),this._normal.fillViewportRows(),this._alt=new d.Buffer(!1,this._optionsService,this._bufferService),this._activeBuffer=this._normal,this._onBufferActivate.fire({activeBuffer:this._normal,inactiveBuffer:this._alt}),this.setupTabStops()},Object.defineProperty(s.prototype,"alt",{get:function(){return this._alt},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"active",{get:function(){return this._activeBuffer},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"normal",{get:function(){return this._normal},enumerable:!1,configurable:!0}),s.prototype.activateNormalBuffer=function(){this._activeBuffer!==this._normal&&(this._normal.x=this._alt.x,this._normal.y=this._alt.y,this._alt.clear(),this._activeBuffer=this._normal,this._onBufferActivate.fire({activeBuffer:this._normal,inactiveBuffer:this._alt}))},s.prototype.activateAltBuffer=function(a){this._activeBuffer!==this._alt&&(this._alt.fillViewportRows(a),this._alt.x=this._normal.x,this._alt.y=this._normal.y,this._activeBuffer=this._alt,this._onBufferActivate.fire({activeBuffer:this._alt,inactiveBuffer:this._normal}))},s.prototype.resize=function(a,_){this._normal.resize(a,_),this._alt.resize(a,_)},s.prototype.setupTabStops=function(a){this._normal.setupTabStops(a),this._alt.setupTabStops(a)},s}(y(844).Disposable);o.BufferSet=v},511:function(T,o,y){var l,u=this&&this.__extends||(l=function(s,a){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(_,h){_.__proto__=h}||function(_,h){for(var r in h)Object.prototype.hasOwnProperty.call(h,r)&&(_[r]=h[r])},l(s,a)},function(s,a){if(typeof a!="function"&&a!==null)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");function _(){this.constructor=s}l(s,a),s.prototype=a===null?Object.create(a):(_.prototype=a.prototype,new _)});Object.defineProperty(o,"__esModule",{value:!0}),o.CellData=void 0;var d=y(482),p=y(643),v=y(3734),g=function(s){function a(){var _=s!==null&&s.apply(this,arguments)||this;return _.content=0,_.fg=0,_.bg=0,_.extended=new v.ExtendedAttrs,_.combinedData="",_}return u(a,s),a.fromCharData=function(_){var h=new a;return h.setFromCharData(_),h},a.prototype.isCombined=function(){return 2097152&this.content},a.prototype.getWidth=function(){return this.content>>22},a.prototype.getChars=function(){return 2097152&this.content?this.combinedData:2097151&this.content?(0,d.stringFromCodePoint)(2097151&this.content):""},a.prototype.getCode=function(){return this.isCombined()?this.combinedData.charCodeAt(this.combinedData.length-1):2097151&this.content},a.prototype.setFromCharData=function(_){this.fg=_[p.CHAR_DATA_ATTR_INDEX],this.bg=0;var h=!1;if(_[p.CHAR_DATA_CHAR_INDEX].length>2)h=!0;else if(_[p.CHAR_DATA_CHAR_INDEX].length===2){var r=_[p.CHAR_DATA_CHAR_INDEX].charCodeAt(0);if(55296<=r&&r<=56319){var e=_[p.CHAR_DATA_CHAR_INDEX].charCodeAt(1);56320<=e&&e<=57343?this.content=1024*(r-55296)+e-56320+65536|_[p.CHAR_DATA_WIDTH_INDEX]<<22:h=!0}else h=!0}else this.content=_[p.CHAR_DATA_CHAR_INDEX].charCodeAt(0)|_[p.CHAR_DATA_WIDTH_INDEX]<<22;h&&(this.combinedData=_[p.CHAR_DATA_CHAR_INDEX],this.content=2097152|_[p.CHAR_DATA_WIDTH_INDEX]<<22)},a.prototype.getAsCharData=function(){return[this.fg,this.getChars(),this.getWidth(),this.getCode()]},a}(v.AttributeData);o.CellData=g},643:(T,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.WHITESPACE_CELL_CODE=o.WHITESPACE_CELL_WIDTH=o.WHITESPACE_CELL_CHAR=o.NULL_CELL_CODE=o.NULL_CELL_WIDTH=o.NULL_CELL_CHAR=o.CHAR_DATA_CODE_INDEX=o.CHAR_DATA_WIDTH_INDEX=o.CHAR_DATA_CHAR_INDEX=o.CHAR_DATA_ATTR_INDEX=o.DEFAULT_ATTR=o.DEFAULT_COLOR=void 0,o.DEFAULT_COLOR=256,o.DEFAULT_ATTR=256|o.DEFAULT_COLOR<<9,o.CHAR_DATA_ATTR_INDEX=0,o.CHAR_DATA_CHAR_INDEX=1,o.CHAR_DATA_WIDTH_INDEX=2,o.CHAR_DATA_CODE_INDEX=3,o.NULL_CELL_CHAR="",o.NULL_CELL_WIDTH=1,o.NULL_CELL_CODE=0,o.WHITESPACE_CELL_CHAR=" ",o.WHITESPACE_CELL_WIDTH=1,o.WHITESPACE_CELL_CODE=32},4863:function(T,o,y){var l,u=this&&this.__extends||(l=function(v,g){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,a){s.__proto__=a}||function(s,a){for(var _ in a)Object.prototype.hasOwnProperty.call(a,_)&&(s[_]=a[_])},l(v,g)},function(v,g){if(typeof g!="function"&&g!==null)throw new TypeError("Class extends value "+String(g)+" is not a constructor or null");function s(){this.constructor=v}l(v,g),v.prototype=g===null?Object.create(g):(s.prototype=g.prototype,new s)});Object.defineProperty(o,"__esModule",{value:!0}),o.Marker=void 0;var d=y(8460),p=function(v){function g(s){var a=v.call(this)||this;return a.line=s,a._id=g._nextId++,a.isDisposed=!1,a._onDispose=new d.EventEmitter,a}return u(g,v),Object.defineProperty(g.prototype,"id",{get:function(){return this._id},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"onDispose",{get:function(){return this._onDispose.event},enumerable:!1,configurable:!0}),g.prototype.dispose=function(){this.isDisposed||(this.isDisposed=!0,this.line=-1,this._onDispose.fire(),v.prototype.dispose.call(this))},g._nextId=1,g}(y(844).Disposable);o.Marker=p},7116:(T,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.DEFAULT_CHARSET=o.CHARSETS=void 0,o.CHARSETS={},o.DEFAULT_CHARSET=o.CHARSETS.B,o.CHARSETS[0]={"`":"\u25C6",a:"\u2592",b:"\u2409",c:"\u240C",d:"\u240D",e:"\u240A",f:"\xB0",g:"\xB1",h:"\u2424",i:"\u240B",j:"\u2518",k:"\u2510",l:"\u250C",m:"\u2514",n:"\u253C",o:"\u23BA",p:"\u23BB",q:"\u2500",r:"\u23BC",s:"\u23BD",t:"\u251C",u:"\u2524",v:"\u2534",w:"\u252C",x:"\u2502",y:"\u2264",z:"\u2265","{":"\u03C0","|":"\u2260","}":"\xA3","~":"\xB7"},o.CHARSETS.A={"#":"\xA3"},o.CHARSETS.B=void 0,o.CHARSETS[4]={"#":"\xA3","@":"\xBE","[":"ij","\\":"\xBD","]":"|","{":"\xA8","|":"f","}":"\xBC","~":"\xB4"},o.CHARSETS.C=o.CHARSETS[5]={"[":"\xC4","\\":"\xD6","]":"\xC5","^":"\xDC","`":"\xE9","{":"\xE4","|":"\xF6","}":"\xE5","~":"\xFC"},o.CHARSETS.R={"#":"\xA3","@":"\xE0","[":"\xB0","\\":"\xE7","]":"\xA7","{":"\xE9","|":"\xF9","}":"\xE8","~":"\xA8"},o.CHARSETS.Q={"@":"\xE0","[":"\xE2","\\":"\xE7","]":"\xEA","^":"\xEE","`":"\xF4","{":"\xE9","|":"\xF9","}":"\xE8","~":"\xFB"},o.CHARSETS.K={"@":"\xA7","[":"\xC4","\\":"\xD6","]":"\xDC","{":"\xE4","|":"\xF6","}":"\xFC","~":"\xDF"},o.CHARSETS.Y={"#":"\xA3","@":"\xA7","[":"\xB0","\\":"\xE7","]":"\xE9","`":"\xF9","{":"\xE0","|":"\xF2","}":"\xE8","~":"\xEC"},o.CHARSETS.E=o.CHARSETS[6]={"@":"\xC4","[":"\xC6","\\":"\xD8","]":"\xC5","^":"\xDC","`":"\xE4","{":"\xE6","|":"\xF8","}":"\xE5","~":"\xFC"},o.CHARSETS.Z={"#":"\xA3","@":"\xA7","[":"\xA1","\\":"\xD1","]":"\xBF","{":"\xB0","|":"\xF1","}":"\xE7"},o.CHARSETS.H=o.CHARSETS[7]={"@":"\xC9","[":"\xC4","\\":"\xD6","]":"\xC5","^":"\xDC","`":"\xE9","{":"\xE4","|":"\xF6","}":"\xE5","~":"\xFC"},o.CHARSETS["="]={"#":"\xF9","@":"\xE0","[":"\xE9","\\":"\xE7","]":"\xEA","^":"\xEE",_:"\xE8","`":"\xF4","{":"\xE4","|":"\xF6","}":"\xFC","~":"\xFB"}},2584:(T,o)=>{var y,l;Object.defineProperty(o,"__esModule",{value:!0}),o.C1_ESCAPED=o.C1=o.C0=void 0,function(u){u.NUL="\0",u.SOH="",u.STX="",u.ETX="",u.EOT="",u.ENQ="",u.ACK="",u.BEL="\x07",u.BS="\b",u.HT="	",u.LF=`
`,u.VT="\v",u.FF="\f",u.CR="\r",u.SO="",u.SI="",u.DLE="",u.DC1="",u.DC2="",u.DC3="",u.DC4="",u.NAK="",u.SYN="",u.ETB="",u.CAN="",u.EM="",u.SUB="",u.ESC="\x1B",u.FS="",u.GS="",u.RS="",u.US="",u.SP=" ",u.DEL="\x7F"}(y=o.C0||(o.C0={})),(l=o.C1||(o.C1={})).PAD="\x80",l.HOP="\x81",l.BPH="\x82",l.NBH="\x83",l.IND="\x84",l.NEL="\x85",l.SSA="\x86",l.ESA="\x87",l.HTS="\x88",l.HTJ="\x89",l.VTS="\x8A",l.PLD="\x8B",l.PLU="\x8C",l.RI="\x8D",l.SS2="\x8E",l.SS3="\x8F",l.DCS="\x90",l.PU1="\x91",l.PU2="\x92",l.STS="\x93",l.CCH="\x94",l.MW="\x95",l.SPA="\x96",l.EPA="\x97",l.SOS="\x98",l.SGCI="\x99",l.SCI="\x9A",l.CSI="\x9B",l.ST="\x9C",l.OSC="\x9D",l.PM="\x9E",l.APC="\x9F",(o.C1_ESCAPED||(o.C1_ESCAPED={})).ST=y.ESC+"\\"},7399:(T,o,y)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.evaluateKeyboardEvent=void 0;var l=y(2584),u={48:["0",")"],49:["1","!"],50:["2","@"],51:["3","#"],52:["4","$"],53:["5","%"],54:["6","^"],55:["7","&"],56:["8","*"],57:["9","("],186:[";",":"],187:["=","+"],188:[",","<"],189:["-","_"],190:[".",">"],191:["/","?"],192:["`","~"],219:["[","{"],220:["\\","|"],221:["]","}"],222:["'",'"']};o.evaluateKeyboardEvent=function(d,p,v,g){var s={type:0,cancel:!1,key:void 0},a=(d.shiftKey?1:0)|(d.altKey?2:0)|(d.ctrlKey?4:0)|(d.metaKey?8:0);switch(d.keyCode){case 0:d.key==="UIKeyInputUpArrow"?s.key=p?l.C0.ESC+"OA":l.C0.ESC+"[A":d.key==="UIKeyInputLeftArrow"?s.key=p?l.C0.ESC+"OD":l.C0.ESC+"[D":d.key==="UIKeyInputRightArrow"?s.key=p?l.C0.ESC+"OC":l.C0.ESC+"[C":d.key==="UIKeyInputDownArrow"&&(s.key=p?l.C0.ESC+"OB":l.C0.ESC+"[B");break;case 8:if(d.shiftKey){s.key=l.C0.BS;break}if(d.altKey){s.key=l.C0.ESC+l.C0.DEL;break}s.key=l.C0.DEL;break;case 9:if(d.shiftKey){s.key=l.C0.ESC+"[Z";break}s.key=l.C0.HT,s.cancel=!0;break;case 13:s.key=d.altKey?l.C0.ESC+l.C0.CR:l.C0.CR,s.cancel=!0;break;case 27:s.key=l.C0.ESC,d.altKey&&(s.key=l.C0.ESC+l.C0.ESC),s.cancel=!0;break;case 37:if(d.metaKey)break;a?(s.key=l.C0.ESC+"[1;"+(a+1)+"D",s.key===l.C0.ESC+"[1;3D"&&(s.key=l.C0.ESC+(v?"b":"[1;5D"))):s.key=p?l.C0.ESC+"OD":l.C0.ESC+"[D";break;case 39:if(d.metaKey)break;a?(s.key=l.C0.ESC+"[1;"+(a+1)+"C",s.key===l.C0.ESC+"[1;3C"&&(s.key=l.C0.ESC+(v?"f":"[1;5C"))):s.key=p?l.C0.ESC+"OC":l.C0.ESC+"[C";break;case 38:if(d.metaKey)break;a?(s.key=l.C0.ESC+"[1;"+(a+1)+"A",v||s.key!==l.C0.ESC+"[1;3A"||(s.key=l.C0.ESC+"[1;5A")):s.key=p?l.C0.ESC+"OA":l.C0.ESC+"[A";break;case 40:if(d.metaKey)break;a?(s.key=l.C0.ESC+"[1;"+(a+1)+"B",v||s.key!==l.C0.ESC+"[1;3B"||(s.key=l.C0.ESC+"[1;5B")):s.key=p?l.C0.ESC+"OB":l.C0.ESC+"[B";break;case 45:d.shiftKey||d.ctrlKey||(s.key=l.C0.ESC+"[2~");break;case 46:s.key=a?l.C0.ESC+"[3;"+(a+1)+"~":l.C0.ESC+"[3~";break;case 36:s.key=a?l.C0.ESC+"[1;"+(a+1)+"H":p?l.C0.ESC+"OH":l.C0.ESC+"[H";break;case 35:s.key=a?l.C0.ESC+"[1;"+(a+1)+"F":p?l.C0.ESC+"OF":l.C0.ESC+"[F";break;case 33:d.shiftKey?s.type=2:d.ctrlKey?s.key=l.C0.ESC+"[5;"+(a+1)+"~":s.key=l.C0.ESC+"[5~";break;case 34:d.shiftKey?s.type=3:d.ctrlKey?s.key=l.C0.ESC+"[6;"+(a+1)+"~":s.key=l.C0.ESC+"[6~";break;case 112:s.key=a?l.C0.ESC+"[1;"+(a+1)+"P":l.C0.ESC+"OP";break;case 113:s.key=a?l.C0.ESC+"[1;"+(a+1)+"Q":l.C0.ESC+"OQ";break;case 114:s.key=a?l.C0.ESC+"[1;"+(a+1)+"R":l.C0.ESC+"OR";break;case 115:s.key=a?l.C0.ESC+"[1;"+(a+1)+"S":l.C0.ESC+"OS";break;case 116:s.key=a?l.C0.ESC+"[15;"+(a+1)+"~":l.C0.ESC+"[15~";break;case 117:s.key=a?l.C0.ESC+"[17;"+(a+1)+"~":l.C0.ESC+"[17~";break;case 118:s.key=a?l.C0.ESC+"[18;"+(a+1)+"~":l.C0.ESC+"[18~";break;case 119:s.key=a?l.C0.ESC+"[19;"+(a+1)+"~":l.C0.ESC+"[19~";break;case 120:s.key=a?l.C0.ESC+"[20;"+(a+1)+"~":l.C0.ESC+"[20~";break;case 121:s.key=a?l.C0.ESC+"[21;"+(a+1)+"~":l.C0.ESC+"[21~";break;case 122:s.key=a?l.C0.ESC+"[23;"+(a+1)+"~":l.C0.ESC+"[23~";break;case 123:s.key=a?l.C0.ESC+"[24;"+(a+1)+"~":l.C0.ESC+"[24~";break;default:if(!d.ctrlKey||d.shiftKey||d.altKey||d.metaKey)if(v&&!g||!d.altKey||d.metaKey)!v||d.altKey||d.ctrlKey||d.shiftKey||!d.metaKey?d.key&&!d.ctrlKey&&!d.altKey&&!d.metaKey&&d.keyCode>=48&&d.key.length===1?s.key=d.key:d.key&&d.ctrlKey&&(d.key==="_"&&(s.key=l.C0.US),d.key==="@"&&(s.key=l.C0.NUL)):d.keyCode===65&&(s.type=1);else{var _=u[d.keyCode],h=_?.[d.shiftKey?1:0];if(h)s.key=l.C0.ESC+h;else if(d.keyCode>=65&&d.keyCode<=90){var r=d.ctrlKey?d.keyCode-64:d.keyCode+32,e=String.fromCharCode(r);d.shiftKey&&(e=e.toUpperCase()),s.key=l.C0.ESC+e}else d.key==="Dead"&&d.code.startsWith("Key")&&(e=d.code.slice(3,4),d.shiftKey||(e=e.toLowerCase()),s.key=l.C0.ESC+e,s.cancel=!0)}else d.keyCode>=65&&d.keyCode<=90?s.key=String.fromCharCode(d.keyCode-64):d.keyCode===32?s.key=l.C0.NUL:d.keyCode>=51&&d.keyCode<=55?s.key=String.fromCharCode(d.keyCode-51+27):d.keyCode===56?s.key=l.C0.DEL:d.keyCode===219?s.key=l.C0.ESC:d.keyCode===220?s.key=l.C0.FS:d.keyCode===221&&(s.key=l.C0.GS)}return s}},482:(T,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.Utf8ToUtf32=o.StringToUtf32=o.utf32ToString=o.stringFromCodePoint=void 0,o.stringFromCodePoint=function(u){return u>65535?(u-=65536,String.fromCharCode(55296+(u>>10))+String.fromCharCode(u%1024+56320)):String.fromCharCode(u)},o.utf32ToString=function(u,d,p){d===void 0&&(d=0),p===void 0&&(p=u.length);for(var v="",g=d;g<p;++g){var s=u[g];s>65535?(s-=65536,v+=String.fromCharCode(55296+(s>>10))+String.fromCharCode(s%1024+56320)):v+=String.fromCharCode(s)}return v};var y=function(){function u(){this._interim=0}return u.prototype.clear=function(){this._interim=0},u.prototype.decode=function(d,p){var v=d.length;if(!v)return 0;var g=0,s=0;this._interim&&(56320<=(h=d.charCodeAt(s++))&&h<=57343?p[g++]=1024*(this._interim-55296)+h-56320+65536:(p[g++]=this._interim,p[g++]=h),this._interim=0);for(var a=s;a<v;++a){var _=d.charCodeAt(a);if(55296<=_&&_<=56319){if(++a>=v)return this._interim=_,g;var h;56320<=(h=d.charCodeAt(a))&&h<=57343?p[g++]=1024*(_-55296)+h-56320+65536:(p[g++]=_,p[g++]=h)}else _!==65279&&(p[g++]=_)}return g},u}();o.StringToUtf32=y;var l=function(){function u(){this.interim=new Uint8Array(3)}return u.prototype.clear=function(){this.interim.fill(0)},u.prototype.decode=function(d,p){var v=d.length;if(!v)return 0;var g,s,a,_,h=0,r=0,e=0;if(this.interim[0]){var t=!1,i=this.interim[0];i&=(224&i)==192?31:(240&i)==224?15:7;for(var n=0,f=void 0;(f=63&this.interim[++n])&&n<4;)i<<=6,i|=f;for(var c=(224&this.interim[0])==192?2:(240&this.interim[0])==224?3:4,b=c-n;e<b;){if(e>=v)return 0;if((192&(f=d[e++]))!=128){e--,t=!0;break}this.interim[n++]=f,i<<=6,i|=63&f}t||(c===2?i<128?e--:p[h++]=i:c===3?i<2048||i>=55296&&i<=57343||i===65279||(p[h++]=i):i<65536||i>1114111||(p[h++]=i)),this.interim.fill(0)}for(var C=v-4,m=e;m<v;){for(;!(!(m<C)||128&(g=d[m])||128&(s=d[m+1])||128&(a=d[m+2])||128&(_=d[m+3]));)p[h++]=g,p[h++]=s,p[h++]=a,p[h++]=_,m+=4;if((g=d[m++])<128)p[h++]=g;else if((224&g)==192){if(m>=v)return this.interim[0]=g,h;if((192&(s=d[m++]))!=128){m--;continue}if((r=(31&g)<<6|63&s)<128){m--;continue}p[h++]=r}else if((240&g)==224){if(m>=v)return this.interim[0]=g,h;if((192&(s=d[m++]))!=128){m--;continue}if(m>=v)return this.interim[0]=g,this.interim[1]=s,h;if((192&(a=d[m++]))!=128){m--;continue}if((r=(15&g)<<12|(63&s)<<6|63&a)<2048||r>=55296&&r<=57343||r===65279)continue;p[h++]=r}else if((248&g)==240){if(m>=v)return this.interim[0]=g,h;if((192&(s=d[m++]))!=128){m--;continue}if(m>=v)return this.interim[0]=g,this.interim[1]=s,h;if((192&(a=d[m++]))!=128){m--;continue}if(m>=v)return this.interim[0]=g,this.interim[1]=s,this.interim[2]=a,h;if((192&(_=d[m++]))!=128){m--;continue}if((r=(7&g)<<18|(63&s)<<12|(63&a)<<6|63&_)<65536||r>1114111)continue;p[h++]=r}}return h},u}();o.Utf8ToUtf32=l},225:(T,o,y)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.UnicodeV6=void 0;var l,u=y(8273),d=[[768,879],[1155,1158],[1160,1161],[1425,1469],[1471,1471],[1473,1474],[1476,1477],[1479,1479],[1536,1539],[1552,1557],[1611,1630],[1648,1648],[1750,1764],[1767,1768],[1770,1773],[1807,1807],[1809,1809],[1840,1866],[1958,1968],[2027,2035],[2305,2306],[2364,2364],[2369,2376],[2381,2381],[2385,2388],[2402,2403],[2433,2433],[2492,2492],[2497,2500],[2509,2509],[2530,2531],[2561,2562],[2620,2620],[2625,2626],[2631,2632],[2635,2637],[2672,2673],[2689,2690],[2748,2748],[2753,2757],[2759,2760],[2765,2765],[2786,2787],[2817,2817],[2876,2876],[2879,2879],[2881,2883],[2893,2893],[2902,2902],[2946,2946],[3008,3008],[3021,3021],[3134,3136],[3142,3144],[3146,3149],[3157,3158],[3260,3260],[3263,3263],[3270,3270],[3276,3277],[3298,3299],[3393,3395],[3405,3405],[3530,3530],[3538,3540],[3542,3542],[3633,3633],[3636,3642],[3655,3662],[3761,3761],[3764,3769],[3771,3772],[3784,3789],[3864,3865],[3893,3893],[3895,3895],[3897,3897],[3953,3966],[3968,3972],[3974,3975],[3984,3991],[3993,4028],[4038,4038],[4141,4144],[4146,4146],[4150,4151],[4153,4153],[4184,4185],[4448,4607],[4959,4959],[5906,5908],[5938,5940],[5970,5971],[6002,6003],[6068,6069],[6071,6077],[6086,6086],[6089,6099],[6109,6109],[6155,6157],[6313,6313],[6432,6434],[6439,6440],[6450,6450],[6457,6459],[6679,6680],[6912,6915],[6964,6964],[6966,6970],[6972,6972],[6978,6978],[7019,7027],[7616,7626],[7678,7679],[8203,8207],[8234,8238],[8288,8291],[8298,8303],[8400,8431],[12330,12335],[12441,12442],[43014,43014],[43019,43019],[43045,43046],[64286,64286],[65024,65039],[65056,65059],[65279,65279],[65529,65531]],p=[[68097,68099],[68101,68102],[68108,68111],[68152,68154],[68159,68159],[119143,119145],[119155,119170],[119173,119179],[119210,119213],[119362,119364],[917505,917505],[917536,917631],[917760,917999]],v=function(){function g(){if(this.version="6",!l){l=new Uint8Array(65536),(0,u.fill)(l,1),l[0]=0,(0,u.fill)(l,0,1,32),(0,u.fill)(l,0,127,160),(0,u.fill)(l,2,4352,4448),l[9001]=2,l[9002]=2,(0,u.fill)(l,2,11904,42192),l[12351]=1,(0,u.fill)(l,2,44032,55204),(0,u.fill)(l,2,63744,64256),(0,u.fill)(l,2,65040,65050),(0,u.fill)(l,2,65072,65136),(0,u.fill)(l,2,65280,65377),(0,u.fill)(l,2,65504,65511);for(var s=0;s<d.length;++s)(0,u.fill)(l,0,d[s][0],d[s][1]+1)}}return g.prototype.wcwidth=function(s){return s<32?0:s<127?1:s<65536?l[s]:function(a,_){var h,r=0,e=_.length-1;if(a<_[0][0]||a>_[e][1])return!1;for(;e>=r;)if(a>_[h=r+e>>1][1])r=h+1;else{if(!(a<_[h][0]))return!0;e=h-1}return!1}(s,p)?0:s>=131072&&s<=196605||s>=196608&&s<=262141?2:1},g}();o.UnicodeV6=v},5981:(T,o,y)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.WriteBuffer=void 0;var l=y(8460),u=typeof queueMicrotask>"u"?function(p){Promise.resolve().then(p)}:queueMicrotask,d=function(){function p(v){this._action=v,this._writeBuffer=[],this._callbacks=[],this._pendingData=0,this._bufferOffset=0,this._isSyncWriting=!1,this._syncCalls=0,this._onWriteParsed=new l.EventEmitter}return Object.defineProperty(p.prototype,"onWriteParsed",{get:function(){return this._onWriteParsed.event},enumerable:!1,configurable:!0}),p.prototype.writeSync=function(v,g){if(g!==void 0&&this._syncCalls>g)this._syncCalls=0;else if(this._pendingData+=v.length,this._writeBuffer.push(v),this._callbacks.push(void 0),this._syncCalls++,!this._isSyncWriting){var s;for(this._isSyncWriting=!0;s=this._writeBuffer.shift();){this._action(s);var a=this._callbacks.shift();a&&a()}this._pendingData=0,this._bufferOffset=2147483647,this._isSyncWriting=!1,this._syncCalls=0}},p.prototype.write=function(v,g){var s=this;if(this._pendingData>5e7)throw new Error("write data discarded, use flow control to avoid losing data");this._writeBuffer.length||(this._bufferOffset=0,setTimeout(function(){return s._innerWrite()})),this._pendingData+=v.length,this._writeBuffer.push(v),this._callbacks.push(g)},p.prototype._innerWrite=function(v,g){var s=this;v===void 0&&(v=0),g===void 0&&(g=!0);for(var a=v||Date.now();this._writeBuffer.length>this._bufferOffset;){var _=this._writeBuffer[this._bufferOffset],h=this._action(_,g);if(h)return void h.catch(function(e){return u(function(){throw e}),Promise.resolve(!1)}).then(function(e){return Date.now()-a>=12?setTimeout(function(){return s._innerWrite(0,e)}):s._innerWrite(a,e)});var r=this._callbacks[this._bufferOffset];if(r&&r(),this._bufferOffset++,this._pendingData-=_.length,Date.now()-a>=12)break}this._writeBuffer.length>this._bufferOffset?(this._bufferOffset>50&&(this._writeBuffer=this._writeBuffer.slice(this._bufferOffset),this._callbacks=this._callbacks.slice(this._bufferOffset),this._bufferOffset=0),setTimeout(function(){return s._innerWrite()})):(this._writeBuffer.length=0,this._callbacks.length=0,this._pendingData=0,this._bufferOffset=0),this._onWriteParsed.fire()},p}();o.WriteBuffer=d},5941:function(T,o){var y=this&&this.__read||function(p,v){var g=typeof Symbol=="function"&&p[Symbol.iterator];if(!g)return p;var s,a,_=g.call(p),h=[];try{for(;(v===void 0||v-- >0)&&!(s=_.next()).done;)h.push(s.value)}catch(r){a={error:r}}finally{try{s&&!s.done&&(g=_.return)&&g.call(_)}finally{if(a)throw a.error}}return h};Object.defineProperty(o,"__esModule",{value:!0}),o.toRgbString=o.parseColor=void 0;var l=/^([\da-f])\/([\da-f])\/([\da-f])$|^([\da-f]{2})\/([\da-f]{2})\/([\da-f]{2})$|^([\da-f]{3})\/([\da-f]{3})\/([\da-f]{3})$|^([\da-f]{4})\/([\da-f]{4})\/([\da-f]{4})$/,u=/^[\da-f]+$/;function d(p,v){var g=p.toString(16),s=g.length<2?"0"+g:g;switch(v){case 4:return g[0];case 8:return s;case 12:return(s+s).slice(0,3);default:return s+s}}o.parseColor=function(p){if(p){var v=p.toLowerCase();if(v.indexOf("rgb:")===0){v=v.slice(4);var g=l.exec(v);if(g){var s=g[1]?15:g[4]?255:g[7]?4095:65535;return[Math.round(parseInt(g[1]||g[4]||g[7]||g[10],16)/s*255),Math.round(parseInt(g[2]||g[5]||g[8]||g[11],16)/s*255),Math.round(parseInt(g[3]||g[6]||g[9]||g[12],16)/s*255)]}}else if(v.indexOf("#")===0&&(v=v.slice(1),u.exec(v)&&[3,6,9,12].includes(v.length))){for(var a=v.length/3,_=[0,0,0],h=0;h<3;++h){var r=parseInt(v.slice(a*h,a*h+a),16);_[h]=a===1?r<<4:a===2?r:a===3?r>>4:r>>8}return _}}},o.toRgbString=function(p,v){v===void 0&&(v=16);var g=y(p,3),s=g[0],a=g[1],_=g[2];return"rgb:"+d(s,v)+"/"+d(a,v)+"/"+d(_,v)}},5770:(T,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.PAYLOAD_LIMIT=void 0,o.PAYLOAD_LIMIT=1e7},6351:(T,o,y)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.DcsHandler=o.DcsParser=void 0;var l=y(482),u=y(8742),d=y(5770),p=[],v=function(){function a(){this._handlers=Object.create(null),this._active=p,this._ident=0,this._handlerFb=function(){},this._stack={paused:!1,loopPosition:0,fallThrough:!1}}return a.prototype.dispose=function(){this._handlers=Object.create(null),this._handlerFb=function(){},this._active=p},a.prototype.registerHandler=function(_,h){this._handlers[_]===void 0&&(this._handlers[_]=[]);var r=this._handlers[_];return r.push(h),{dispose:function(){var e=r.indexOf(h);e!==-1&&r.splice(e,1)}}},a.prototype.clearHandler=function(_){this._handlers[_]&&delete this._handlers[_]},a.prototype.setHandlerFallback=function(_){this._handlerFb=_},a.prototype.reset=function(){if(this._active.length)for(var _=this._stack.paused?this._stack.loopPosition-1:this._active.length-1;_>=0;--_)this._active[_].unhook(!1);this._stack.paused=!1,this._active=p,this._ident=0},a.prototype.hook=function(_,h){if(this.reset(),this._ident=_,this._active=this._handlers[_]||p,this._active.length)for(var r=this._active.length-1;r>=0;r--)this._active[r].hook(h);else this._handlerFb(this._ident,"HOOK",h)},a.prototype.put=function(_,h,r){if(this._active.length)for(var e=this._active.length-1;e>=0;e--)this._active[e].put(_,h,r);else this._handlerFb(this._ident,"PUT",(0,l.utf32ToString)(_,h,r))},a.prototype.unhook=function(_,h){if(h===void 0&&(h=!0),this._active.length){var r=!1,e=this._active.length-1,t=!1;if(this._stack.paused&&(e=this._stack.loopPosition-1,r=h,t=this._stack.fallThrough,this._stack.paused=!1),!t&&r===!1){for(;e>=0&&(r=this._active[e].unhook(_))!==!0;e--)if(r instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=e,this._stack.fallThrough=!1,r;e--}for(;e>=0;e--)if((r=this._active[e].unhook(!1))instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=e,this._stack.fallThrough=!0,r}else this._handlerFb(this._ident,"UNHOOK",_);this._active=p,this._ident=0},a}();o.DcsParser=v;var g=new u.Params;g.addParam(0);var s=function(){function a(_){this._handler=_,this._data="",this._params=g,this._hitLimit=!1}return a.prototype.hook=function(_){this._params=_.length>1||_.params[0]?_.clone():g,this._data="",this._hitLimit=!1},a.prototype.put=function(_,h,r){this._hitLimit||(this._data+=(0,l.utf32ToString)(_,h,r),this._data.length>d.PAYLOAD_LIMIT&&(this._data="",this._hitLimit=!0))},a.prototype.unhook=function(_){var h=this,r=!1;if(this._hitLimit)r=!1;else if(_&&(r=this._handler(this._data,this._params))instanceof Promise)return r.then(function(e){return h._params=g,h._data="",h._hitLimit=!1,e});return this._params=g,this._data="",this._hitLimit=!1,r},a}();o.DcsHandler=s},2015:function(T,o,y){var l,u=this&&this.__extends||(l=function(r,e){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])},l(r,e)},function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function t(){this.constructor=r}l(r,e),r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)});Object.defineProperty(o,"__esModule",{value:!0}),o.EscapeSequenceParser=o.VT500_TRANSITION_TABLE=o.TransitionTable=void 0;var d=y(844),p=y(8273),v=y(8742),g=y(6242),s=y(6351),a=function(){function r(e){this.table=new Uint8Array(e)}return r.prototype.setDefault=function(e,t){(0,p.fill)(this.table,e<<4|t)},r.prototype.add=function(e,t,i,n){this.table[t<<8|e]=i<<4|n},r.prototype.addMany=function(e,t,i,n){for(var f=0;f<e.length;f++)this.table[t<<8|e[f]]=i<<4|n},r}();o.TransitionTable=a;var _=160;o.VT500_TRANSITION_TABLE=function(){var r=new a(4095),e=Array.apply(null,Array(256)).map(function(b,C){return C}),t=function(b,C){return e.slice(b,C)},i=t(32,127),n=t(0,24);n.push(25),n.push.apply(n,t(28,32));var f,c=t(0,14);for(f in r.setDefault(1,0),r.addMany(i,0,2,0),c)r.addMany([24,26,153,154],f,3,0),r.addMany(t(128,144),f,3,0),r.addMany(t(144,152),f,3,0),r.add(156,f,0,0),r.add(27,f,11,1),r.add(157,f,4,8),r.addMany([152,158,159],f,0,7),r.add(155,f,11,3),r.add(144,f,11,9);return r.addMany(n,0,3,0),r.addMany(n,1,3,1),r.add(127,1,0,1),r.addMany(n,8,0,8),r.addMany(n,3,3,3),r.add(127,3,0,3),r.addMany(n,4,3,4),r.add(127,4,0,4),r.addMany(n,6,3,6),r.addMany(n,5,3,5),r.add(127,5,0,5),r.addMany(n,2,3,2),r.add(127,2,0,2),r.add(93,1,4,8),r.addMany(i,8,5,8),r.add(127,8,5,8),r.addMany([156,27,24,26,7],8,6,0),r.addMany(t(28,32),8,0,8),r.addMany([88,94,95],1,0,7),r.addMany(i,7,0,7),r.addMany(n,7,0,7),r.add(156,7,0,0),r.add(127,7,0,7),r.add(91,1,11,3),r.addMany(t(64,127),3,7,0),r.addMany(t(48,60),3,8,4),r.addMany([60,61,62,63],3,9,4),r.addMany(t(48,60),4,8,4),r.addMany(t(64,127),4,7,0),r.addMany([60,61,62,63],4,0,6),r.addMany(t(32,64),6,0,6),r.add(127,6,0,6),r.addMany(t(64,127),6,0,0),r.addMany(t(32,48),3,9,5),r.addMany(t(32,48),5,9,5),r.addMany(t(48,64),5,0,6),r.addMany(t(64,127),5,7,0),r.addMany(t(32,48),4,9,5),r.addMany(t(32,48),1,9,2),r.addMany(t(32,48),2,9,2),r.addMany(t(48,127),2,10,0),r.addMany(t(48,80),1,10,0),r.addMany(t(81,88),1,10,0),r.addMany([89,90,92],1,10,0),r.addMany(t(96,127),1,10,0),r.add(80,1,11,9),r.addMany(n,9,0,9),r.add(127,9,0,9),r.addMany(t(28,32),9,0,9),r.addMany(t(32,48),9,9,12),r.addMany(t(48,60),9,8,10),r.addMany([60,61,62,63],9,9,10),r.addMany(n,11,0,11),r.addMany(t(32,128),11,0,11),r.addMany(t(28,32),11,0,11),r.addMany(n,10,0,10),r.add(127,10,0,10),r.addMany(t(28,32),10,0,10),r.addMany(t(48,60),10,8,10),r.addMany([60,61,62,63],10,0,11),r.addMany(t(32,48),10,9,12),r.addMany(n,12,0,12),r.add(127,12,0,12),r.addMany(t(28,32),12,0,12),r.addMany(t(32,48),12,9,12),r.addMany(t(48,64),12,0,11),r.addMany(t(64,127),12,12,13),r.addMany(t(64,127),10,12,13),r.addMany(t(64,127),9,12,13),r.addMany(n,13,13,13),r.addMany(i,13,13,13),r.add(127,13,0,13),r.addMany([27,156,24,26],13,14,0),r.add(_,0,2,0),r.add(_,8,5,8),r.add(_,6,0,6),r.add(_,11,0,11),r.add(_,13,13,13),r}();var h=function(r){function e(t){t===void 0&&(t=o.VT500_TRANSITION_TABLE);var i=r.call(this)||this;return i._transitions=t,i._parseStack={state:0,handlers:[],handlerPos:0,transition:0,chunkPos:0},i.initialState=0,i.currentState=i.initialState,i._params=new v.Params,i._params.addParam(0),i._collect=0,i.precedingCodepoint=0,i._printHandlerFb=function(n,f,c){},i._executeHandlerFb=function(n){},i._csiHandlerFb=function(n,f){},i._escHandlerFb=function(n){},i._errorHandlerFb=function(n){return n},i._printHandler=i._printHandlerFb,i._executeHandlers=Object.create(null),i._csiHandlers=Object.create(null),i._escHandlers=Object.create(null),i._oscParser=new g.OscParser,i._dcsParser=new s.DcsParser,i._errorHandler=i._errorHandlerFb,i.registerEscHandler({final:"\\"},function(){return!0}),i}return u(e,r),e.prototype._identifier=function(t,i){i===void 0&&(i=[64,126]);var n=0;if(t.prefix){if(t.prefix.length>1)throw new Error("only one byte as prefix supported");if((n=t.prefix.charCodeAt(0))&&60>n||n>63)throw new Error("prefix must be in range 0x3c .. 0x3f")}if(t.intermediates){if(t.intermediates.length>2)throw new Error("only two bytes as intermediates are supported");for(var f=0;f<t.intermediates.length;++f){var c=t.intermediates.charCodeAt(f);if(32>c||c>47)throw new Error("intermediate must be in range 0x20 .. 0x2f");n<<=8,n|=c}}if(t.final.length!==1)throw new Error("final must be a single byte");var b=t.final.charCodeAt(0);if(i[0]>b||b>i[1])throw new Error("final must be in range "+i[0]+" .. "+i[1]);return(n<<=8)|b},e.prototype.identToString=function(t){for(var i=[];t;)i.push(String.fromCharCode(255&t)),t>>=8;return i.reverse().join("")},e.prototype.dispose=function(){this._csiHandlers=Object.create(null),this._executeHandlers=Object.create(null),this._escHandlers=Object.create(null),this._oscParser.dispose(),this._dcsParser.dispose()},e.prototype.setPrintHandler=function(t){this._printHandler=t},e.prototype.clearPrintHandler=function(){this._printHandler=this._printHandlerFb},e.prototype.registerEscHandler=function(t,i){var n=this._identifier(t,[48,126]);this._escHandlers[n]===void 0&&(this._escHandlers[n]=[]);var f=this._escHandlers[n];return f.push(i),{dispose:function(){var c=f.indexOf(i);c!==-1&&f.splice(c,1)}}},e.prototype.clearEscHandler=function(t){this._escHandlers[this._identifier(t,[48,126])]&&delete this._escHandlers[this._identifier(t,[48,126])]},e.prototype.setEscHandlerFallback=function(t){this._escHandlerFb=t},e.prototype.setExecuteHandler=function(t,i){this._executeHandlers[t.charCodeAt(0)]=i},e.prototype.clearExecuteHandler=function(t){this._executeHandlers[t.charCodeAt(0)]&&delete this._executeHandlers[t.charCodeAt(0)]},e.prototype.setExecuteHandlerFallback=function(t){this._executeHandlerFb=t},e.prototype.registerCsiHandler=function(t,i){var n=this._identifier(t);this._csiHandlers[n]===void 0&&(this._csiHandlers[n]=[]);var f=this._csiHandlers[n];return f.push(i),{dispose:function(){var c=f.indexOf(i);c!==-1&&f.splice(c,1)}}},e.prototype.clearCsiHandler=function(t){this._csiHandlers[this._identifier(t)]&&delete this._csiHandlers[this._identifier(t)]},e.prototype.setCsiHandlerFallback=function(t){this._csiHandlerFb=t},e.prototype.registerDcsHandler=function(t,i){return this._dcsParser.registerHandler(this._identifier(t),i)},e.prototype.clearDcsHandler=function(t){this._dcsParser.clearHandler(this._identifier(t))},e.prototype.setDcsHandlerFallback=function(t){this._dcsParser.setHandlerFallback(t)},e.prototype.registerOscHandler=function(t,i){return this._oscParser.registerHandler(t,i)},e.prototype.clearOscHandler=function(t){this._oscParser.clearHandler(t)},e.prototype.setOscHandlerFallback=function(t){this._oscParser.setHandlerFallback(t)},e.prototype.setErrorHandler=function(t){this._errorHandler=t},e.prototype.clearErrorHandler=function(){this._errorHandler=this._errorHandlerFb},e.prototype.reset=function(){this.currentState=this.initialState,this._oscParser.reset(),this._dcsParser.reset(),this._params.reset(),this._params.addParam(0),this._collect=0,this.precedingCodepoint=0,this._parseStack.state!==0&&(this._parseStack.state=2,this._parseStack.handlers=[])},e.prototype._preserveStack=function(t,i,n,f,c){this._parseStack.state=t,this._parseStack.handlers=i,this._parseStack.handlerPos=n,this._parseStack.transition=f,this._parseStack.chunkPos=c},e.prototype.parse=function(t,i,n){var f,c=0,b=0,C=0;if(this._parseStack.state)if(this._parseStack.state===2)this._parseStack.state=0,C=this._parseStack.chunkPos+1;else{if(n===void 0||this._parseStack.state===1)throw this._parseStack.state=1,new Error("improper continuation due to previous async handler, giving up parsing");var m=this._parseStack.handlers,S=this._parseStack.handlerPos-1;switch(this._parseStack.state){case 3:if(n===!1&&S>-1){for(;S>=0&&(f=m[S](this._params))!==!0;S--)if(f instanceof Promise)return this._parseStack.handlerPos=S,f}this._parseStack.handlers=[];break;case 4:if(n===!1&&S>-1){for(;S>=0&&(f=m[S]())!==!0;S--)if(f instanceof Promise)return this._parseStack.handlerPos=S,f}this._parseStack.handlers=[];break;case 6:if(c=t[this._parseStack.chunkPos],f=this._dcsParser.unhook(c!==24&&c!==26,n))return f;c===27&&(this._parseStack.transition|=1),this._params.reset(),this._params.addParam(0),this._collect=0;break;case 5:if(c=t[this._parseStack.chunkPos],f=this._oscParser.end(c!==24&&c!==26,n))return f;c===27&&(this._parseStack.transition|=1),this._params.reset(),this._params.addParam(0),this._collect=0}this._parseStack.state=0,C=this._parseStack.chunkPos+1,this.precedingCodepoint=0,this.currentState=15&this._parseStack.transition}for(var k=C;k<i;++k){switch(c=t[k],(b=this._transitions.table[this.currentState<<8|(c<160?c:_)])>>4){case 2:for(var A=k+1;;++A){if(A>=i||(c=t[A])<32||c>126&&c<_){this._printHandler(t,k,A),k=A-1;break}if(++A>=i||(c=t[A])<32||c>126&&c<_){this._printHandler(t,k,A),k=A-1;break}if(++A>=i||(c=t[A])<32||c>126&&c<_){this._printHandler(t,k,A),k=A-1;break}if(++A>=i||(c=t[A])<32||c>126&&c<_){this._printHandler(t,k,A),k=A-1;break}}break;case 3:this._executeHandlers[c]?this._executeHandlers[c]():this._executeHandlerFb(c),this.precedingCodepoint=0;break;case 0:break;case 1:if(this._errorHandler({position:k,code:c,currentState:this.currentState,collect:this._collect,params:this._params,abort:!1}).abort)return;break;case 7:for(var E=(m=this._csiHandlers[this._collect<<8|c])?m.length-1:-1;E>=0&&(f=m[E](this._params))!==!0;E--)if(f instanceof Promise)return this._preserveStack(3,m,E,b,k),f;E<0&&this._csiHandlerFb(this._collect<<8|c,this._params),this.precedingCodepoint=0;break;case 8:do switch(c){case 59:this._params.addParam(0);break;case 58:this._params.addSubParam(-1);break;default:this._params.addDigit(c-48)}while(++k<i&&(c=t[k])>47&&c<60);k--;break;case 9:this._collect<<=8,this._collect|=c;break;case 10:for(var B=this._escHandlers[this._collect<<8|c],R=B?B.length-1:-1;R>=0&&(f=B[R]())!==!0;R--)if(f instanceof Promise)return this._preserveStack(4,B,R,b,k),f;R<0&&this._escHandlerFb(this._collect<<8|c),this.precedingCodepoint=0;break;case 11:this._params.reset(),this._params.addParam(0),this._collect=0;break;case 12:this._dcsParser.hook(this._collect<<8|c,this._params);break;case 13:for(var x=k+1;;++x)if(x>=i||(c=t[x])===24||c===26||c===27||c>127&&c<_){this._dcsParser.put(t,k,x),k=x-1;break}break;case 14:if(f=this._dcsParser.unhook(c!==24&&c!==26))return this._preserveStack(6,[],0,b,k),f;c===27&&(b|=1),this._params.reset(),this._params.addParam(0),this._collect=0,this.precedingCodepoint=0;break;case 4:this._oscParser.start();break;case 5:for(var D=k+1;;D++)if(D>=i||(c=t[D])<32||c>127&&c<_){this._oscParser.put(t,k,D),k=D-1;break}break;case 6:if(f=this._oscParser.end(c!==24&&c!==26))return this._preserveStack(5,[],0,b,k),f;c===27&&(b|=1),this._params.reset(),this._params.addParam(0),this._collect=0,this.precedingCodepoint=0}this.currentState=15&b}},e}(d.Disposable);o.EscapeSequenceParser=h},6242:(T,o,y)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.OscHandler=o.OscParser=void 0;var l=y(5770),u=y(482),d=[],p=function(){function g(){this._state=0,this._active=d,this._id=-1,this._handlers=Object.create(null),this._handlerFb=function(){},this._stack={paused:!1,loopPosition:0,fallThrough:!1}}return g.prototype.registerHandler=function(s,a){this._handlers[s]===void 0&&(this._handlers[s]=[]);var _=this._handlers[s];return _.push(a),{dispose:function(){var h=_.indexOf(a);h!==-1&&_.splice(h,1)}}},g.prototype.clearHandler=function(s){this._handlers[s]&&delete this._handlers[s]},g.prototype.setHandlerFallback=function(s){this._handlerFb=s},g.prototype.dispose=function(){this._handlers=Object.create(null),this._handlerFb=function(){},this._active=d},g.prototype.reset=function(){if(this._state===2)for(var s=this._stack.paused?this._stack.loopPosition-1:this._active.length-1;s>=0;--s)this._active[s].end(!1);this._stack.paused=!1,this._active=d,this._id=-1,this._state=0},g.prototype._start=function(){if(this._active=this._handlers[this._id]||d,this._active.length)for(var s=this._active.length-1;s>=0;s--)this._active[s].start();else this._handlerFb(this._id,"START")},g.prototype._put=function(s,a,_){if(this._active.length)for(var h=this._active.length-1;h>=0;h--)this._active[h].put(s,a,_);else this._handlerFb(this._id,"PUT",(0,u.utf32ToString)(s,a,_))},g.prototype.start=function(){this.reset(),this._state=1},g.prototype.put=function(s,a,_){if(this._state!==3){if(this._state===1)for(;a<_;){var h=s[a++];if(h===59){this._state=2,this._start();break}if(h<48||57<h)return void(this._state=3);this._id===-1&&(this._id=0),this._id=10*this._id+h-48}this._state===2&&_-a>0&&this._put(s,a,_)}},g.prototype.end=function(s,a){if(a===void 0&&(a=!0),this._state!==0){if(this._state!==3)if(this._state===1&&this._start(),this._active.length){var _=!1,h=this._active.length-1,r=!1;if(this._stack.paused&&(h=this._stack.loopPosition-1,_=a,r=this._stack.fallThrough,this._stack.paused=!1),!r&&_===!1){for(;h>=0&&(_=this._active[h].end(s))!==!0;h--)if(_ instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=h,this._stack.fallThrough=!1,_;h--}for(;h>=0;h--)if((_=this._active[h].end(!1))instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=h,this._stack.fallThrough=!0,_}else this._handlerFb(this._id,"END",s);this._active=d,this._id=-1,this._state=0}},g}();o.OscParser=p;var v=function(){function g(s){this._handler=s,this._data="",this._hitLimit=!1}return g.prototype.start=function(){this._data="",this._hitLimit=!1},g.prototype.put=function(s,a,_){this._hitLimit||(this._data+=(0,u.utf32ToString)(s,a,_),this._data.length>l.PAYLOAD_LIMIT&&(this._data="",this._hitLimit=!0))},g.prototype.end=function(s){var a=this,_=!1;if(this._hitLimit)_=!1;else if(s&&(_=this._handler(this._data))instanceof Promise)return _.then(function(h){return a._data="",a._hitLimit=!1,h});return this._data="",this._hitLimit=!1,_},g}();o.OscHandler=v},8742:(T,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.Params=void 0;var y=2147483647,l=function(){function u(d,p){if(d===void 0&&(d=32),p===void 0&&(p=32),this.maxLength=d,this.maxSubParamsLength=p,p>256)throw new Error("maxSubParamsLength must not be greater than 256");this.params=new Int32Array(d),this.length=0,this._subParams=new Int32Array(p),this._subParamsLength=0,this._subParamsIdx=new Uint16Array(d),this._rejectDigits=!1,this._rejectSubDigits=!1,this._digitIsSub=!1}return u.fromArray=function(d){var p=new u;if(!d.length)return p;for(var v=Array.isArray(d[0])?1:0;v<d.length;++v){var g=d[v];if(Array.isArray(g))for(var s=0;s<g.length;++s)p.addSubParam(g[s]);else p.addParam(g)}return p},u.prototype.clone=function(){var d=new u(this.maxLength,this.maxSubParamsLength);return d.params.set(this.params),d.length=this.length,d._subParams.set(this._subParams),d._subParamsLength=this._subParamsLength,d._subParamsIdx.set(this._subParamsIdx),d._rejectDigits=this._rejectDigits,d._rejectSubDigits=this._rejectSubDigits,d._digitIsSub=this._digitIsSub,d},u.prototype.toArray=function(){for(var d=[],p=0;p<this.length;++p){d.push(this.params[p]);var v=this._subParamsIdx[p]>>8,g=255&this._subParamsIdx[p];g-v>0&&d.push(Array.prototype.slice.call(this._subParams,v,g))}return d},u.prototype.reset=function(){this.length=0,this._subParamsLength=0,this._rejectDigits=!1,this._rejectSubDigits=!1,this._digitIsSub=!1},u.prototype.addParam=function(d){if(this._digitIsSub=!1,this.length>=this.maxLength)this._rejectDigits=!0;else{if(d<-1)throw new Error("values lesser than -1 are not allowed");this._subParamsIdx[this.length]=this._subParamsLength<<8|this._subParamsLength,this.params[this.length++]=d>y?y:d}},u.prototype.addSubParam=function(d){if(this._digitIsSub=!0,this.length)if(this._rejectDigits||this._subParamsLength>=this.maxSubParamsLength)this._rejectSubDigits=!0;else{if(d<-1)throw new Error("values lesser than -1 are not allowed");this._subParams[this._subParamsLength++]=d>y?y:d,this._subParamsIdx[this.length-1]++}},u.prototype.hasSubParams=function(d){return(255&this._subParamsIdx[d])-(this._subParamsIdx[d]>>8)>0},u.prototype.getSubParams=function(d){var p=this._subParamsIdx[d]>>8,v=255&this._subParamsIdx[d];return v-p>0?this._subParams.subarray(p,v):null},u.prototype.getSubParamsAll=function(){for(var d={},p=0;p<this.length;++p){var v=this._subParamsIdx[p]>>8,g=255&this._subParamsIdx[p];g-v>0&&(d[p]=this._subParams.slice(v,g))}return d},u.prototype.addDigit=function(d){var p;if(!(this._rejectDigits||!(p=this._digitIsSub?this._subParamsLength:this.length)||this._digitIsSub&&this._rejectSubDigits)){var v=this._digitIsSub?this._subParams:this.params,g=v[p-1];v[p-1]=~g?Math.min(10*g+d,y):d}},u}();o.Params=l},5741:(T,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.AddonManager=void 0;var y=function(){function l(){this._addons=[]}return l.prototype.dispose=function(){for(var u=this._addons.length-1;u>=0;u--)this._addons[u].instance.dispose()},l.prototype.loadAddon=function(u,d){var p=this,v={instance:d,dispose:d.dispose,isDisposed:!1};this._addons.push(v),d.dispose=function(){return p._wrappedAddonDispose(v)},d.activate(u)},l.prototype._wrappedAddonDispose=function(u){if(!u.isDisposed){for(var d=-1,p=0;p<this._addons.length;p++)if(this._addons[p]===u){d=p;break}if(d===-1)throw new Error("Could not dispose an addon that has not been loaded");u.isDisposed=!0,u.dispose.apply(u.instance),this._addons.splice(d,1)}},l}();o.AddonManager=y},8771:(T,o,y)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.BufferApiView=void 0;var l=y(3785),u=y(511),d=function(){function p(v,g){this._buffer=v,this.type=g}return p.prototype.init=function(v){return this._buffer=v,this},Object.defineProperty(p.prototype,"cursorY",{get:function(){return this._buffer.y},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"cursorX",{get:function(){return this._buffer.x},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"viewportY",{get:function(){return this._buffer.ydisp},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"baseY",{get:function(){return this._buffer.ybase},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"length",{get:function(){return this._buffer.lines.length},enumerable:!1,configurable:!0}),p.prototype.getLine=function(v){var g=this._buffer.lines.get(v);if(g)return new l.BufferLineApiView(g)},p.prototype.getNullCell=function(){return new u.CellData},p}();o.BufferApiView=d},3785:(T,o,y)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.BufferLineApiView=void 0;var l=y(511),u=function(){function d(p){this._line=p}return Object.defineProperty(d.prototype,"isWrapped",{get:function(){return this._line.isWrapped},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"length",{get:function(){return this._line.length},enumerable:!1,configurable:!0}),d.prototype.getCell=function(p,v){if(!(p<0||p>=this._line.length))return v?(this._line.loadCell(p,v),v):this._line.loadCell(p,new l.CellData)},d.prototype.translateToString=function(p,v,g){return this._line.translateToString(p,v,g)},d}();o.BufferLineApiView=u},8285:(T,o,y)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.BufferNamespaceApi=void 0;var l=y(8771),u=y(8460),d=function(){function p(v){var g=this;this._core=v,this._onBufferChange=new u.EventEmitter,this._normal=new l.BufferApiView(this._core.buffers.normal,"normal"),this._alternate=new l.BufferApiView(this._core.buffers.alt,"alternate"),this._core.buffers.onBufferActivate(function(){return g._onBufferChange.fire(g.active)})}return Object.defineProperty(p.prototype,"onBufferChange",{get:function(){return this._onBufferChange.event},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"active",{get:function(){if(this._core.buffers.active===this._core.buffers.normal)return this.normal;if(this._core.buffers.active===this._core.buffers.alt)return this.alternate;throw new Error("Active buffer is neither normal nor alternate")},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"normal",{get:function(){return this._normal.init(this._core.buffers.normal)},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"alternate",{get:function(){return this._alternate.init(this._core.buffers.alt)},enumerable:!1,configurable:!0}),p}();o.BufferNamespaceApi=d},7975:(T,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.ParserApi=void 0;var y=function(){function l(u){this._core=u}return l.prototype.registerCsiHandler=function(u,d){return this._core.registerCsiHandler(u,function(p){return d(p.toArray())})},l.prototype.addCsiHandler=function(u,d){return this.registerCsiHandler(u,d)},l.prototype.registerDcsHandler=function(u,d){return this._core.registerDcsHandler(u,function(p,v){return d(p,v.toArray())})},l.prototype.addDcsHandler=function(u,d){return this.registerDcsHandler(u,d)},l.prototype.registerEscHandler=function(u,d){return this._core.registerEscHandler(u,d)},l.prototype.addEscHandler=function(u,d){return this.registerEscHandler(u,d)},l.prototype.registerOscHandler=function(u,d){return this._core.registerOscHandler(u,d)},l.prototype.addOscHandler=function(u,d){return this.registerOscHandler(u,d)},l}();o.ParserApi=y},7090:(T,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.UnicodeApi=void 0;var y=function(){function l(u){this._core=u}return l.prototype.register=function(u){this._core.unicodeService.register(u)},Object.defineProperty(l.prototype,"versions",{get:function(){return this._core.unicodeService.versions},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"activeVersion",{get:function(){return this._core.unicodeService.activeVersion},set:function(u){this._core.unicodeService.activeVersion=u},enumerable:!1,configurable:!0}),l}();o.UnicodeApi=y},744:function(T,o,y){var l,u=this&&this.__extends||(l=function(h,r){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])},l(h,r)},function(h,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function e(){this.constructor=h}l(h,r),h.prototype=r===null?Object.create(r):(e.prototype=r.prototype,new e)}),d=this&&this.__decorate||function(h,r,e,t){var i,n=arguments.length,f=n<3?r:t===null?t=Object.getOwnPropertyDescriptor(r,e):t;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")f=Reflect.decorate(h,r,e,t);else for(var c=h.length-1;c>=0;c--)(i=h[c])&&(f=(n<3?i(f):n>3?i(r,e,f):i(r,e))||f);return n>3&&f&&Object.defineProperty(r,e,f),f},p=this&&this.__param||function(h,r){return function(e,t){r(e,t,h)}};Object.defineProperty(o,"__esModule",{value:!0}),o.BufferService=o.MINIMUM_ROWS=o.MINIMUM_COLS=void 0;var v=y(2585),g=y(5295),s=y(8460),a=y(844);o.MINIMUM_COLS=2,o.MINIMUM_ROWS=1;var _=function(h){function r(e){var t=h.call(this)||this;return t._optionsService=e,t.isUserScrolling=!1,t._onResize=new s.EventEmitter,t._onScroll=new s.EventEmitter,t.cols=Math.max(e.rawOptions.cols||0,o.MINIMUM_COLS),t.rows=Math.max(e.rawOptions.rows||0,o.MINIMUM_ROWS),t.buffers=new g.BufferSet(e,t),t}return u(r,h),Object.defineProperty(r.prototype,"onResize",{get:function(){return this._onResize.event},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"onScroll",{get:function(){return this._onScroll.event},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"buffer",{get:function(){return this.buffers.active},enumerable:!1,configurable:!0}),r.prototype.dispose=function(){h.prototype.dispose.call(this),this.buffers.dispose()},r.prototype.resize=function(e,t){this.cols=e,this.rows=t,this.buffers.resize(e,t),this.buffers.setupTabStops(this.cols),this._onResize.fire({cols:e,rows:t})},r.prototype.reset=function(){this.buffers.reset(),this.isUserScrolling=!1},r.prototype.scroll=function(e,t){t===void 0&&(t=!1);var i,n=this.buffer;(i=this._cachedBlankLine)&&i.length===this.cols&&i.getFg(0)===e.fg&&i.getBg(0)===e.bg||(i=n.getBlankLine(e,t),this._cachedBlankLine=i),i.isWrapped=t;var f=n.ybase+n.scrollTop,c=n.ybase+n.scrollBottom;if(n.scrollTop===0){var b=n.lines.isFull;c===n.lines.length-1?b?n.lines.recycle().copyFrom(i):n.lines.push(i.clone()):n.lines.splice(c+1,0,i.clone()),b?this.isUserScrolling&&(n.ydisp=Math.max(n.ydisp-1,0)):(n.ybase++,this.isUserScrolling||n.ydisp++)}else{var C=c-f+1;n.lines.shiftElements(f+1,C-1,-1),n.lines.set(c,i.clone())}this.isUserScrolling||(n.ydisp=n.ybase),this._onScroll.fire(n.ydisp)},r.prototype.scrollLines=function(e,t,i){var n=this.buffer;if(e<0){if(n.ydisp===0)return;this.isUserScrolling=!0}else e+n.ydisp>=n.ybase&&(this.isUserScrolling=!1);var f=n.ydisp;n.ydisp=Math.max(Math.min(n.ydisp+e,n.ybase),0),f!==n.ydisp&&(t||this._onScroll.fire(n.ydisp))},r.prototype.scrollPages=function(e){this.scrollLines(e*(this.rows-1))},r.prototype.scrollToTop=function(){this.scrollLines(-this.buffer.ydisp)},r.prototype.scrollToBottom=function(){this.scrollLines(this.buffer.ybase-this.buffer.ydisp)},r.prototype.scrollToLine=function(e){var t=e-this.buffer.ydisp;t!==0&&this.scrollLines(t)},d([p(0,v.IOptionsService)],r)}(a.Disposable);o.BufferService=_},7994:(T,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.CharsetService=void 0;var y=function(){function l(){this.glevel=0,this._charsets=[]}return l.prototype.reset=function(){this.charset=void 0,this._charsets=[],this.glevel=0},l.prototype.setgLevel=function(u){this.glevel=u,this.charset=this._charsets[u]},l.prototype.setgCharset=function(u,d){this._charsets[u]=d,this.glevel===u&&(this.charset=d)},l}();o.CharsetService=y},1753:function(T,o,y){var l=this&&this.__decorate||function(r,e,t,i){var n,f=arguments.length,c=f<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")c=Reflect.decorate(r,e,t,i);else for(var b=r.length-1;b>=0;b--)(n=r[b])&&(c=(f<3?n(c):f>3?n(e,t,c):n(e,t))||c);return f>3&&c&&Object.defineProperty(e,t,c),c},u=this&&this.__param||function(r,e){return function(t,i){e(t,i,r)}},d=this&&this.__values||function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],i=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&i>=r.length&&(r=void 0),{value:r&&r[i++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(o,"__esModule",{value:!0}),o.CoreMouseService=void 0;var p=y(2585),v=y(8460),g={NONE:{events:0,restrict:function(){return!1}},X10:{events:1,restrict:function(r){return r.button!==4&&r.action===1&&(r.ctrl=!1,r.alt=!1,r.shift=!1,!0)}},VT200:{events:19,restrict:function(r){return r.action!==32}},DRAG:{events:23,restrict:function(r){return r.action!==32||r.button!==3}},ANY:{events:31,restrict:function(r){return!0}}};function s(r,e){var t=(r.ctrl?16:0)|(r.shift?4:0)|(r.alt?8:0);return r.button===4?(t|=64,t|=r.action):(t|=3&r.button,4&r.button&&(t|=64),8&r.button&&(t|=128),r.action===32?t|=32:r.action!==0||e||(t|=3)),t}var a=String.fromCharCode,_={DEFAULT:function(r){var e=[s(r,!1)+32,r.col+32,r.row+32];return e[0]>255||e[1]>255||e[2]>255?"":"\x1B[M"+a(e[0])+a(e[1])+a(e[2])},SGR:function(r){var e=r.action===0&&r.button!==4?"m":"M";return"\x1B[<"+s(r,!0)+";"+r.col+";"+r.row+e}},h=function(){function r(e,t){var i,n,f,c;this._bufferService=e,this._coreService=t,this._protocols={},this._encodings={},this._activeProtocol="",this._activeEncoding="",this._onProtocolChange=new v.EventEmitter,this._lastEvent=null;try{for(var b=d(Object.keys(g)),C=b.next();!C.done;C=b.next()){var m=C.value;this.addProtocol(m,g[m])}}catch(E){i={error:E}}finally{try{C&&!C.done&&(n=b.return)&&n.call(b)}finally{if(i)throw i.error}}try{for(var S=d(Object.keys(_)),k=S.next();!k.done;k=S.next()){var A=k.value;this.addEncoding(A,_[A])}}catch(E){f={error:E}}finally{try{k&&!k.done&&(c=S.return)&&c.call(S)}finally{if(f)throw f.error}}this.reset()}return r.prototype.addProtocol=function(e,t){this._protocols[e]=t},r.prototype.addEncoding=function(e,t){this._encodings[e]=t},Object.defineProperty(r.prototype,"activeProtocol",{get:function(){return this._activeProtocol},set:function(e){if(!this._protocols[e])throw new Error('unknown protocol "'+e+'"');this._activeProtocol=e,this._onProtocolChange.fire(this._protocols[e].events)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"areMouseEventsActive",{get:function(){return this._protocols[this._activeProtocol].events!==0},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"activeEncoding",{get:function(){return this._activeEncoding},set:function(e){if(!this._encodings[e])throw new Error('unknown encoding "'+e+'"');this._activeEncoding=e},enumerable:!1,configurable:!0}),r.prototype.reset=function(){this.activeProtocol="NONE",this.activeEncoding="DEFAULT",this._lastEvent=null},Object.defineProperty(r.prototype,"onProtocolChange",{get:function(){return this._onProtocolChange.event},enumerable:!1,configurable:!0}),r.prototype.triggerMouseEvent=function(e){if(e.col<0||e.col>=this._bufferService.cols||e.row<0||e.row>=this._bufferService.rows||e.button===4&&e.action===32||e.button===3&&e.action!==32||e.button!==4&&(e.action===2||e.action===3)||(e.col++,e.row++,e.action===32&&this._lastEvent&&this._compareEvents(this._lastEvent,e))||!this._protocols[this._activeProtocol].restrict(e))return!1;var t=this._encodings[this._activeEncoding](e);return t&&(this._activeEncoding==="DEFAULT"?this._coreService.triggerBinaryEvent(t):this._coreService.triggerDataEvent(t,!0)),this._lastEvent=e,!0},r.prototype.explainEvents=function(e){return{down:!!(1&e),up:!!(2&e),drag:!!(4&e),move:!!(8&e),wheel:!!(16&e)}},r.prototype._compareEvents=function(e,t){return e.col===t.col&&e.row===t.row&&e.button===t.button&&e.action===t.action&&e.ctrl===t.ctrl&&e.alt===t.alt&&e.shift===t.shift},l([u(0,p.IBufferService),u(1,p.ICoreService)],r)}();o.CoreMouseService=h},6975:function(T,o,y){var l,u=this&&this.__extends||(l=function(e,t){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var f in n)Object.prototype.hasOwnProperty.call(n,f)&&(i[f]=n[f])},l(e,t)},function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function i(){this.constructor=e}l(e,t),e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}),d=this&&this.__decorate||function(e,t,i,n){var f,c=arguments.length,b=c<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,i):n;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")b=Reflect.decorate(e,t,i,n);else for(var C=e.length-1;C>=0;C--)(f=e[C])&&(b=(c<3?f(b):c>3?f(t,i,b):f(t,i))||b);return c>3&&b&&Object.defineProperty(t,i,b),b},p=this&&this.__param||function(e,t){return function(i,n){t(i,n,e)}};Object.defineProperty(o,"__esModule",{value:!0}),o.CoreService=void 0;var v=y(2585),g=y(8460),s=y(1439),a=y(844),_=Object.freeze({insertMode:!1}),h=Object.freeze({applicationCursorKeys:!1,applicationKeypad:!1,bracketedPasteMode:!1,origin:!1,reverseWraparound:!1,sendFocus:!1,wraparound:!0}),r=function(e){function t(i,n,f,c){var b=e.call(this)||this;return b._bufferService=n,b._logService=f,b._optionsService=c,b.isCursorInitialized=!1,b.isCursorHidden=!1,b._onData=b.register(new g.EventEmitter),b._onUserInput=b.register(new g.EventEmitter),b._onBinary=b.register(new g.EventEmitter),b._scrollToBottom=i,b.register({dispose:function(){return b._scrollToBottom=void 0}}),b.modes=(0,s.clone)(_),b.decPrivateModes=(0,s.clone)(h),b}return u(t,e),Object.defineProperty(t.prototype,"onData",{get:function(){return this._onData.event},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"onUserInput",{get:function(){return this._onUserInput.event},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"onBinary",{get:function(){return this._onBinary.event},enumerable:!1,configurable:!0}),t.prototype.reset=function(){this.modes=(0,s.clone)(_),this.decPrivateModes=(0,s.clone)(h)},t.prototype.triggerDataEvent=function(i,n){if(n===void 0&&(n=!1),!this._optionsService.rawOptions.disableStdin){var f=this._bufferService.buffer;f.ybase!==f.ydisp&&this._scrollToBottom(),n&&this._onUserInput.fire(),this._logService.debug('sending data "'+i+'"',function(){return i.split("").map(function(c){return c.charCodeAt(0)})}),this._onData.fire(i)}},t.prototype.triggerBinaryEvent=function(i){this._optionsService.rawOptions.disableStdin||(this._logService.debug('sending binary "'+i+'"',function(){return i.split("").map(function(n){return n.charCodeAt(0)})}),this._onBinary.fire(i))},d([p(1,v.IBufferService),p(2,v.ILogService),p(3,v.IOptionsService)],t)}(a.Disposable);o.CoreService=r},9074:function(T,o,y){var l,u=this&&this.__extends||(l=function(r,e){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])},l(r,e)},function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function t(){this.constructor=r}l(r,e),r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}),d=this&&this.__generator||function(r,e){var t,i,n,f,c={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return f={next:b(0),throw:b(1),return:b(2)},typeof Symbol=="function"&&(f[Symbol.iterator]=function(){return this}),f;function b(C){return function(m){return function(S){if(t)throw new TypeError("Generator is already executing.");for(;c;)try{if(t=1,i&&(n=2&S[0]?i.return:S[0]?i.throw||((n=i.return)&&n.call(i),0):i.next)&&!(n=n.call(i,S[1])).done)return n;switch(i=0,n&&(S=[2&S[0],n.value]),S[0]){case 0:case 1:n=S;break;case 4:return c.label++,{value:S[1],done:!1};case 5:c.label++,i=S[1],S=[0];continue;case 7:S=c.ops.pop(),c.trys.pop();continue;default:if(!((n=(n=c.trys).length>0&&n[n.length-1])||S[0]!==6&&S[0]!==2)){c=0;continue}if(S[0]===3&&(!n||S[1]>n[0]&&S[1]<n[3])){c.label=S[1];break}if(S[0]===6&&c.label<n[1]){c.label=n[1],n=S;break}if(n&&c.label<n[2]){c.label=n[2],c.ops.push(S);break}n[2]&&c.ops.pop(),c.trys.pop();continue}S=e.call(r,c)}catch(k){S=[6,k],i=0}finally{t=n=0}if(5&S[0])throw S[1];return{value:S[0]?S[1]:void 0,done:!0}}([C,m])}}},p=this&&this.__values||function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],i=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&i>=r.length&&(r=void 0),{value:r&&r[i++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(o,"__esModule",{value:!0}),o.DecorationService=void 0;var v=y(8055),g=y(8460),s=y(844),a=y(6106),_=function(r){function e(){var t=r.call(this)||this;return t._decorations=new a.SortedList(function(i){return i.marker.line}),t._onDecorationRegistered=t.register(new g.EventEmitter),t._onDecorationRemoved=t.register(new g.EventEmitter),t}return u(e,r),Object.defineProperty(e.prototype,"onDecorationRegistered",{get:function(){return this._onDecorationRegistered.event},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"onDecorationRemoved",{get:function(){return this._onDecorationRemoved.event},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"decorations",{get:function(){return this._decorations.values()},enumerable:!1,configurable:!0}),e.prototype.registerDecoration=function(t){var i=this;if(!t.marker.isDisposed){var n=new h(t);if(n){var f=n.marker.onDispose(function(){return n.dispose()});n.onDispose(function(){n&&(i._decorations.delete(n)&&i._onDecorationRemoved.fire(n),f.dispose())}),this._decorations.insert(n),this._onDecorationRegistered.fire(n)}return n}},e.prototype.reset=function(){var t,i;try{for(var n=p(this._decorations.values()),f=n.next();!f.done;f=n.next())f.value.dispose()}catch(c){t={error:c}}finally{try{f&&!f.done&&(i=n.return)&&i.call(n)}finally{if(t)throw t.error}}this._decorations.clear()},e.prototype.getDecorationsAtLine=function(t){return d(this,function(i){return[2,this._decorations.getKeyIterator(t)]})},e.prototype.getDecorationsAtCell=function(t,i,n){var f,c,b,C,m,S,k,A,E,B,R;return d(this,function(x){switch(x.label){case 0:f=0,c=0,x.label=1;case 1:x.trys.push([1,6,7,8]),b=p(this._decorations.getKeyIterator(i)),C=b.next(),x.label=2;case 2:return C.done?[3,5]:(m=C.value,f=(E=m.options.x)!==null&&E!==void 0?E:0,c=f+((B=m.options.width)!==null&&B!==void 0?B:1),!(t>=f&&t<c)||n&&((R=m.options.layer)!==null&&R!==void 0?R:"bottom")!==n?[3,4]:[4,m]);case 3:x.sent(),x.label=4;case 4:return C=b.next(),[3,2];case 5:return[3,8];case 6:return S=x.sent(),k={error:S},[3,8];case 7:try{C&&!C.done&&(A=b.return)&&A.call(b)}finally{if(k)throw k.error}return[7];case 8:return[2]}})},e.prototype.dispose=function(){var t,i;try{for(var n=p(this._decorations.values()),f=n.next();!f.done;f=n.next()){var c=f.value;this._onDecorationRemoved.fire(c)}}catch(b){t={error:b}}finally{try{f&&!f.done&&(i=n.return)&&i.call(n)}finally{if(t)throw t.error}}this.reset()},e}(s.Disposable);o.DecorationService=_;var h=function(r){function e(t){var i=r.call(this)||this;return i.options=t,i.isDisposed=!1,i.onRenderEmitter=i.register(new g.EventEmitter),i.onRender=i.onRenderEmitter.event,i._onDispose=i.register(new g.EventEmitter),i.onDispose=i._onDispose.event,i._cachedBg=null,i._cachedFg=null,i.marker=t.marker,i.options.overviewRulerOptions&&!i.options.overviewRulerOptions.position&&(i.options.overviewRulerOptions.position="full"),i}return u(e,r),Object.defineProperty(e.prototype,"backgroundColorRGB",{get:function(){return this._cachedBg===null&&(this.options.backgroundColor?this._cachedBg=v.css.toColor(this.options.backgroundColor):this._cachedBg=void 0),this._cachedBg},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"foregroundColorRGB",{get:function(){return this._cachedFg===null&&(this.options.foregroundColor?this._cachedFg=v.css.toColor(this.options.foregroundColor):this._cachedFg=void 0),this._cachedFg},enumerable:!1,configurable:!0}),e.prototype.dispose=function(){this._isDisposed||(this._isDisposed=!0,this._onDispose.fire(),r.prototype.dispose.call(this))},e}(s.Disposable)},3730:function(T,o,y){var l=this&&this.__decorate||function(v,g,s,a){var _,h=arguments.length,r=h<3?g:a===null?a=Object.getOwnPropertyDescriptor(g,s):a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(v,g,s,a);else for(var e=v.length-1;e>=0;e--)(_=v[e])&&(r=(h<3?_(r):h>3?_(g,s,r):_(g,s))||r);return h>3&&r&&Object.defineProperty(g,s,r),r},u=this&&this.__param||function(v,g){return function(s,a){g(s,a,v)}};Object.defineProperty(o,"__esModule",{value:!0}),o.DirtyRowService=void 0;var d=y(2585),p=function(){function v(g){this._bufferService=g,this.clearRange()}return Object.defineProperty(v.prototype,"start",{get:function(){return this._start},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"end",{get:function(){return this._end},enumerable:!1,configurable:!0}),v.prototype.clearRange=function(){this._start=this._bufferService.buffer.y,this._end=this._bufferService.buffer.y},v.prototype.markDirty=function(g){g<this._start?this._start=g:g>this._end&&(this._end=g)},v.prototype.markRangeDirty=function(g,s){if(g>s){var a=g;g=s,s=a}g<this._start&&(this._start=g),s>this._end&&(this._end=s)},v.prototype.markAllDirty=function(){this.markRangeDirty(0,this._bufferService.rows-1)},l([u(0,d.IBufferService)],v)}();o.DirtyRowService=p},4348:function(T,o,y){var l=this&&this.__values||function(a){var _=typeof Symbol=="function"&&Symbol.iterator,h=_&&a[_],r=0;if(h)return h.call(a);if(a&&typeof a.length=="number")return{next:function(){return a&&r>=a.length&&(a=void 0),{value:a&&a[r++],done:!a}}};throw new TypeError(_?"Object is not iterable.":"Symbol.iterator is not defined.")},u=this&&this.__read||function(a,_){var h=typeof Symbol=="function"&&a[Symbol.iterator];if(!h)return a;var r,e,t=h.call(a),i=[];try{for(;(_===void 0||_-- >0)&&!(r=t.next()).done;)i.push(r.value)}catch(n){e={error:n}}finally{try{r&&!r.done&&(h=t.return)&&h.call(t)}finally{if(e)throw e.error}}return i},d=this&&this.__spreadArray||function(a,_,h){if(h||arguments.length===2)for(var r,e=0,t=_.length;e<t;e++)!r&&e in _||(r||(r=Array.prototype.slice.call(_,0,e)),r[e]=_[e]);return a.concat(r||Array.prototype.slice.call(_))};Object.defineProperty(o,"__esModule",{value:!0}),o.InstantiationService=o.ServiceCollection=void 0;var p=y(2585),v=y(8343),g=function(){function a(){for(var _,h,r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];this._entries=new Map;try{for(var t=l(r),i=t.next();!i.done;i=t.next()){var n=u(i.value,2),f=n[0],c=n[1];this.set(f,c)}}catch(b){_={error:b}}finally{try{i&&!i.done&&(h=t.return)&&h.call(t)}finally{if(_)throw _.error}}}return a.prototype.set=function(_,h){var r=this._entries.get(_);return this._entries.set(_,h),r},a.prototype.forEach=function(_){this._entries.forEach(function(h,r){return _(r,h)})},a.prototype.has=function(_){return this._entries.has(_)},a.prototype.get=function(_){return this._entries.get(_)},a}();o.ServiceCollection=g;var s=function(){function a(){this._services=new g,this._services.set(p.IInstantiationService,this)}return a.prototype.setService=function(_,h){this._services.set(_,h)},a.prototype.getService=function(_){return this._services.get(_)},a.prototype.createInstance=function(_){for(var h,r,e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];var i=(0,v.getServiceDependencies)(_).sort(function(S,k){return S.index-k.index}),n=[];try{for(var f=l(i),c=f.next();!c.done;c=f.next()){var b=c.value,C=this._services.get(b.id);if(!C)throw new Error("[createInstance] "+_.name+" depends on UNKNOWN service "+b.id+".");n.push(C)}}catch(S){h={error:S}}finally{try{c&&!c.done&&(r=f.return)&&r.call(f)}finally{if(h)throw h.error}}var m=i.length>0?i[0].index:e.length;if(e.length!==m)throw new Error("[createInstance] First service dependency of "+_.name+" at position "+(m+1)+" conflicts with "+e.length+" static arguments");return new(_.bind.apply(_,d([void 0],u(d(d([],u(e),!1),u(n),!1)),!1)))},a}();o.InstantiationService=s},7866:function(T,o,y){var l=this&&this.__decorate||function(a,_,h,r){var e,t=arguments.length,i=t<3?_:r===null?r=Object.getOwnPropertyDescriptor(_,h):r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(a,_,h,r);else for(var n=a.length-1;n>=0;n--)(e=a[n])&&(i=(t<3?e(i):t>3?e(_,h,i):e(_,h))||i);return t>3&&i&&Object.defineProperty(_,h,i),i},u=this&&this.__param||function(a,_){return function(h,r){_(h,r,a)}},d=this&&this.__read||function(a,_){var h=typeof Symbol=="function"&&a[Symbol.iterator];if(!h)return a;var r,e,t=h.call(a),i=[];try{for(;(_===void 0||_-- >0)&&!(r=t.next()).done;)i.push(r.value)}catch(n){e={error:n}}finally{try{r&&!r.done&&(h=t.return)&&h.call(t)}finally{if(e)throw e.error}}return i},p=this&&this.__spreadArray||function(a,_,h){if(h||arguments.length===2)for(var r,e=0,t=_.length;e<t;e++)!r&&e in _||(r||(r=Array.prototype.slice.call(_,0,e)),r[e]=_[e]);return a.concat(r||Array.prototype.slice.call(_))};Object.defineProperty(o,"__esModule",{value:!0}),o.LogService=void 0;var v=y(2585),g={debug:v.LogLevelEnum.DEBUG,info:v.LogLevelEnum.INFO,warn:v.LogLevelEnum.WARN,error:v.LogLevelEnum.ERROR,off:v.LogLevelEnum.OFF},s=function(){function a(_){var h=this;this._optionsService=_,this.logLevel=v.LogLevelEnum.OFF,this._updateLogLevel(),this._optionsService.onOptionChange(function(r){r==="logLevel"&&h._updateLogLevel()})}return a.prototype._updateLogLevel=function(){this.logLevel=g[this._optionsService.rawOptions.logLevel]},a.prototype._evalLazyOptionalParams=function(_){for(var h=0;h<_.length;h++)typeof _[h]=="function"&&(_[h]=_[h]())},a.prototype._log=function(_,h,r){this._evalLazyOptionalParams(r),_.call.apply(_,p([console,"xterm.js: "+h],d(r),!1))},a.prototype.debug=function(_){for(var h=[],r=1;r<arguments.length;r++)h[r-1]=arguments[r];this.logLevel<=v.LogLevelEnum.DEBUG&&this._log(console.log,_,h)},a.prototype.info=function(_){for(var h=[],r=1;r<arguments.length;r++)h[r-1]=arguments[r];this.logLevel<=v.LogLevelEnum.INFO&&this._log(console.info,_,h)},a.prototype.warn=function(_){for(var h=[],r=1;r<arguments.length;r++)h[r-1]=arguments[r];this.logLevel<=v.LogLevelEnum.WARN&&this._log(console.warn,_,h)},a.prototype.error=function(_){for(var h=[],r=1;r<arguments.length;r++)h[r-1]=arguments[r];this.logLevel<=v.LogLevelEnum.ERROR&&this._log(console.error,_,h)},l([u(0,v.IOptionsService)],a)}();o.LogService=s},7302:function(T,o,y){var l=this&&this.__assign||function(){return l=Object.assign||function(g){for(var s,a=1,_=arguments.length;a<_;a++)for(var h in s=arguments[a])Object.prototype.hasOwnProperty.call(s,h)&&(g[h]=s[h]);return g},l.apply(this,arguments)};Object.defineProperty(o,"__esModule",{value:!0}),o.OptionsService=o.DEFAULT_OPTIONS=o.DEFAULT_BELL_SOUND=void 0;var u=y(8460),d=y(6114);o.DEFAULT_BELL_SOUND="data:audio/mp3;base64,SUQzBAAAAAAAI1RTU0UAAAAPAAADTGF2ZjU4LjMyLjEwNAAAAAAAAAAAAAAA//tQxAADB8AhSmxhIIEVCSiJrDCQBTcu3UrAIwUdkRgQbFAZC1CQEwTJ9mjRvBA4UOLD8nKVOWfh+UlK3z/177OXrfOdKl7pyn3Xf//WreyTRUoAWgBgkOAGbZHBgG1OF6zM82DWbZaUmMBptgQhGjsyYqc9ae9XFz280948NMBWInljyzsNRFLPWdnZGWrddDsjK1unuSrVN9jJsK8KuQtQCtMBjCEtImISdNKJOopIpBFpNSMbIHCSRpRR5iakjTiyzLhchUUBwCgyKiweBv/7UsQbg8isVNoMPMjAAAA0gAAABEVFGmgqK////9bP/6XCykxBTUUzLjEwMKqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqq",o.DEFAULT_OPTIONS={cols:80,rows:24,cursorBlink:!1,cursorStyle:"block",cursorWidth:1,customGlyphs:!0,bellSound:o.DEFAULT_BELL_SOUND,bellStyle:"none",drawBoldTextInBrightColors:!0,fastScrollModifier:"alt",fastScrollSensitivity:5,fontFamily:"courier-new, courier, monospace",fontSize:15,fontWeight:"normal",fontWeightBold:"bold",lineHeight:1,linkTooltipHoverDuration:500,letterSpacing:0,logLevel:"info",scrollback:1e3,scrollSensitivity:1,screenReaderMode:!1,macOptionIsMeta:!1,macOptionClickForcesSelection:!1,minimumContrastRatio:1,disableStdin:!1,allowProposedApi:!0,allowTransparency:!1,tabStopWidth:8,theme:{},rightClickSelectsWord:d.isMac,rendererType:"canvas",windowOptions:{},windowsMode:!1,wordSeparator:" ()[]{}',\"`",altClickMovesCursor:!0,convertEol:!1,termName:"xterm",cancelEvents:!1,overviewRulerWidth:void 0};var p=["normal","bold","100","200","300","400","500","600","700","800","900"],v=function(){function g(s){this._onOptionChange=new u.EventEmitter;var a=l({},o.DEFAULT_OPTIONS);for(var _ in s)if(_ in a)try{var h=s[_];a[_]=this._sanitizeAndValidateOption(_,h)}catch(r){console.error(r)}this.rawOptions=a,this.options=l({},a),this._setupOptions()}return Object.defineProperty(g.prototype,"onOptionChange",{get:function(){return this._onOptionChange.event},enumerable:!1,configurable:!0}),g.prototype._setupOptions=function(){var s=this,a=function(e){if(!(e in o.DEFAULT_OPTIONS))throw new Error('No option with key "'+e+'"');return s.rawOptions[e]},_=function(e,t){if(!(e in o.DEFAULT_OPTIONS))throw new Error('No option with key "'+e+'"');t=s._sanitizeAndValidateOption(e,t),s.rawOptions[e]!==t&&(s.rawOptions[e]=t,s._onOptionChange.fire(e))};for(var h in this.rawOptions){var r={get:a.bind(this,h),set:_.bind(this,h)};Object.defineProperty(this.options,h,r)}},g.prototype.setOption=function(s,a){this.options[s]=a},g.prototype._sanitizeAndValidateOption=function(s,a){switch(s){case"bellStyle":case"cursorStyle":case"rendererType":case"wordSeparator":a||(a=o.DEFAULT_OPTIONS[s]);break;case"fontWeight":case"fontWeightBold":if(typeof a=="number"&&1<=a&&a<=1e3)break;a=p.includes(a)?a:o.DEFAULT_OPTIONS[s];break;case"cursorWidth":a=Math.floor(a);case"lineHeight":case"tabStopWidth":if(a<1)throw new Error(s+" cannot be less than 1, value: "+a);break;case"minimumContrastRatio":a=Math.max(1,Math.min(21,Math.round(10*a)/10));break;case"scrollback":if((a=Math.min(a,4294967295))<0)throw new Error(s+" cannot be less than 0, value: "+a);break;case"fastScrollSensitivity":case"scrollSensitivity":if(a<=0)throw new Error(s+" cannot be less than or equal to 0, value: "+a);case"rows":case"cols":if(!a&&a!==0)throw new Error(s+" must be numeric, value: "+a)}return a},g.prototype.getOption=function(s){return this.options[s]},g}();o.OptionsService=v},8343:(T,o)=>{function y(l,u,d){u.di$target===u?u.di$dependencies.push({id:l,index:d}):(u.di$dependencies=[{id:l,index:d}],u.di$target=u)}Object.defineProperty(o,"__esModule",{value:!0}),o.createDecorator=o.getServiceDependencies=o.serviceRegistry=void 0,o.serviceRegistry=new Map,o.getServiceDependencies=function(l){return l.di$dependencies||[]},o.createDecorator=function(l){if(o.serviceRegistry.has(l))return o.serviceRegistry.get(l);var u=function(d,p,v){if(arguments.length!==3)throw new Error("@IServiceName-decorator can only be used to decorate a parameter");y(u,d,v)};return u.toString=function(){return l},o.serviceRegistry.set(l,u),u}},2585:(T,o,y)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.IDecorationService=o.IUnicodeService=o.IOptionsService=o.ILogService=o.LogLevelEnum=o.IInstantiationService=o.IDirtyRowService=o.ICharsetService=o.ICoreService=o.ICoreMouseService=o.IBufferService=void 0;var l,u=y(8343);o.IBufferService=(0,u.createDecorator)("BufferService"),o.ICoreMouseService=(0,u.createDecorator)("CoreMouseService"),o.ICoreService=(0,u.createDecorator)("CoreService"),o.ICharsetService=(0,u.createDecorator)("CharsetService"),o.IDirtyRowService=(0,u.createDecorator)("DirtyRowService"),o.IInstantiationService=(0,u.createDecorator)("InstantiationService"),(l=o.LogLevelEnum||(o.LogLevelEnum={}))[l.DEBUG=0]="DEBUG",l[l.INFO=1]="INFO",l[l.WARN=2]="WARN",l[l.ERROR=3]="ERROR",l[l.OFF=4]="OFF",o.ILogService=(0,u.createDecorator)("LogService"),o.IOptionsService=(0,u.createDecorator)("OptionsService"),o.IUnicodeService=(0,u.createDecorator)("UnicodeService"),o.IDecorationService=(0,u.createDecorator)("DecorationService")},1480:(T,o,y)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.UnicodeService=void 0;var l=y(8460),u=y(225),d=function(){function p(){this._providers=Object.create(null),this._active="",this._onChange=new l.EventEmitter;var v=new u.UnicodeV6;this.register(v),this._active=v.version,this._activeProvider=v}return Object.defineProperty(p.prototype,"onChange",{get:function(){return this._onChange.event},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"versions",{get:function(){return Object.keys(this._providers)},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"activeVersion",{get:function(){return this._active},set:function(v){if(!this._providers[v])throw new Error('unknown Unicode version "'+v+'"');this._active=v,this._activeProvider=this._providers[v],this._onChange.fire(v)},enumerable:!1,configurable:!0}),p.prototype.register=function(v){this._providers[v.version]=v},p.prototype.wcwidth=function(v){return this._activeProvider.wcwidth(v)},p.prototype.getStringCellWidth=function(v){for(var g=0,s=v.length,a=0;a<s;++a){var _=v.charCodeAt(a);if(55296<=_&&_<=56319){if(++a>=s)return g+this.wcwidth(_);var h=v.charCodeAt(a);56320<=h&&h<=57343?_=1024*(_-55296)+h-56320+65536:g+=this.wcwidth(h)}g+=this.wcwidth(_)}return g},p}();o.UnicodeService=d}},H={};return function T(o){var y=H[o];if(y!==void 0)return y.exports;var l=H[o]={exports:{}};return w[o].call(l.exports,l,l.exports,T),l.exports}(4389)})()})})(oi);var Ai={exports:{}};(function(L,M){(function(w,H){L.exports=H()})(self,function(){return(()=>{var w={775:(T,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.FitAddon=void 0;var y=function(){function l(){}return l.prototype.activate=function(u){this._terminal=u},l.prototype.dispose=function(){},l.prototype.fit=function(){var u=this.proposeDimensions();if(u&&this._terminal){var d=this._terminal._core;this._terminal.rows===u.rows&&this._terminal.cols===u.cols||(d._renderService.clear(),this._terminal.resize(u.cols,u.rows))}},l.prototype.proposeDimensions=function(){if(this._terminal&&this._terminal.element&&this._terminal.element.parentElement){var u=this._terminal._core;if(u._renderService.dimensions.actualCellWidth!==0&&u._renderService.dimensions.actualCellHeight!==0){var d=window.getComputedStyle(this._terminal.element.parentElement),p=parseInt(d.getPropertyValue("height")),v=Math.max(0,parseInt(d.getPropertyValue("width"))),g=window.getComputedStyle(this._terminal.element),s=p-(parseInt(g.getPropertyValue("padding-top"))+parseInt(g.getPropertyValue("padding-bottom"))),a=v-(parseInt(g.getPropertyValue("padding-right"))+parseInt(g.getPropertyValue("padding-left")))-u.viewport.scrollBarWidth;return{cols:Math.max(2,Math.floor(a/u._renderService.dimensions.actualCellWidth)),rows:Math.max(1,Math.floor(s/u._renderService.dimensions.actualCellHeight))}}}},l}();o.FitAddon=y}},H={};return function T(o){if(H[o])return H[o].exports;var y=H[o]={exports:{}};return w[o](y,y.exports,T),y.exports}(775)})()})})(Ai);var Oi={exports:{}};(function(L,M){(function(w,H){L.exports=H()})(self,function(){return(()=>{var w={258:function(T,o,y){var l=this&&this.__assign||function(){return l=Object.assign||function(v){for(var g,s=1,a=arguments.length;s<a;s++)for(var _ in g=arguments[s])Object.prototype.hasOwnProperty.call(g,_)&&(v[_]=g[_]);return v},l.apply(this,arguments)};Object.defineProperty(o,"__esModule",{value:!0}),o.SearchAddon=void 0;var u=y(345),d=" ~!@#$%^&*()+`-=[]{}|\\;:\"',./<>?",p=function(){function v(){this._linesCacheTimeoutId=0,this._onDidChangeResults=new u.EventEmitter,this.onDidChangeResults=this._onDidChangeResults.event}return v.prototype.activate=function(g){var s=this;this._terminal=g,this._onDataDisposable=this._terminal.onWriteParsed(function(){return s._updateMatches()}),this._onResizeDisposable=this._terminal.onResize(function(){return s._updateMatches()})},v.prototype._updateMatches=function(){var g,s=this;this._highlightTimeout&&window.clearTimeout(this._highlightTimeout),this._cachedSearchTerm&&((g=this._lastSearchOptions)===null||g===void 0?void 0:g.decorations)&&(this._highlightTimeout=setTimeout(function(){var a,_;s.findPrevious(s._cachedSearchTerm,l(l({},s._lastSearchOptions),{incremental:!0,noScroll:!0})),s._resultIndex=s._searchResults?s._searchResults.size-1:-1,s._onDidChangeResults.fire({resultIndex:s._resultIndex,resultCount:(_=(a=s._searchResults)===null||a===void 0?void 0:a.size)!==null&&_!==void 0?_:-1})},200))},v.prototype.dispose=function(){var g,s;this.clearDecorations(),(g=this._onDataDisposable)===null||g===void 0||g.dispose(),(s=this._onResizeDisposable)===null||s===void 0||s.dispose()},v.prototype.clearDecorations=function(g){var s,a,_,h;(s=this._selectedDecoration)===null||s===void 0||s.dispose(),(a=this._searchResults)===null||a===void 0||a.clear(),(_=this._resultDecorations)===null||_===void 0||_.forEach(function(r){for(var e=0,t=r;e<t.length;e++)t[e].dispose()}),(h=this._resultDecorations)===null||h===void 0||h.clear(),this._searchResults=void 0,this._resultDecorations=void 0,g||(this._cachedSearchTerm=void 0)},v.prototype.clearActiveDecoration=function(){var g;(g=this._selectedDecoration)===null||g===void 0||g.dispose(),this._selectedDecoration=void 0},v.prototype.findNext=function(g,s){if(!this._terminal)throw new Error("Cannot use addon until it has been loaded");return this._lastSearchOptions=s,s?.decorations&&(this._resultIndex===void 0&&this._cachedSearchTerm!==void 0&&g===this._cachedSearchTerm||this._highlightAllMatches(g,s)),this._fireResults(g,this._findNextAndSelect(g,s),s)},v.prototype._highlightAllMatches=function(g,s){var a=this;if(!this._terminal)throw new Error("Cannot use addon until it has been loaded");if(g&&g.length!==0){s=s||{},this.clearDecorations(!0),this._searchResults=new Map,this._resultDecorations=new Map;for(var _=this._resultDecorations,h=this._find(g,0,0,s);h&&!this._searchResults.get(h.row+"-"+h.col);)if(this._searchResults.set(h.row+"-"+h.col,h),h=this._find(g,h.col+h.term.length>=this._terminal.cols?h.row+1:h.row,h.col+h.term.length>=this._terminal.cols?0:h.col+1,s),this._searchResults.size>1e3)return this.clearDecorations(),void(this._resultIndex=void 0);this._searchResults.forEach(function(r){var e=a._createResultDecoration(r,s.decorations);if(e){var t=_.get(e.marker.line)||[];t.push(e),_.set(e.marker.line,t)}})}else this.clearDecorations()},v.prototype._find=function(g,s,a,_){var h;if(!this._terminal||!g||g.length===0)return(h=this._terminal)===null||h===void 0||h.clearSelection(),void this.clearDecorations();if(a>this._terminal.cols)throw new Error("Invalid col: "+a+" to search in terminal of "+this._terminal.cols+" cols");var r=void 0;this._initLinesCache();var e={startRow:s,startCol:a};if(!(r=this._findInLine(g,e,_)))for(var t=s+1;t<this._terminal.buffer.active.baseY+this._terminal.rows&&(e.startRow=t,e.startCol=0,!(r=this._findInLine(g,e,_)));t++);return r},v.prototype._findNextAndSelect=function(g,s){var a;if(!this._terminal||!g||g.length===0)return(a=this._terminal)===null||a===void 0||a.clearSelection(),this.clearDecorations(),this._cachedSearchTerm=void 0,this._resultIndex=-1,!1;this._cachedSearchTerm!==g&&(this._resultIndex=void 0,this._terminal.clearSelection());var _,h=0,r=0;if(this._terminal.hasSelection()){var e=!!s&&s.incremental;_=this._terminal.getSelectionPosition(),r=e?_.startRow:_.endRow,h=e?_.startColumn:_.endColumn}this._initLinesCache();var t={startRow:r,startCol:h},i=this._findInLine(g,t,s);if(!i)for(var n=r+1;n<this._terminal.buffer.active.baseY+this._terminal.rows&&(t.startRow=n,t.startCol=0,!(i=this._findInLine(g,t,s)));n++);if(!i&&r!==0)for(n=0;n<r&&(t.startRow=n,t.startCol=0,!(i=this._findInLine(g,t,s)));n++);return!i&&_&&(t.startRow=_.startRow,t.startCol=0,i=this._findInLine(g,t,s)),this._searchResults&&(this._searchResults.size===0?this._resultIndex=-1:this._resultIndex===void 0?this._resultIndex=0:(this._resultIndex++,this._resultIndex>=this._searchResults.size&&(this._resultIndex=0))),this._selectResult(i,s?.decorations,s?.noScroll)},v.prototype.findPrevious=function(g,s){if(!this._terminal)throw new Error("Cannot use addon until it has been loaded");return this._lastSearchOptions=s,s?.decorations&&(this._resultIndex===void 0&&this._cachedSearchTerm!==void 0&&g===this._cachedSearchTerm||this._highlightAllMatches(g,s)),this._fireResults(g,this._findPreviousAndSelect(g,s),s)},v.prototype._fireResults=function(g,s,a){var _;return a?.decorations&&(this._resultIndex!==void 0&&((_=this._searchResults)===null||_===void 0?void 0:_.size)!==void 0?this._onDidChangeResults.fire({resultIndex:this._resultIndex,resultCount:this._searchResults.size}):this._onDidChangeResults.fire(void 0)),this._cachedSearchTerm=g,s},v.prototype._findPreviousAndSelect=function(g,s){var a,_;if(!this._terminal)throw new Error("Cannot use addon until it has been loaded");if(!this._terminal||!g||g.length===0)return _=void 0,(a=this._terminal)===null||a===void 0||a.clearSelection(),this.clearDecorations(),this._resultIndex=-1,!1;this._cachedSearchTerm!==g&&(this._resultIndex=void 0,this._terminal.clearSelection());var h,r=this._terminal.buffer.active.baseY+this._terminal.rows,e=this._terminal.cols,t=!0,i=!!s&&s.incremental;this._terminal.hasSelection()&&(r=(h=this._terminal.getSelectionPosition()).startRow,e=h.startColumn),this._initLinesCache();var n={startRow:r,startCol:e};if(i?(_=this._findInLine(g,n,s,!1))&&_.row===r&&_.col===e||(h&&(n.startRow=h.endRow,n.startCol=h.endColumn),_=this._findInLine(g,n,s,!0)):_=this._findInLine(g,n,s,t),!_){n.startCol=Math.max(n.startCol,this._terminal.cols);for(var f=r-1;f>=0&&(n.startRow=f,!(_=this._findInLine(g,n,s,t)));f--);}if(!_&&r!==this._terminal.buffer.active.baseY+this._terminal.rows)for(f=this._terminal.buffer.active.baseY+this._terminal.rows;f>=r&&(n.startRow=f,!(_=this._findInLine(g,n,s,t)));f--);return this._searchResults&&(this._searchResults.size===0?this._resultIndex=-1:this._resultIndex===void 0||this._resultIndex<0?this._resultIndex=this._searchResults.size-1:(this._resultIndex--,this._resultIndex===-1&&(this._resultIndex=this._searchResults.size-1))),!(_||!h)||this._selectResult(_,s?.decorations,s?.noScroll)},v.prototype._initLinesCache=function(){var g=this,s=this._terminal;this._linesCache||(this._linesCache=new Array(s.buffer.active.length),this._cursorMoveListener=s.onCursorMove(function(){return g._destroyLinesCache()}),this._resizeListener=s.onResize(function(){return g._destroyLinesCache()})),window.clearTimeout(this._linesCacheTimeoutId),this._linesCacheTimeoutId=window.setTimeout(function(){return g._destroyLinesCache()},15e3)},v.prototype._destroyLinesCache=function(){this._linesCache=void 0,this._cursorMoveListener&&(this._cursorMoveListener.dispose(),this._cursorMoveListener=void 0),this._resizeListener&&(this._resizeListener.dispose(),this._resizeListener=void 0),this._linesCacheTimeoutId&&(window.clearTimeout(this._linesCacheTimeoutId),this._linesCacheTimeoutId=0)},v.prototype._isWholeWord=function(g,s,a){return(g===0||d.includes(s[g-1]))&&(g+a.length===s.length||d.includes(s[g+a.length]))},v.prototype._findInLine=function(g,s,a,_){var h;a===void 0&&(a={}),_===void 0&&(_=!1);var r=this._terminal,e=s.startRow,t=s.startCol,i=r.buffer.active.getLine(e);if(i?.isWrapped)return _?void(s.startCol+=r.cols):(s.startRow--,s.startCol+=r.cols,this._findInLine(g,s,a));var n=(h=this._linesCache)===null||h===void 0?void 0:h[e];n||(n=this._translateBufferLineToStringWithWrap(e,!0),this._linesCache&&(this._linesCache[e]=n));var f=n[0],c=n[1],b=this._bufferColsToStringOffset(e,t),C=a.caseSensitive?g:g.toLowerCase(),m=a.caseSensitive?f:f.toLowerCase(),S=-1;if(a.regex){var k=RegExp(C,"g"),A=void 0;if(_)for(;A=k.exec(m.slice(0,b));)S=k.lastIndex-A[0].length,g=A[0],k.lastIndex-=g.length-1;else(A=k.exec(m.slice(b)))&&A[0].length>0&&(S=b+(k.lastIndex-A[0].length),g=A[0])}else _?b-C.length>=0&&(S=m.lastIndexOf(C,b-C.length)):S=m.indexOf(C,b);if(S>=0){if(a.wholeWord&&!this._isWholeWord(S,m,g))return;for(var E=0;E<c.length-1&&S>=c[E+1];)E++;for(var B=E;B<c.length-1&&S+g.length>=c[B+1];)B++;var R=S-c[E],x=S+g.length-c[B],D=this._stringLengthToBufferSize(e+E,R);return{term:g,col:D,row:e+E,size:this._stringLengthToBufferSize(e+B,x)-D+r.cols*(B-E)}}},v.prototype._stringLengthToBufferSize=function(g,s){var a=this._terminal.buffer.active.getLine(g);if(!a)return 0;for(var _=0;_<s;_++){var h=a.getCell(_);if(!h)break;var r=h.getChars();r.length>1&&(s-=r.length-1);var e=a.getCell(_+1);e&&e.getWidth()===0&&s++}return s},v.prototype._bufferColsToStringOffset=function(g,s){for(var a=this._terminal,_=g,h=0,r=a.buffer.active.getLine(_);s>0&&r;){for(var e=0;e<s&&e<a.cols;e++){var t=r.getCell(e);if(!t)break;t.getWidth()&&(h+=t.getCode()===0?1:t.getChars().length)}if(_++,(r=a.buffer.active.getLine(_))&&!r.isWrapped)break;s-=a.cols}return h},v.prototype._translateBufferLineToStringWithWrap=function(g,s){for(var a,_=this._terminal,h=[],r=[0],e=_.buffer.active.getLine(g);e;){var t=_.buffer.active.getLine(g+1),i=!!t&&t.isWrapped,n=e.translateToString(!i&&s);if(i&&t){var f=e.getCell(e.length-1);f&&f.getCode()===0&&f.getWidth()===1&&((a=t.getCell(0))===null||a===void 0?void 0:a.getWidth())===2&&(n=n.slice(0,-1))}if(h.push(n),!i)break;r.push(r[r.length-1]+n.length),g++,e=t}return[h.join(""),r]},v.prototype._selectResult=function(g,s,a){var _,h,r=this,e=this._terminal;if(this.clearActiveDecoration(),!g)return e.clearSelection(),!1;if(e.select(g.col,g.row,g.size),s){var t=e.registerMarker(-e.buffer.active.baseY-e.buffer.active.cursorY+g.row);t&&(this._selectedDecoration=e.registerDecoration({marker:t,x:g.col,width:g.size,backgroundColor:s.activeMatchBackground,layer:"top",overviewRulerOptions:{color:s.activeMatchColorOverviewRuler}}),(_=this._selectedDecoration)===null||_===void 0||_.onRender(function(n){return r._applyStyles(n,s.activeMatchBorder,!0)}),(h=this._selectedDecoration)===null||h===void 0||h.onDispose(function(){return t.dispose()}))}if(!a&&(g.row>=e.buffer.active.viewportY+e.rows||g.row<e.buffer.active.viewportY)){var i=g.row-e.buffer.active.viewportY;i-=Math.floor(e.rows/2),e.scrollLines(i)}return!0},v.prototype._applyStyles=function(g,s,a){g.clientWidth<=0||(g.classList.contains("xterm-find-result-decoration")||(g.classList.add("xterm-find-result-decoration"),s&&(g.style.outline="1px solid "+s)),a&&g.classList.add("xterm-find-active-result-decoration"))},v.prototype._createResultDecoration=function(g,s){var a,_=this,h=this._terminal,r=h.registerMarker(-h.buffer.active.baseY-h.buffer.active.cursorY+g.row);if(r){var e=h.registerDecoration({marker:r,x:g.col,width:g.size,backgroundColor:s.matchBackground,overviewRulerOptions:!((a=this._resultDecorations)===null||a===void 0)&&a.get(r.line)?void 0:{color:s.matchOverviewRuler,position:"center"}});return e?.onRender(function(t){return _._applyStyles(t,s.matchBorder,!1)}),e?.onDispose(function(){return r.dispose()}),e}},v}();o.SearchAddon=p},345:(T,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.forwardEvent=o.EventEmitter=void 0;var y=function(){function l(){this._listeners=[],this._disposed=!1}return Object.defineProperty(l.prototype,"event",{get:function(){var u=this;return this._event||(this._event=function(d){return u._listeners.push(d),{dispose:function(){if(!u._disposed){for(var p=0;p<u._listeners.length;p++)if(u._listeners[p]===d)return void u._listeners.splice(p,1)}}}}),this._event},enumerable:!1,configurable:!0}),l.prototype.fire=function(u,d){for(var p=[],v=0;v<this._listeners.length;v++)p.push(this._listeners[v]);for(v=0;v<p.length;v++)p[v].call(void 0,u,d)},l.prototype.dispose=function(){this._listeners&&(this._listeners.length=0),this._disposed=!0},l}();o.EventEmitter=y,o.forwardEvent=function(l,u){return l(function(d){return u.fire(d)})}}},H={};return function T(o){var y=H[o];if(y!==void 0)return y.exports;var l=H[o]={exports:{}};return w[o].call(l.exports,l,l.exports,T),l.exports}(258)})()})})(Oi);function zn(L){return new Uint8Array(atob(L).split("").map(Yn))}function Yn(L){return L.charCodeAt(0)}const Di=typeof window.webkit<"u";var jr={exports:{}};(function(L,M){(function(w,H){H(M)})(Gn,function(w){var H={foreground:"#a5a2a2",background:"#090300",cursor:"#a5a2a2",black:"#090300",brightBlack:"#5c5855",red:"#db2d20",brightRed:"#e8bbd0",green:"#01a252",brightGreen:"#3a3432",yellow:"#fded02",brightYellow:"#4a4543",blue:"#01a0e4",brightBlue:"#807d7c",magenta:"#a16a94",brightMagenta:"#d6d5d4",cyan:"#b5e4f4",brightCyan:"#cdab53",white:"#a5a2a2",brightWhite:"#f7f7f7"},T={foreground:"#f8dcc0",background:"#1f1d45",cursor:"#efbf38",black:"#050404",brightBlack:"#4e7cbf",red:"#bd0013",brightRed:"#fc5f5a",green:"#4ab118",brightGreen:"#9eff6e",yellow:"#e7741e",brightYellow:"#efc11a",blue:"#0f4ac6",brightBlue:"#1997c6",magenta:"#665993",brightMagenta:"#9b5953",cyan:"#70a598",brightCyan:"#c8faf4",white:"#f8dcc0",brightWhite:"#f6f5fb"},o={foreground:"#d0d0d0",background:"#212121",cursor:"#d0d0d0",black:"#151515",brightBlack:"#505050",red:"#ac4142",brightRed:"#ac4142",green:"#7e8e50",brightGreen:"#7e8e50",yellow:"#e5b567",brightYellow:"#e5b567",blue:"#6c99bb",brightBlue:"#6c99bb",magenta:"#9f4e85",brightMagenta:"#9f4e85",cyan:"#7dd6cf",brightCyan:"#7dd6cf",white:"#d0d0d0",brightWhite:"#f5f5f5"},y={foreground:"#637d75",background:"#0f1610",cursor:"#73fa91",black:"#112616",brightBlack:"#3c4812",red:"#7f2b27",brightRed:"#e08009",green:"#2f7e25",brightGreen:"#18e000",yellow:"#717f24",brightYellow:"#bde000",blue:"#2f6a7f",brightBlue:"#00aae0",magenta:"#47587f",brightMagenta:"#0058e0",cyan:"#327f77",brightCyan:"#00e0c4",white:"#647d75",brightWhite:"#73fa91"},l={foreground:"#fffaf4",background:"#0e1019",cursor:"#ff0018",black:"#232323",brightBlack:"#444444",red:"#ff000f",brightRed:"#ff2740",green:"#8ce10b",brightGreen:"#abe15b",yellow:"#ffb900",brightYellow:"#ffd242",blue:"#008df8",brightBlue:"#0092ff",magenta:"#6d43a6",brightMagenta:"#9a5feb",cyan:"#00d8eb",brightCyan:"#67fff0",white:"#ffffff",brightWhite:"#ffffff"},u={foreground:"#ddeedd",background:"#1c1c1c",cursor:"#e2bbef",black:"#3d352a",brightBlack:"#554444",red:"#cd5c5c",brightRed:"#cc5533",green:"#86af80",brightGreen:"#88aa22",yellow:"#e8ae5b",brightYellow:"#ffa75d",blue:"#6495ed",brightBlue:"#87ceeb",magenta:"#deb887",brightMagenta:"#996600",cyan:"#b0c4de",brightCyan:"#b0c4de",white:"#bbaa99",brightWhite:"#ddccbb"},d={foreground:"#979db4",background:"#202746",cursor:"#979db4",black:"#202746",brightBlack:"#6b7394",red:"#c94922",brightRed:"#c76b29",green:"#ac9739",brightGreen:"#293256",yellow:"#c08b30",brightYellow:"#5e6687",blue:"#3d8fd1",brightBlue:"#898ea4",magenta:"#6679cc",brightMagenta:"#dfe2f1",cyan:"#22a2c9",brightCyan:"#9c637a",white:"#979db4",brightWhite:"#f5f7ff"},p={foreground:"#c5c8c6",background:"#161719",cursor:"#d0d0d0",black:"#000000",brightBlack:"#000000",red:"#fd5ff1",brightRed:"#fd5ff1",green:"#87c38a",brightGreen:"#94fa36",yellow:"#ffd7b1",brightYellow:"#f5ffa8",blue:"#85befd",brightBlue:"#96cbfe",magenta:"#b9b6fc",brightMagenta:"#b9b6fc",cyan:"#85befd",brightCyan:"#85befd",white:"#e0e0e0",brightWhite:"#e0e0e0"},v={foreground:"#6f6f6f",background:"#1b1d1e",cursor:"#fcef0c",black:"#1b1d1e",brightBlack:"#505354",red:"#e6dc44",brightRed:"#fff78e",green:"#c8be46",brightGreen:"#fff27d",yellow:"#f4fd22",brightYellow:"#feed6c",blue:"#737174",brightBlue:"#919495",magenta:"#747271",brightMagenta:"#9a9a9d",cyan:"#62605f",brightCyan:"#a3a3a6",white:"#c6c5bf",brightWhite:"#dadbd6"},g={foreground:"#968c83",background:"#20111b",cursor:"#968c83",black:"#20111b",brightBlack:"#5e5252",red:"#be100e",brightRed:"#be100e",green:"#858162",brightGreen:"#858162",yellow:"#eaa549",brightYellow:"#eaa549",blue:"#426a79",brightBlue:"#426a79",magenta:"#97522c",brightMagenta:"#97522c",cyan:"#989a9c",brightCyan:"#989a9c",white:"#968c83",brightWhite:"#d5ccba"},s={foreground:"#e0dbb7",background:"#2a1f1d",cursor:"#573d26",black:"#573d26",brightBlack:"#9b6c4a",red:"#be2d26",brightRed:"#e84627",green:"#6ba18a",brightGreen:"#95d8ba",yellow:"#e99d2a",brightYellow:"#d0d150",blue:"#5a86ad",brightBlue:"#b8d3ed",magenta:"#ac80a6",brightMagenta:"#d19ecb",cyan:"#74a6ad",brightCyan:"#93cfd7",white:"#e0dbb7",brightWhite:"#fff9d5"},a={foreground:"#d9e6f2",background:"#0d1926",cursor:"#d9e6f2",black:"#000000",brightBlack:"#262626",red:"#b87a7a",brightRed:"#dbbdbd",green:"#7ab87a",brightGreen:"#bddbbd",yellow:"#b8b87a",brightYellow:"#dbdbbd",blue:"#7a7ab8",brightBlue:"#bdbddb",magenta:"#b87ab8",brightMagenta:"#dbbddb",cyan:"#7ab8b8",brightCyan:"#bddbdb",white:"#d9d9d9",brightWhite:"#ffffff"},_={foreground:"#ffff4e",background:"#0000a4",cursor:"#ffa560",black:"#4f4f4f",brightBlack:"#7c7c7c",red:"#ff6c60",brightRed:"#ffb6b0",green:"#a8ff60",brightGreen:"#ceffac",yellow:"#ffffb6",brightYellow:"#ffffcc",blue:"#96cbfe",brightBlue:"#b5dcff",magenta:"#ff73fd",brightMagenta:"#ff9cfe",cyan:"#c6c5fe",brightCyan:"#dfdffe",white:"#eeeeee",brightWhite:"#ffffff"},h={foreground:"#b3c9d7",background:"#191919",cursor:"#f34b00",black:"#191919",brightBlack:"#191919",red:"#ff355b",brightRed:"#ff355b",green:"#b7e876",brightGreen:"#b7e876",yellow:"#ffc251",brightYellow:"#ffc251",blue:"#76d4ff",brightBlue:"#76d5ff",magenta:"#ba76e7",brightMagenta:"#ba76e7",cyan:"#6cbfb5",brightCyan:"#6cbfb5",white:"#c2c8d7",brightWhite:"#c2c8d7"},r={foreground:"#e6e1dc",background:"#2b2b2b",cursor:"#ffffff",black:"#000000",brightBlack:"#323232",red:"#da4939",brightRed:"#ff7b6b",green:"#519f50",brightGreen:"#83d182",yellow:"#ffd24a",brightYellow:"#ffff7c",blue:"#6d9cbe",brightBlue:"#9fcef0",magenta:"#d0d0ff",brightMagenta:"#ffffff",cyan:"#6e9cbe",brightCyan:"#a0cef0",white:"#ffffff",brightWhite:"#ffffff"},e={foreground:"#d6dbe5",background:"#131313",cursor:"#b9b9b9",black:"#1f1f1f",brightBlack:"#d6dbe5",red:"#f81118",brightRed:"#de352e",green:"#2dc55e",brightGreen:"#1dd361",yellow:"#ecba0f",brightYellow:"#f3bd09",blue:"#2a84d2",brightBlue:"#1081d6",magenta:"#4e5ab7",brightMagenta:"#5350b9",cyan:"#1081d6",brightCyan:"#0f7ddb",white:"#d6dbe5",brightWhite:"#ffffff"},t={foreground:"#7869c4",background:"#40318d",cursor:"#7869c4",black:"#090300",brightBlack:"#000000",red:"#883932",brightRed:"#883932",green:"#55a049",brightGreen:"#55a049",yellow:"#bfce72",brightYellow:"#bfce72",blue:"#40318d",brightBlue:"#40318d",magenta:"#8b3f96",brightMagenta:"#8b3f96",cyan:"#67b6bd",brightCyan:"#67b6bd",white:"#ffffff",brightWhite:"#f7f7f7"},i={foreground:"#d2d8d9",background:"#2b2d2e",cursor:"#708284",black:"#7d8b8f",brightBlack:"#888888",red:"#b23a52",brightRed:"#f24840",green:"#789b6a",brightGreen:"#80c470",yellow:"#b9ac4a",brightYellow:"#ffeb62",blue:"#2a7fac",brightBlue:"#4196ff",magenta:"#bd4f5a",brightMagenta:"#fc5275",cyan:"#44a799",brightCyan:"#53cdbd",white:"#d2d8d9",brightWhite:"#d2d8d9"},n={foreground:"#d9e6f2",background:"#29262f",cursor:"#d9e6f2",black:"#000000",brightBlack:"#323232",red:"#c37372",brightRed:"#dbaaaa",green:"#72c373",brightGreen:"#aadbaa",yellow:"#c2c372",brightYellow:"#dadbaa",blue:"#7372c3",brightBlue:"#aaaadb",magenta:"#c372c2",brightMagenta:"#dbaada",cyan:"#72c2c3",brightCyan:"#aadadb",white:"#d9d9d9",brightWhite:"#ffffff"},f={foreground:"#aea47a",background:"#191c27",cursor:"#92805b",black:"#181818",brightBlack:"#555555",red:"#810009",brightRed:"#ac3835",green:"#48513b",brightGreen:"#a6a75d",yellow:"#cc8b3f",brightYellow:"#dcdf7c",blue:"#576d8c",brightBlue:"#3097c6",magenta:"#724d7c",brightMagenta:"#d33061",cyan:"#5c4f4b",brightCyan:"#f3dbb2",white:"#aea47f",brightWhite:"#f4f4f4"},c={foreground:"#ffffff",background:"#132738",cursor:"#f0cc09",black:"#000000",brightBlack:"#555555",red:"#ff0000",brightRed:"#f40e17",green:"#38de21",brightGreen:"#3bd01d",yellow:"#ffe50a",brightYellow:"#edc809",blue:"#1460d2",brightBlue:"#5555ff",magenta:"#ff005d",brightMagenta:"#ff55ff",cyan:"#00bbbb",brightCyan:"#6ae3fa",white:"#bbbbbb",brightWhite:"#ffffff"},b={foreground:"#8ff586",background:"#142838",cursor:"#c4206f",black:"#142631",brightBlack:"#fff688",red:"#ff2320",brightRed:"#d4312e",green:"#3ba5ff",brightGreen:"#8ff586",yellow:"#e9e75c",brightYellow:"#e9f06d",blue:"#8ff586",brightBlue:"#3c7dd2",magenta:"#781aa0",brightMagenta:"#8230a7",cyan:"#8ff586",brightCyan:"#6cbc67",white:"#ba46b2",brightWhite:"#8ff586"},C={foreground:"#68525a",background:"#150707",cursor:"#68525a",black:"#2b1b1d",brightBlack:"#3d2b2e",red:"#91002b",brightRed:"#c5255d",green:"#579524",brightGreen:"#8dff57",yellow:"#ab311b",brightYellow:"#c8381d",blue:"#8c87b0",brightBlue:"#cfc9ff",magenta:"#692f50",brightMagenta:"#fc6cba",cyan:"#e8a866",brightCyan:"#ffceaf",white:"#68525a",brightWhite:"#b0949d"},m={foreground:"#ffffff",background:"#000000",cursor:"#bbbbbb",black:"#000000",brightBlack:"#555555",red:"#ff5555",brightRed:"#ff5555",green:"#55ff55",brightGreen:"#55ff55",yellow:"#ffff55",brightYellow:"#ffff55",blue:"#5555ff",brightBlue:"#5555ff",magenta:"#ff55ff",brightMagenta:"#ff55ff",cyan:"#55ffff",brightCyan:"#55ffff",white:"#bbbbbb",brightWhite:"#ffffff"},S={foreground:"#bababa",background:"#222324",cursor:"#bbbbbb",black:"#000000",brightBlack:"#000000",red:"#e8341c",brightRed:"#e05a4f",green:"#68c256",brightGreen:"#77b869",yellow:"#f2d42c",brightYellow:"#efd64b",blue:"#1c98e8",brightBlue:"#387cd3",magenta:"#8e69c9",brightMagenta:"#957bbe",cyan:"#1c98e8",brightCyan:"#3d97e2",white:"#bababa",brightWhite:"#bababa"},k={foreground:"#ffffff",background:"#333333",cursor:"#00ff00",black:"#4d4d4d",brightBlack:"#555555",red:"#ff2b2b",brightRed:"#ff5555",green:"#98fb98",brightGreen:"#55ff55",yellow:"#f0e68c",brightYellow:"#ffff55",blue:"#cd853f",brightBlue:"#87ceff",magenta:"#ffdead",brightMagenta:"#ff55ff",cyan:"#ffa0a0",brightCyan:"#ffd700",white:"#f5deb3",brightWhite:"#ffffff"},A={foreground:"#b9bcba",background:"#1f1f1f",cursor:"#f83e19",black:"#3a3d43",brightBlack:"#888987",red:"#be3f48",brightRed:"#fb001f",green:"#879a3b",brightGreen:"#0f722f",yellow:"#c5a635",brightYellow:"#c47033",blue:"#4f76a1",brightBlue:"#186de3",magenta:"#855c8d",brightMagenta:"#fb0067",cyan:"#578fa4",brightCyan:"#2e706d",white:"#b9bcba",brightWhite:"#fdffb9"},E={foreground:"#ebebeb",background:"#262c35",cursor:"#d9002f",black:"#191919",brightBlack:"#191919",red:"#bf091d",brightRed:"#bf091d",green:"#3d9751",brightGreen:"#3d9751",yellow:"#f6bb34",brightYellow:"#f6bb34",blue:"#17b2e0",brightBlue:"#17b2e0",magenta:"#7830b0",brightMagenta:"#7830b0",cyan:"#8bd2ed",brightCyan:"#8bd2ed",white:"#ffffff",brightWhite:"#ffffff"},B={foreground:"#f8f8f2",background:"#1e1f29",cursor:"#bbbbbb",black:"#000000",brightBlack:"#555555",red:"#ff5555",brightRed:"#ff5555",green:"#50fa7b",brightGreen:"#50fa7b",yellow:"#f1fa8c",brightYellow:"#f1fa8c",blue:"#bd93f9",brightBlue:"#bd93f9",magenta:"#ff79c6",brightMagenta:"#ff79c6",cyan:"#8be9fd",brightCyan:"#8be9fd",white:"#bbbbbb",brightWhite:"#ffffff"},R={foreground:"#b7a1ff",background:"#1f1d27",cursor:"#ff9839",black:"#1f1d27",brightBlack:"#353147",red:"#d9393e",brightRed:"#d9393e",green:"#2dcd73",brightGreen:"#2dcd73",yellow:"#d9b76e",brightYellow:"#d9b76e",blue:"#ffc284",brightBlue:"#ffc284",magenta:"#de8d40",brightMagenta:"#de8d40",cyan:"#2488ff",brightCyan:"#2488ff",white:"#b7a1ff",brightWhite:"#eae5ff"},x={foreground:"#00a595",background:"#000000",cursor:"#bbbbbb",black:"#000000",brightBlack:"#555555",red:"#9f0000",brightRed:"#ff0000",green:"#008b00",brightGreen:"#00ee00",yellow:"#ffd000",brightYellow:"#ffff00",blue:"#0081ff",brightBlue:"#0000ff",magenta:"#bc00ca",brightMagenta:"#ff00ff",cyan:"#008b8b",brightCyan:"#00cdcd",white:"#bbbbbb",brightWhite:"#ffffff"},D={foreground:"#e5c7a9",background:"#292520",cursor:"#f6f7ec",black:"#121418",brightBlack:"#675f54",red:"#c94234",brightRed:"#ff645a",green:"#85c54c",brightGreen:"#98e036",yellow:"#f5ae2e",brightYellow:"#e0d561",blue:"#1398b9",brightBlue:"#5fdaff",magenta:"#d0633d",brightMagenta:"#ff9269",cyan:"#509552",brightCyan:"#84f088",white:"#e5c6aa",brightWhite:"#f6f7ec"},W={foreground:"#807a74",background:"#22211d",cursor:"#facb80",black:"#3c3c30",brightBlack:"#555445",red:"#98290f",brightRed:"#e0502a",green:"#479a43",brightGreen:"#61e070",yellow:"#7f7111",brightYellow:"#d69927",blue:"#497f7d",brightBlue:"#79d9d9",magenta:"#7f4e2f",brightMagenta:"#cd7c54",cyan:"#387f58",brightCyan:"#59d599",white:"#807974",brightWhite:"#fff1e9"},z={foreground:"#efefef",background:"#181818",cursor:"#bbbbbb",black:"#242424",brightBlack:"#4b4b4b",red:"#d71c15",brightRed:"#fc1c18",green:"#5aa513",brightGreen:"#6bc219",yellow:"#fdb40c",brightYellow:"#fec80e",blue:"#063b8c",brightBlue:"#0955ff",magenta:"#e40038",brightMagenta:"#fb0050",cyan:"#2595e1",brightCyan:"#3ea8fc",white:"#efefef",brightWhite:"#8c00ec"},Y={foreground:"#ffffff",background:"#323232",cursor:"#d6d6d6",black:"#353535",brightBlack:"#535353",red:"#d25252",brightRed:"#f00c0c",green:"#a5c261",brightGreen:"#c2e075",yellow:"#ffc66d",brightYellow:"#e1e48b",blue:"#6c99bb",brightBlue:"#8ab7d9",magenta:"#d197d9",brightMagenta:"#efb5f7",cyan:"#bed6ff",brightCyan:"#dcf4ff",white:"#eeeeec",brightWhite:"#ffffff"},N={foreground:"#b8a898",background:"#2a211c",cursor:"#ffffff",black:"#000000",brightBlack:"#555753",red:"#cc0000",brightRed:"#ef2929",green:"#1a921c",brightGreen:"#9aff87",yellow:"#f0e53a",brightYellow:"#fffb5c",blue:"#0066ff",brightBlue:"#43a8ed",magenta:"#c5656b",brightMagenta:"#ff818a",cyan:"#06989a",brightCyan:"#34e2e2",white:"#d3d7cf",brightWhite:"#eeeeec"},V={foreground:"#dbdae0",background:"#292f33",cursor:"#d4605a",black:"#292f33",brightBlack:"#092028",red:"#cb1e2d",brightRed:"#d4605a",green:"#edb8ac",brightGreen:"#d4605a",yellow:"#b7ab9b",brightYellow:"#a86671",blue:"#2e78c2",brightBlue:"#7c85c4",magenta:"#c0236f",brightMagenta:"#5c5db2",cyan:"#309186",brightCyan:"#819090",white:"#eae3ce",brightWhite:"#fcf4df"},K={foreground:"#7c8fa4",background:"#0e1011",cursor:"#708284",black:"#002831",brightBlack:"#001e27",red:"#e63853",brightRed:"#e1003f",green:"#5eb83c",brightGreen:"#1d9000",yellow:"#a57706",brightYellow:"#cd9409",blue:"#359ddf",brightBlue:"#006fc0",magenta:"#d75cff",brightMagenta:"#a200da",cyan:"#4b73a2",brightCyan:"#005794",white:"#dcdcdc",brightWhite:"#e2e2e2"},O={foreground:"#9ba2b2",background:"#1e2027",cursor:"#f6f7ec",black:"#585f6d",brightBlack:"#585f6d",red:"#d95360",brightRed:"#d95360",green:"#5ab977",brightGreen:"#5ab977",yellow:"#dfb563",brightYellow:"#dfb563",blue:"#4d89c4",brightBlue:"#4c89c5",magenta:"#d55119",brightMagenta:"#d55119",cyan:"#44a8b6",brightCyan:"#44a8b6",white:"#e6e5ff",brightWhite:"#e6e5ff"},ee={foreground:"#ecf0fe",background:"#232537",cursor:"#fecd5e",black:"#03073c",brightBlack:"#6c5b30",red:"#c6004a",brightRed:"#da4b8a",green:"#acf157",brightGreen:"#dbffa9",yellow:"#fecd5e",brightYellow:"#fee6a9",blue:"#525fb8",brightBlue:"#b2befa",magenta:"#986f82",brightMagenta:"#fda5cd",cyan:"#968763",brightCyan:"#a5bd86",white:"#ecf0fc",brightWhite:"#f6ffec"},Q={foreground:"#2cc55d",background:"#002240",cursor:"#e5be0c",black:"#222d3f",brightBlack:"#212c3c",red:"#a82320",brightRed:"#d4312e",green:"#32a548",brightGreen:"#2d9440",yellow:"#e58d11",brightYellow:"#e5be0c",blue:"#3167ac",brightBlue:"#3c7dd2",magenta:"#781aa0",brightMagenta:"#8230a7",cyan:"#2c9370",brightCyan:"#35b387",white:"#b0b6ba",brightWhite:"#e7eced"},ne={foreground:"#b8dbef",background:"#1d1f21",cursor:"#708284",black:"#1d1d19",brightBlack:"#1d1d19",red:"#f18339",brightRed:"#d22a24",green:"#9fd364",brightGreen:"#a7d42c",yellow:"#f4ef6d",brightYellow:"#ff8949",blue:"#5096be",brightBlue:"#61b9d0",magenta:"#695abc",brightMagenta:"#695abc",cyan:"#d63865",brightCyan:"#d63865",white:"#ffffff",brightWhite:"#ffffff"},F={foreground:"#dbd1b9",background:"#0e0d15",cursor:"#bbbbbb",black:"#08002e",brightBlack:"#331e4d",red:"#64002c",brightRed:"#d02063",green:"#5d731a",brightGreen:"#b4ce59",yellow:"#cd751c",brightYellow:"#fac357",blue:"#1d6da1",brightBlue:"#40a4cf",magenta:"#b7077e",brightMagenta:"#f12aae",cyan:"#42a38c",brightCyan:"#62caa8",white:"#f3e0b8",brightWhite:"#fff5db"},re={foreground:"#e2d8cd",background:"#051519",cursor:"#9e9ecb",black:"#333333",brightBlack:"#3d3d3d",red:"#f8818e",brightRed:"#fb3d66",green:"#92d3a2",brightGreen:"#6bb48d",yellow:"#1a8e63",brightYellow:"#30c85a",blue:"#8ed0ce",brightBlue:"#39a7a2",magenta:"#5e468c",brightMagenta:"#7e62b3",cyan:"#31658c",brightCyan:"#6096bf",white:"#e2d8cd",brightWhite:"#e2d8cd"},J={foreground:"#adadad",background:"#1b1c1d",cursor:"#cdcdcd",black:"#242526",brightBlack:"#5fac6d",red:"#f8511b",brightRed:"#f74319",green:"#565747",brightGreen:"#74ec4c",yellow:"#fa771d",brightYellow:"#fdc325",blue:"#2c70b7",brightBlue:"#3393ca",magenta:"#f02e4f",brightMagenta:"#e75e4f",cyan:"#3ca1a6",brightCyan:"#4fbce6",white:"#adadad",brightWhite:"#8c735b"},G={foreground:"#dec165",background:"#251200",cursor:"#e5591c",black:"#000000",brightBlack:"#7f6a55",red:"#d6262b",brightRed:"#e55a1c",green:"#919c00",brightGreen:"#bfc65a",yellow:"#be8a13",brightYellow:"#ffcb1b",blue:"#4699a3",brightBlue:"#7cc9cf",magenta:"#8d4331",brightMagenta:"#d26349",cyan:"#da8213",brightCyan:"#e6a96b",white:"#ddc265",brightWhite:"#ffeaa3"},P={foreground:"#ffffff",background:"#1d2837",cursor:"#bbbbbb",black:"#000000",brightBlack:"#555555",red:"#f9555f",brightRed:"#fa8c8f",green:"#21b089",brightGreen:"#35bb9a",yellow:"#fef02a",brightYellow:"#ffff55",blue:"#589df6",brightBlue:"#589df6",magenta:"#944d95",brightMagenta:"#e75699",cyan:"#1f9ee7",brightCyan:"#3979bc",white:"#bbbbbb",brightWhite:"#ffffff"},I={foreground:"#3e3e3e",background:"#f4f4f4",cursor:"#3f3f3f",black:"#3e3e3e",brightBlack:"#666666",red:"#970b16",brightRed:"#de0000",green:"#07962a",brightGreen:"#87d5a2",yellow:"#f8eec7",brightYellow:"#f1d007",blue:"#003e8a",brightBlue:"#2e6cba",magenta:"#e94691",brightMagenta:"#ffa29f",cyan:"#89d1ec",brightCyan:"#1cfafe",white:"#ffffff",brightWhite:"#ffffff"},q={foreground:"#ffffff",background:"#0c1115",cursor:"#6c6c6c",black:"#2e343c",brightBlack:"#404a55",red:"#bd0f2f",brightRed:"#bd0f2f",green:"#35a770",brightGreen:"#49e998",yellow:"#fb9435",brightYellow:"#fddf6e",blue:"#1f5872",brightBlue:"#2a8bc1",magenta:"#bd2523",brightMagenta:"#ea4727",cyan:"#778397",brightCyan:"#a0b6d3",white:"#ffffff",brightWhite:"#ffffff"},X={foreground:"#9f9fa1",background:"#171423",cursor:"#a288f7",black:"#2d283f",brightBlack:"#59516a",red:"#ed2261",brightRed:"#f0729a",green:"#1fa91b",brightGreen:"#53aa5e",yellow:"#8ddc20",brightYellow:"#b2dc87",blue:"#487df4",brightBlue:"#a9bcec",magenta:"#8d35c9",brightMagenta:"#ad81c2",cyan:"#3bdeed",brightCyan:"#9de3eb",white:"#9e9ea0",brightWhite:"#a288f7"},Z={foreground:"#fff0a5",background:"#13773d",cursor:"#8c2800",black:"#000000",brightBlack:"#555555",red:"#bb0000",brightRed:"#bb0000",green:"#00bb00",brightGreen:"#00bb00",yellow:"#e7b000",brightYellow:"#e7b000",blue:"#0000a3",brightBlue:"#0000bb",magenta:"#950062",brightMagenta:"#ff55ff",cyan:"#00bbbb",brightCyan:"#55ffff",white:"#bbbbbb",brightWhite:"#ffffff"},te={foreground:"#e6d4a3",background:"#1e1e1e",cursor:"#bbbbbb",black:"#161819",brightBlack:"#7f7061",red:"#f73028",brightRed:"#be0f17",green:"#aab01e",brightGreen:"#868715",yellow:"#f7b125",brightYellow:"#cc881a",blue:"#719586",brightBlue:"#377375",magenta:"#c77089",brightMagenta:"#a04b73",cyan:"#7db669",brightCyan:"#578e57",white:"#faefbb",brightWhite:"#e6d4a3"},se={foreground:"#a0a0a0",background:"#121212",cursor:"#bbbbbb",black:"#1b1d1e",brightBlack:"#505354",red:"#f92672",brightRed:"#ff669d",green:"#a6e22e",brightGreen:"#beed5f",yellow:"#fd971f",brightYellow:"#e6db74",blue:"#66d9ef",brightBlue:"#66d9ef",magenta:"#9e6ffe",brightMagenta:"#9e6ffe",cyan:"#5e7175",brightCyan:"#a3babf",white:"#ccccc6",brightWhite:"#f8f8f2"},le={foreground:"#a8a49d",background:"#010101",cursor:"#a8a49d",black:"#010101",brightBlack:"#726e6a",red:"#f8b63f",brightRed:"#f8b63f",green:"#7fb5e1",brightGreen:"#7fb5e1",yellow:"#d6da25",brightYellow:"#d6da25",blue:"#489e48",brightBlue:"#489e48",magenta:"#b296c6",brightMagenta:"#b296c6",cyan:"#f5bfd7",brightCyan:"#f5bfd7",white:"#a8a49d",brightWhite:"#fefbea"},he={foreground:"#ededed",background:"#222225",cursor:"#e0d9b9",black:"#000000",brightBlack:"#5d504a",red:"#d00e18",brightRed:"#f07e18",green:"#138034",brightGreen:"#b1d130",yellow:"#ffcb3e",brightYellow:"#fff120",blue:"#006bb3",brightBlue:"#4fc2fd",magenta:"#6b2775",brightMagenta:"#de0071",cyan:"#384564",brightCyan:"#5d504a",white:"#ededed",brightWhite:"#ffffff"},$={foreground:"#84c138",background:"#100b05",cursor:"#23ff18",black:"#000000",brightBlack:"#666666",red:"#b6214a",brightRed:"#e50000",green:"#00a600",brightGreen:"#86a93e",yellow:"#bfbf00",brightYellow:"#e5e500",blue:"#246eb2",brightBlue:"#0000ff",magenta:"#b200b2",brightMagenta:"#e500e5",cyan:"#00a6b2",brightCyan:"#00e5e5",white:"#bfbfbf",brightWhite:"#e5e5e5"},fe={foreground:"#00ff00",background:"#000000",cursor:"#23ff18",black:"#000000",brightBlack:"#666666",red:"#990000",brightRed:"#e50000",green:"#00a600",brightGreen:"#00d900",yellow:"#999900",brightYellow:"#e5e500",blue:"#0000b2",brightBlue:"#0000ff",magenta:"#b200b2",brightMagenta:"#e500e5",cyan:"#00a6b2",brightCyan:"#00e5e5",white:"#bfbfbf",brightWhite:"#e5e5e5"},_e={foreground:"#dbdbdb",background:"#000000",cursor:"#bbbbbb",black:"#575757",brightBlack:"#262626",red:"#ff1b00",brightRed:"#d51d00",green:"#a5e055",brightGreen:"#a5df55",yellow:"#fbe74a",brightYellow:"#fbe84a",blue:"#496487",brightBlue:"#89beff",magenta:"#fd5ff1",brightMagenta:"#c001c1",cyan:"#86e9fe",brightCyan:"#86eafe",white:"#cbcccb",brightWhite:"#dbdbdb"},ke={foreground:"#b7bcba",background:"#161719",cursor:"#b7bcba",black:"#2a2e33",brightBlack:"#1d1f22",red:"#b84d51",brightRed:"#8d2e32",green:"#b3bf5a",brightGreen:"#798431",yellow:"#e4b55e",brightYellow:"#e58a50",blue:"#6e90b0",brightBlue:"#4b6b88",magenta:"#a17eac",brightMagenta:"#6e5079",cyan:"#7fbfb4",brightCyan:"#4d7b74",white:"#b5b9b6",brightWhite:"#5a626a"},We={foreground:"#d9efd3",background:"#3a3d3f",cursor:"#42ff58",black:"#1f1f1f",brightBlack:"#032710",red:"#fb002a",brightRed:"#a7ff3f",green:"#339c24",brightGreen:"#9fff6d",yellow:"#659b25",brightYellow:"#d2ff6d",blue:"#149b45",brightBlue:"#72ffb5",magenta:"#53b82c",brightMagenta:"#50ff3e",cyan:"#2cb868",brightCyan:"#22ff71",white:"#e0ffef",brightWhite:"#daefd0"},qt={foreground:"#ffcb83",background:"#262626",cursor:"#fc531d",black:"#000000",brightBlack:"#6a4f2a",red:"#c13900",brightRed:"#ff8c68",green:"#a4a900",brightGreen:"#f6ff40",yellow:"#caaf00",brightYellow:"#ffe36e",blue:"#bd6d00",brightBlue:"#ffbe55",magenta:"#fc5e00",brightMagenta:"#fc874f",cyan:"#f79500",brightCyan:"#c69752",white:"#ffc88a",brightWhite:"#fafaff"},Nt={foreground:"#f1f1f1",background:"#000000",cursor:"#808080",black:"#4f4f4f",brightBlack:"#7b7b7b",red:"#fa6c60",brightRed:"#fcb6b0",green:"#a8ff60",brightGreen:"#cfffab",yellow:"#fffeb7",brightYellow:"#ffffcc",blue:"#96cafe",brightBlue:"#b5dcff",magenta:"#fa73fd",brightMagenta:"#fb9cfe",cyan:"#c6c5fe",brightCyan:"#e0e0fe",white:"#efedef",brightWhite:"#ffffff"},Gt={foreground:"#ffcc2f",background:"#2c1d16",cursor:"#23ff18",black:"#2c1d16",brightBlack:"#666666",red:"#ef5734",brightRed:"#e50000",green:"#2baf2b",brightGreen:"#86a93e",yellow:"#bebf00",brightYellow:"#e5e500",blue:"#246eb2",brightBlue:"#0000ff",magenta:"#d05ec1",brightMagenta:"#e500e5",cyan:"#00acee",brightCyan:"#00e5e5",white:"#bfbfbf",brightWhite:"#e5e5e5"},zt={foreground:"#f7f6ec",background:"#1e1e1e",cursor:"#edcf4f",black:"#343935",brightBlack:"#595b59",red:"#cf3f61",brightRed:"#d18fa6",green:"#7bb75b",brightGreen:"#767f2c",yellow:"#e9b32a",brightYellow:"#78592f",blue:"#4c9ad4",brightBlue:"#135979",magenta:"#a57fc4",brightMagenta:"#604291",cyan:"#389aad",brightCyan:"#76bbca",white:"#fafaf6",brightWhite:"#b2b5ae"},Yt={foreground:"#dedede",background:"#121212",cursor:"#ffa560",black:"#929292",brightBlack:"#bdbdbd",red:"#e27373",brightRed:"#ffa1a1",green:"#94b979",brightGreen:"#bddeab",yellow:"#ffba7b",brightYellow:"#ffdca0",blue:"#97bedc",brightBlue:"#b1d8f6",magenta:"#e1c0fa",brightMagenta:"#fbdaff",cyan:"#00988e",brightCyan:"#1ab2a8",white:"#dedede",brightWhite:"#ffffff"},Kt={foreground:"#adadad",background:"#202020",cursor:"#ffffff",black:"#000000",brightBlack:"#555555",red:"#fa5355",brightRed:"#fb7172",green:"#126e00",brightGreen:"#67ff4f",yellow:"#c2c300",brightYellow:"#ffff00",blue:"#4581eb",brightBlue:"#6d9df1",magenta:"#fa54ff",brightMagenta:"#fb82ff",cyan:"#33c2c1",brightCyan:"#60d3d1",white:"#adadad",brightWhite:"#eeeeee"},ze={foreground:"#f7f7f7",background:"#0e100a",cursor:"#9fda9c",black:"#4d4d4d",brightBlack:"#5a5a5a",red:"#c70031",brightRed:"#f01578",green:"#29cf13",brightGreen:"#6ce05c",yellow:"#d8e30e",brightYellow:"#f3f79e",blue:"#3449d1",brightBlue:"#97a4f7",magenta:"#8400ff",brightMagenta:"#c495f0",cyan:"#0798ab",brightCyan:"#68f2e0",white:"#e2d1e3",brightWhite:"#ffffff"},Ye={foreground:"#959595",background:"#222222",cursor:"#424242",black:"#2b2b2b",brightBlack:"#454747",red:"#d45a60",brightRed:"#d3232f",green:"#afba67",brightGreen:"#aabb39",yellow:"#e5d289",brightYellow:"#e5be39",blue:"#a0bad6",brightBlue:"#6699d6",magenta:"#c092d6",brightMagenta:"#ab53d6",cyan:"#91bfb7",brightCyan:"#5fc0ae",white:"#3c3d3d",brightWhite:"#c1c2c2"},Ke={foreground:"#736e7d",background:"#050014",cursor:"#8c91fa",black:"#230046",brightBlack:"#372d46",red:"#7d1625",brightRed:"#e05167",green:"#337e6f",brightGreen:"#52e0c4",yellow:"#7f6f49",brightYellow:"#e0c386",blue:"#4f4a7f",brightBlue:"#8e87e0",magenta:"#5a3f7f",brightMagenta:"#a776e0",cyan:"#58777f",brightCyan:"#9ad4e0",white:"#736e7d",brightWhite:"#8c91fa"},Ve={foreground:"#afc2c2",background:"#303030",cursor:"#ffffff",black:"#000000",brightBlack:"#000000",red:"#ff3030",brightRed:"#ff3030",green:"#559a70",brightGreen:"#559a70",yellow:"#ccac00",brightYellow:"#ccac00",blue:"#0099cc",brightBlue:"#0099cc",magenta:"#cc69c8",brightMagenta:"#cc69c8",cyan:"#7ac4cc",brightCyan:"#7ac4cc",white:"#bccccc",brightWhite:"#bccccc"},$e={foreground:"#afc2c2",background:"#000000",cursor:"#ffffff",black:"#000000",brightBlack:"#000000",red:"#ff3030",brightRed:"#ff3030",green:"#559a70",brightGreen:"#559a70",yellow:"#ccac00",brightYellow:"#ccac00",blue:"#0099cc",brightBlue:"#0099cc",magenta:"#cc69c8",brightMagenta:"#cc69c8",cyan:"#7ac4cc",brightCyan:"#7ac4cc",white:"#bccccc",brightWhite:"#bccccc"},Xe={foreground:"#afc2c2",background:"#000000",cursor:"#ffffff",black:"#bccccd",brightBlack:"#ffffff",red:"#ff3030",brightRed:"#ff3030",green:"#559a70",brightGreen:"#559a70",yellow:"#ccac00",brightYellow:"#ccac00",blue:"#0099cc",brightBlue:"#0099cc",magenta:"#cc69c8",brightMagenta:"#cc69c8",cyan:"#7ac4cc",brightCyan:"#7ac4cc",white:"#000000",brightWhite:"#000000"},Ze={foreground:"#000000",background:"#fef49c",cursor:"#7f7f7f",black:"#000000",brightBlack:"#666666",red:"#cc0000",brightRed:"#e50000",green:"#00a600",brightGreen:"#00d900",yellow:"#999900",brightYellow:"#e5e500",blue:"#0000b2",brightBlue:"#0000ff",magenta:"#b200b2",brightMagenta:"#e500e5",cyan:"#00a6b2",brightCyan:"#00e5e5",white:"#cccccc",brightWhite:"#e5e5e5"},Je={foreground:"#232322",background:"#eaeaea",cursor:"#16afca",black:"#212121",brightBlack:"#424242",red:"#b7141f",brightRed:"#e83b3f",green:"#457b24",brightGreen:"#7aba3a",yellow:"#f6981e",brightYellow:"#ffea2e",blue:"#134eb2",brightBlue:"#54a4f3",magenta:"#560088",brightMagenta:"#aa4dbc",cyan:"#0e717c",brightCyan:"#26bbd1",white:"#efefef",brightWhite:"#d9d9d9"},Qe={foreground:"#e5e5e5",background:"#232322",cursor:"#16afca",black:"#212121",brightBlack:"#424242",red:"#b7141f",brightRed:"#e83b3f",green:"#457b24",brightGreen:"#7aba3a",yellow:"#f6981e",brightYellow:"#ffea2e",blue:"#134eb2",brightBlue:"#54a4f3",magenta:"#560088",brightMagenta:"#aa4dbc",cyan:"#0e717c",brightCyan:"#26bbd1",white:"#efefef",brightWhite:"#d9d9d9"},et={foreground:"#bbbbbb",background:"#000000",cursor:"#bbbbbb",black:"#000000",brightBlack:"#555555",red:"#e52222",brightRed:"#ff5555",green:"#a6e32d",brightGreen:"#55ff55",yellow:"#fc951e",brightYellow:"#ffff55",blue:"#c48dff",brightBlue:"#5555ff",magenta:"#fa2573",brightMagenta:"#ff55ff",cyan:"#67d9f0",brightCyan:"#55ffff",white:"#f2f2f2",brightWhite:"#ffffff"},tt={foreground:"#cac296",background:"#1d1908",cursor:"#d3ba30",black:"#000000",brightBlack:"#5e5219",red:"#b64c00",brightRed:"#ff9149",green:"#7c8b16",brightGreen:"#b2ca3b",yellow:"#d3bd26",brightYellow:"#ffe54a",blue:"#616bb0",brightBlue:"#acb8ff",magenta:"#8c5a90",brightMagenta:"#ffa0ff",cyan:"#916c25",brightCyan:"#ffbc51",white:"#cac29a",brightWhite:"#fed698"},rt={foreground:"#e1e1e0",background:"#2d3743",cursor:"#000000",black:"#000000",brightBlack:"#555555",red:"#ff4242",brightRed:"#ff3242",green:"#74af68",brightGreen:"#74cd68",yellow:"#ffad29",brightYellow:"#ffb929",blue:"#338f86",brightBlue:"#23d7d7",magenta:"#9414e6",brightMagenta:"#ff37ff",cyan:"#23d7d7",brightCyan:"#00ede1",white:"#e1e1e0",brightWhite:"#ffffff"},it={foreground:"#bbbbbb",background:"#121212",cursor:"#bbbbbb",black:"#121212",brightBlack:"#555555",red:"#fa2573",brightRed:"#f6669d",green:"#98e123",brightGreen:"#b1e05f",yellow:"#dfd460",brightYellow:"#fff26d",blue:"#1080d0",brightBlue:"#00afff",magenta:"#8700ff",brightMagenta:"#af87ff",cyan:"#43a8d0",brightCyan:"#51ceff",white:"#bbbbbb",brightWhite:"#ffffff"},nt={foreground:"#f7d66a",background:"#120b0d",cursor:"#c46c32",black:"#351b0e",brightBlack:"#874228",red:"#9b291c",brightRed:"#ff4331",green:"#636232",brightGreen:"#b4b264",yellow:"#c36e28",brightYellow:"#ff9566",blue:"#515c5d",brightBlue:"#9eb2b4",magenta:"#9b1d29",brightMagenta:"#ff5b6a",cyan:"#588056",brightCyan:"#8acd8f",white:"#f7d75c",brightWhite:"#ffe598"},ot={foreground:"#c4c5b5",background:"#1a1a1a",cursor:"#f6f7ec",black:"#1a1a1a",brightBlack:"#625e4c",red:"#f4005f",brightRed:"#f4005f",green:"#98e024",brightGreen:"#98e024",yellow:"#fa8419",brightYellow:"#e0d561",blue:"#9d65ff",brightBlue:"#9d65ff",magenta:"#f4005f",brightMagenta:"#f4005f",cyan:"#58d1eb",brightCyan:"#58d1eb",white:"#c4c5b5",brightWhite:"#f6f6ef"},st={foreground:"#f9f9f9",background:"#121212",cursor:"#fb0007",black:"#121212",brightBlack:"#838383",red:"#fa2934",brightRed:"#f6669d",green:"#98e123",brightGreen:"#b1e05f",yellow:"#fff30a",brightYellow:"#fff26d",blue:"#0443ff",brightBlue:"#0443ff",magenta:"#f800f8",brightMagenta:"#f200f6",cyan:"#01b6ed",brightCyan:"#51ceff",white:"#ffffff",brightWhite:"#ffffff"},at={foreground:"#a0a0a0",background:"#222222",cursor:"#aa9175",black:"#383838",brightBlack:"#474747",red:"#a95551",brightRed:"#a97775",green:"#666666",brightGreen:"#8c8c8c",yellow:"#a98051",brightYellow:"#a99175",blue:"#657d3e",brightBlue:"#98bd5e",magenta:"#767676",brightMagenta:"#a3a3a3",cyan:"#c9c9c9",brightCyan:"#dcdcdc",white:"#d0b8a3",brightWhite:"#d8c8bb"},ct={foreground:"#ffffff",background:"#271f19",cursor:"#ffffff",black:"#000000",brightBlack:"#000000",red:"#800000",brightRed:"#800000",green:"#61ce3c",brightGreen:"#61ce3c",yellow:"#fbde2d",brightYellow:"#fbde2d",blue:"#253b76",brightBlue:"#253b76",magenta:"#ff0080",brightMagenta:"#ff0080",cyan:"#8da6ce",brightCyan:"#8da6ce",white:"#f8f8f8",brightWhite:"#f8f8f8"},lt={foreground:"#e6e8ef",background:"#1c1e22",cursor:"#f6f7ec",black:"#23252b",brightBlack:"#23252b",red:"#b54036",brightRed:"#b54036",green:"#5ab977",brightGreen:"#5ab977",yellow:"#deb566",brightYellow:"#deb566",blue:"#6a7c93",brightBlue:"#6a7c93",magenta:"#a4799d",brightMagenta:"#a4799d",cyan:"#3f94a8",brightCyan:"#3f94a8",white:"#e6e8ef",brightWhite:"#ebedf2"},ht={foreground:"#bbbbbb",background:"#000000",cursor:"#bbbbbb",black:"#4c4c4c",brightBlack:"#555555",red:"#bb0000",brightRed:"#ff5555",green:"#5fde8f",brightGreen:"#55ff55",yellow:"#f3f167",brightYellow:"#ffff55",blue:"#276bd8",brightBlue:"#5555ff",magenta:"#bb00bb",brightMagenta:"#ff55ff",cyan:"#00dadf",brightCyan:"#55ffff",white:"#bbbbbb",brightWhite:"#ffffff"},ft={foreground:"#bbbbbb",background:"#171717",cursor:"#bbbbbb",black:"#4c4c4c",brightBlack:"#555555",red:"#bb0000",brightRed:"#ff5555",green:"#04f623",brightGreen:"#7df71d",yellow:"#f3f167",brightYellow:"#ffff55",blue:"#64d0f0",brightBlue:"#62cbe8",magenta:"#ce6fdb",brightMagenta:"#ff9bf5",cyan:"#00dadf",brightCyan:"#00ccd8",white:"#bbbbbb",brightWhite:"#ffffff"},ut={foreground:"#3b2322",background:"#dfdbc3",cursor:"#73635a",black:"#000000",brightBlack:"#808080",red:"#cc0000",brightRed:"#cc0000",green:"#009600",brightGreen:"#009600",yellow:"#d06b00",brightYellow:"#d06b00",blue:"#0000cc",brightBlue:"#0000cc",magenta:"#cc00cc",brightMagenta:"#cc00cc",cyan:"#0087cc",brightCyan:"#0087cc",white:"#cccccc",brightWhite:"#ffffff"},dt={foreground:"#cdcdcd",background:"#283033",cursor:"#c0cad0",black:"#000000",brightBlack:"#555555",red:"#a60001",brightRed:"#ff0003",green:"#00bb00",brightGreen:"#93c863",yellow:"#fecd22",brightYellow:"#fef874",blue:"#3a9bdb",brightBlue:"#a1d7ff",magenta:"#bb00bb",brightMagenta:"#ff55ff",cyan:"#00bbbb",brightCyan:"#55ffff",white:"#bbbbbb",brightWhite:"#ffffff"},_t={foreground:"#ffffff",background:"#224fbc",cursor:"#7f7f7f",black:"#000000",brightBlack:"#666666",red:"#990000",brightRed:"#e50000",green:"#00a600",brightGreen:"#00d900",yellow:"#999900",brightYellow:"#e5e500",blue:"#0000b2",brightBlue:"#0000ff",magenta:"#b200b2",brightMagenta:"#e500e5",cyan:"#00a6b2",brightCyan:"#00e5e5",white:"#bfbfbf",brightWhite:"#e5e5e5"},gt={foreground:"#c2c8d7",background:"#1c262b",cursor:"#b3b8c3",black:"#000000",brightBlack:"#777777",red:"#ee2b2a",brightRed:"#dc5c60",green:"#40a33f",brightGreen:"#70be71",yellow:"#ffea2e",brightYellow:"#fff163",blue:"#1e80f0",brightBlue:"#54a4f3",magenta:"#8800a0",brightMagenta:"#aa4dbc",cyan:"#16afca",brightCyan:"#42c7da",white:"#a4a4a4",brightWhite:"#ffffff"},pt={foreground:"#8a8dae",background:"#222125",cursor:"#5b6ea7",black:"#000000",brightBlack:"#5b3725",red:"#ac2e31",brightRed:"#ff3d48",green:"#31ac61",brightGreen:"#3bff99",yellow:"#ac4300",brightYellow:"#ff5e1e",blue:"#2d57ac",brightBlue:"#4488ff",magenta:"#b08528",brightMagenta:"#ffc21d",cyan:"#1fa6ac",brightCyan:"#1ffaff",white:"#8a8eac",brightWhite:"#5b6ea7"},bt={foreground:"#dcdfe4",background:"#282c34",cursor:"#a3b3cc",black:"#282c34",brightBlack:"#282c34",red:"#e06c75",brightRed:"#e06c75",green:"#98c379",brightGreen:"#98c379",yellow:"#e5c07b",brightYellow:"#e5c07b",blue:"#61afef",brightBlue:"#61afef",magenta:"#c678dd",brightMagenta:"#c678dd",cyan:"#56b6c2",brightCyan:"#56b6c2",white:"#dcdfe4",brightWhite:"#dcdfe4"},vt={foreground:"#383a42",background:"#fafafa",cursor:"#bfceff",black:"#383a42",brightBlack:"#4f525e",red:"#e45649",brightRed:"#e06c75",green:"#50a14f",brightGreen:"#98c379",yellow:"#c18401",brightYellow:"#e5c07b",blue:"#0184bc",brightBlue:"#61afef",magenta:"#a626a4",brightMagenta:"#c678dd",cyan:"#0997b3",brightCyan:"#56b6c2",white:"#fafafa",brightWhite:"#ffffff"},yt={foreground:"#e1e1e1",background:"#141e43",cursor:"#43d58e",black:"#000000",brightBlack:"#3f5648",red:"#ff4242",brightRed:"#ff3242",green:"#74af68",brightGreen:"#74cd68",yellow:"#ffad29",brightYellow:"#ffb929",blue:"#338f86",brightBlue:"#23d7d7",magenta:"#9414e6",brightMagenta:"#ff37ff",cyan:"#23d7d7",brightCyan:"#00ede1",white:"#e2e2e2",brightWhite:"#ffffff"},mt={foreground:"#a39e9b",background:"#2f1e2e",cursor:"#a39e9b",black:"#2f1e2e",brightBlack:"#776e71",red:"#ef6155",brightRed:"#ef6155",green:"#48b685",brightGreen:"#48b685",yellow:"#fec418",brightYellow:"#fec418",blue:"#06b6ef",brightBlue:"#06b6ef",magenta:"#815ba4",brightMagenta:"#815ba4",cyan:"#5bc4bf",brightCyan:"#5bc4bf",white:"#a39e9b",brightWhite:"#e7e9db"},St={foreground:"#a39e9b",background:"#2f1e2e",cursor:"#a39e9b",black:"#2f1e2e",brightBlack:"#776e71",red:"#ef6155",brightRed:"#ef6155",green:"#48b685",brightGreen:"#48b685",yellow:"#fec418",brightYellow:"#fec418",blue:"#06b6ef",brightBlue:"#06b6ef",magenta:"#815ba4",brightMagenta:"#815ba4",cyan:"#5bc4bf",brightCyan:"#5bc4bf",white:"#a39e9b",brightWhite:"#e7e9db"},Ct={foreground:"#f2f2f2",background:"#000000",cursor:"#4d4d4d",black:"#2a2a2a",brightBlack:"#666666",red:"#ff0000",brightRed:"#ff0080",green:"#79ff0f",brightGreen:"#66ff66",yellow:"#e7bf00",brightYellow:"#f3d64e",blue:"#396bd7",brightBlue:"#709aed",magenta:"#b449be",brightMagenta:"#db67e6",cyan:"#66ccff",brightCyan:"#7adff2",white:"#bbbbbb",brightWhite:"#ffffff"},wt={foreground:"#f1f1f1",background:"#212121",cursor:"#20bbfc",black:"#212121",brightBlack:"#424242",red:"#c30771",brightRed:"#fb007a",green:"#10a778",brightGreen:"#5fd7af",yellow:"#a89c14",brightYellow:"#f3e430",blue:"#008ec4",brightBlue:"#20bbfc",magenta:"#523c79",brightMagenta:"#6855de",cyan:"#20a5ba",brightCyan:"#4fb8cc",white:"#d9d9d9",brightWhite:"#f1f1f1"},kt={foreground:"#424242",background:"#f1f1f1",cursor:"#20bbfc",black:"#212121",brightBlack:"#424242",red:"#c30771",brightRed:"#fb007a",green:"#10a778",brightGreen:"#5fd7af",yellow:"#a89c14",brightYellow:"#f3e430",blue:"#008ec4",brightBlue:"#20bbfc",magenta:"#523c79",brightMagenta:"#6855de",cyan:"#20a5ba",brightCyan:"#4fb8cc",white:"#d9d9d9",brightWhite:"#f1f1f1"},Lt={foreground:"#414141",background:"#ffffff",cursor:"#5e77c8",black:"#414141",brightBlack:"#3f3f3f",red:"#b23771",brightRed:"#db3365",green:"#66781e",brightGreen:"#829429",yellow:"#cd6f34",brightYellow:"#cd6f34",blue:"#3c5ea8",brightBlue:"#3c5ea8",magenta:"#a454b2",brightMagenta:"#a454b2",cyan:"#66781e",brightCyan:"#829429",white:"#ffffff",brightWhite:"#f2f2f2"},Et={foreground:"#d0d0d0",background:"#1c1c1c",cursor:"#e4c9af",black:"#2f2e2d",brightBlack:"#4a4845",red:"#a36666",brightRed:"#d78787",green:"#90a57d",brightGreen:"#afbea2",yellow:"#d7af87",brightYellow:"#e4c9af",blue:"#7fa5bd",brightBlue:"#a1bdce",magenta:"#c79ec4",brightMagenta:"#d7beda",cyan:"#8adbb4",brightCyan:"#b1e7dd",white:"#d0d0d0",brightWhite:"#efefef"},xt={foreground:"#f2f2f2",background:"#000000",cursor:"#4d4d4d",black:"#000000",brightBlack:"#666666",red:"#990000",brightRed:"#e50000",green:"#00a600",brightGreen:"#00d900",yellow:"#999900",brightYellow:"#e5e500",blue:"#2009db",brightBlue:"#0000ff",magenta:"#b200b2",brightMagenta:"#e500e5",cyan:"#00a6b2",brightCyan:"#00e5e5",white:"#bfbfbf",brightWhite:"#e5e5e5"},Rt={foreground:"#ffffff",background:"#762423",cursor:"#ffffff",black:"#000000",brightBlack:"#262626",red:"#d62e4e",brightRed:"#e02553",green:"#71be6b",brightGreen:"#aff08c",yellow:"#beb86b",brightYellow:"#dfddb7",blue:"#489bee",brightBlue:"#65aaf1",magenta:"#e979d7",brightMagenta:"#ddb7df",cyan:"#6bbeb8",brightCyan:"#b7dfdd",white:"#d6d6d6",brightWhite:"#ffffff"},Mt={foreground:"#d7c9a7",background:"#7a251e",cursor:"#ffffff",black:"#000000",brightBlack:"#555555",red:"#ff3f00",brightRed:"#bb0000",green:"#00bb00",brightGreen:"#00bb00",yellow:"#e7b000",brightYellow:"#e7b000",blue:"#0072ff",brightBlue:"#0072ae",magenta:"#bb00bb",brightMagenta:"#ff55ff",cyan:"#00bbbb",brightCyan:"#55ffff",white:"#bbbbbb",brightWhite:"#ffffff"},Bt={foreground:"#ffffff",background:"#2b2b2b",cursor:"#7f7f7f",black:"#000000",brightBlack:"#666666",red:"#cdaf95",brightRed:"#eecbad",green:"#a8ff60",brightGreen:"#bcee68",yellow:"#bfbb1f",brightYellow:"#e5e500",blue:"#75a5b0",brightBlue:"#86bdc9",magenta:"#ff73fd",brightMagenta:"#e500e5",cyan:"#5a647e",brightCyan:"#8c9bc4",white:"#bfbfbf",brightWhite:"#e5e5e5"},At={foreground:"#514968",background:"#100815",cursor:"#524966",black:"#241f2b",brightBlack:"#312d3d",red:"#91284c",brightRed:"#d5356c",green:"#23801c",brightGreen:"#2cd946",yellow:"#b49d27",brightYellow:"#fde83b",blue:"#6580b0",brightBlue:"#90baf9",magenta:"#674d96",brightMagenta:"#a479e3",cyan:"#8aaabe",brightCyan:"#acd4eb",white:"#524966",brightWhite:"#9e8cbd"},Ot={foreground:"#ececec",background:"#2c3941",cursor:"#ececec",black:"#2c3941",brightBlack:"#5d7079",red:"#865f5b",brightRed:"#865f5b",green:"#66907d",brightGreen:"#66907d",yellow:"#b1a990",brightYellow:"#b1a990",blue:"#6a8e95",brightBlue:"#6a8e95",magenta:"#b18a73",brightMagenta:"#b18a73",cyan:"#88b2ac",brightCyan:"#88b2ac",white:"#ececec",brightWhite:"#ececec"},Dt={foreground:"#deb88d",background:"#09141b",cursor:"#fca02f",black:"#17384c",brightBlack:"#434b53",red:"#d15123",brightRed:"#d48678",green:"#027c9b",brightGreen:"#628d98",yellow:"#fca02f",brightYellow:"#fdd39f",blue:"#1e4950",brightBlue:"#1bbcdd",magenta:"#68d4f1",brightMagenta:"#bbe3ee",cyan:"#50a3b5",brightCyan:"#87acb4",white:"#deb88d",brightWhite:"#fee4ce"},Tt={foreground:"#d4e7d4",background:"#243435",cursor:"#57647a",black:"#757575",brightBlack:"#8a8a8a",red:"#825d4d",brightRed:"#cf937a",green:"#728c62",brightGreen:"#98d9aa",yellow:"#ada16d",brightYellow:"#fae79d",blue:"#4d7b82",brightBlue:"#7ac3cf",magenta:"#8a7267",brightMagenta:"#d6b2a1",cyan:"#729494",brightCyan:"#ade0e0",white:"#e0e0e0",brightWhite:"#e0e0e0"},Pt={foreground:"#cacecd",background:"#111213",cursor:"#e3bf21",black:"#323232",brightBlack:"#323232",red:"#c22832",brightRed:"#c22832",green:"#8ec43d",brightGreen:"#8ec43d",yellow:"#e0c64f",brightYellow:"#e0c64f",blue:"#43a5d5",brightBlue:"#43a5d5",magenta:"#8b57b5",brightMagenta:"#8b57b5",cyan:"#8ec43d",brightCyan:"#8ec43d",white:"#eeeeee",brightWhite:"#ffffff"},It={foreground:"#405555",background:"#001015",cursor:"#4afcd6",black:"#012026",brightBlack:"#384451",red:"#b2302d",brightRed:"#ff4242",green:"#00a941",brightGreen:"#2aea5e",yellow:"#5e8baa",brightYellow:"#8ed4fd",blue:"#449a86",brightBlue:"#61d5ba",magenta:"#00599d",brightMagenta:"#1298ff",cyan:"#5d7e19",brightCyan:"#98d028",white:"#405555",brightWhite:"#58fbd6"},Ht={foreground:"#35b1d2",background:"#222222",cursor:"#87d3c4",black:"#222222",brightBlack:"#ffffff",red:"#e2a8bf",brightRed:"#ffcdd9",green:"#81d778",brightGreen:"#beffa8",yellow:"#c4c9c0",brightYellow:"#d0ccca",blue:"#264b49",brightBlue:"#7ab0d2",magenta:"#a481d3",brightMagenta:"#c5a7d9",cyan:"#15ab9c",brightCyan:"#8cdfe0",white:"#02c5e0",brightWhite:"#e0e0e0"},Wt={foreground:"#f7f7f7",background:"#1b1b1b",cursor:"#bbbbbb",black:"#000000",brightBlack:"#7a7a7a",red:"#b84131",brightRed:"#d6837c",green:"#7da900",brightGreen:"#c4f137",yellow:"#c4a500",brightYellow:"#fee14d",blue:"#62a3c4",brightBlue:"#8dcff0",magenta:"#ba8acc",brightMagenta:"#f79aff",cyan:"#207383",brightCyan:"#6ad9cf",white:"#a1a1a1",brightWhite:"#f7f7f7"},Ft={foreground:"#99a3a2",background:"#242626",cursor:"#d2e0de",black:"#000000",brightBlack:"#666c6c",red:"#a2686a",brightRed:"#dd5c60",green:"#9aa56a",brightGreen:"#bfdf55",yellow:"#a3906a",brightYellow:"#deb360",blue:"#6b8fa3",brightBlue:"#62b1df",magenta:"#6a71a3",brightMagenta:"#606edf",cyan:"#6ba58f",brightCyan:"#64e39c",white:"#99a3a2",brightWhite:"#d2e0de"},jt={foreground:"#d2d8d9",background:"#3d3f41",cursor:"#708284",black:"#25292a",brightBlack:"#25292a",red:"#f24840",brightRed:"#f24840",green:"#629655",brightGreen:"#629655",yellow:"#b68800",brightYellow:"#b68800",blue:"#2075c7",brightBlue:"#2075c7",magenta:"#797fd4",brightMagenta:"#797fd4",cyan:"#15968d",brightCyan:"#15968d",white:"#d2d8d9",brightWhite:"#d2d8d9"},Vt={foreground:"#708284",background:"#001e27",cursor:"#708284",black:"#002831",brightBlack:"#001e27",red:"#d11c24",brightRed:"#bd3613",green:"#738a05",brightGreen:"#475b62",yellow:"#a57706",brightYellow:"#536870",blue:"#2176c7",brightBlue:"#708284",magenta:"#c61c6f",brightMagenta:"#5956ba",cyan:"#259286",brightCyan:"#819090",white:"#eae3cb",brightWhite:"#fcf4dc"},$t={foreground:"#708284",background:"#001e27",cursor:"#708284",black:"#002831",brightBlack:"#475b62",red:"#d11c24",brightRed:"#bd3613",green:"#738a05",brightGreen:"#475b62",yellow:"#a57706",brightYellow:"#536870",blue:"#2176c7",brightBlue:"#708284",magenta:"#c61c6f",brightMagenta:"#5956ba",cyan:"#259286",brightCyan:"#819090",white:"#eae3cb",brightWhite:"#fcf4dc"},Xt={foreground:"#9cc2c3",background:"#001e27",cursor:"#f34b00",black:"#002831",brightBlack:"#006488",red:"#d11c24",brightRed:"#f5163b",green:"#6cbe6c",brightGreen:"#51ef84",yellow:"#a57706",brightYellow:"#b27e28",blue:"#2176c7",brightBlue:"#178ec8",magenta:"#c61c6f",brightMagenta:"#e24d8e",cyan:"#259286",brightCyan:"#00b39e",white:"#eae3cb",brightWhite:"#fcf4dc"},Zt={foreground:"#536870",background:"#fcf4dc",cursor:"#536870",black:"#002831",brightBlack:"#001e27",red:"#d11c24",brightRed:"#bd3613",green:"#738a05",brightGreen:"#475b62",yellow:"#a57706",brightYellow:"#536870",blue:"#2176c7",brightBlue:"#708284",magenta:"#c61c6f",brightMagenta:"#5956ba",cyan:"#259286",brightCyan:"#819090",white:"#eae3cb",brightWhite:"#fcf4dc"},Jt={foreground:"#b3b8c3",background:"#20242d",cursor:"#b3b8c3",black:"#000000",brightBlack:"#000000",red:"#b04b57",brightRed:"#b04b57",green:"#87b379",brightGreen:"#87b379",yellow:"#e5c179",brightYellow:"#e5c179",blue:"#7d8fa4",brightBlue:"#7d8fa4",magenta:"#a47996",brightMagenta:"#a47996",cyan:"#85a7a5",brightCyan:"#85a7a5",white:"#b3b8c3",brightWhite:"#ffffff"},Qt={foreground:"#bdbaae",background:"#222222",cursor:"#bbbbbb",black:"#15171c",brightBlack:"#555555",red:"#ec5f67",brightRed:"#ff6973",green:"#81a764",brightGreen:"#93d493",yellow:"#fec254",brightYellow:"#ffd256",blue:"#5486c0",brightBlue:"#4d84d1",magenta:"#bf83c1",brightMagenta:"#ff55ff",cyan:"#57c2c1",brightCyan:"#83e9e4",white:"#efece7",brightWhite:"#ffffff"},er={foreground:"#c9c6bc",background:"#222222",cursor:"#bbbbbb",black:"#15171c",brightBlack:"#555555",red:"#b24a56",brightRed:"#ec5f67",green:"#92b477",brightGreen:"#89e986",yellow:"#c6735a",brightYellow:"#fec254",blue:"#7c8fa5",brightBlue:"#5486c0",magenta:"#a5789e",brightMagenta:"#bf83c1",cyan:"#80cdcb",brightCyan:"#58c2c1",white:"#b3b8c3",brightWhite:"#ffffff"},tr={foreground:"#ecf0c1",background:"#0a1e24",cursor:"#708284",black:"#6e5346",brightBlack:"#684c31",red:"#e35b00",brightRed:"#ff8a3a",green:"#5cab96",brightGreen:"#aecab8",yellow:"#e3cd7b",brightYellow:"#ffc878",blue:"#0f548b",brightBlue:"#67a0ce",magenta:"#e35b00",brightMagenta:"#ff8a3a",cyan:"#06afc7",brightCyan:"#83a7b4",white:"#f0f1ce",brightWhite:"#fefff1"},rr={foreground:"#e3e3e3",background:"#1b1d1e",cursor:"#2c3fff",black:"#1b1d1e",brightBlack:"#505354",red:"#e60813",brightRed:"#ff0325",green:"#e22928",brightGreen:"#ff3338",yellow:"#e24756",brightYellow:"#fe3a35",blue:"#2c3fff",brightBlue:"#1d50ff",magenta:"#2435db",brightMagenta:"#747cff",cyan:"#3256ff",brightCyan:"#6184ff",white:"#fffef6",brightWhite:"#fffff9"},ir={foreground:"#4d4d4c",background:"#ffffff",cursor:"#4d4d4c",black:"#000000",brightBlack:"#000000",red:"#ff4d83",brightRed:"#ff0021",green:"#1f8c3b",brightGreen:"#1fc231",yellow:"#1fc95b",brightYellow:"#d5b807",blue:"#1dd3ee",brightBlue:"#15a9fd",magenta:"#8959a8",brightMagenta:"#8959a8",cyan:"#3e999f",brightCyan:"#3e999f",white:"#ffffff",brightWhite:"#ffffff"},nr={foreground:"#acacab",background:"#1a1a1a",cursor:"#fcfbcc",black:"#050505",brightBlack:"#141414",red:"#e9897c",brightRed:"#f99286",green:"#b6377d",brightGreen:"#c3f786",yellow:"#ecebbe",brightYellow:"#fcfbcc",blue:"#a9cdeb",brightBlue:"#b6defb",magenta:"#75507b",brightMagenta:"#ad7fa8",cyan:"#c9caec",brightCyan:"#d7d9fc",white:"#f2f2f2",brightWhite:"#e2e2e2"},or={foreground:"#c9c9c9",background:"#1a1818",cursor:"#ffffff",black:"#302b2a",brightBlack:"#4d4e48",red:"#a7463d",brightRed:"#aa000c",green:"#587744",brightGreen:"#128c21",yellow:"#9d602a",brightYellow:"#fc6a21",blue:"#485b98",brightBlue:"#7999f7",magenta:"#864651",brightMagenta:"#fd8aa1",cyan:"#9c814f",brightCyan:"#fad484",white:"#c9c9c9",brightWhite:"#ffffff"},sr={foreground:"#ffffff",background:"#000000",cursor:"#dc322f",black:"#000000",brightBlack:"#1b1d21",red:"#dc322f",brightRed:"#dc322f",green:"#56db3a",brightGreen:"#56db3a",yellow:"#ff8400",brightYellow:"#ff8400",blue:"#0084d4",brightBlue:"#0084d4",magenta:"#b729d9",brightMagenta:"#b729d9",cyan:"#ccccff",brightCyan:"#ccccff",white:"#ffffff",brightWhite:"#ffffff"},ar={foreground:"#d0d0d0",background:"#262626",cursor:"#e4c9af",black:"#1c1c1c",brightBlack:"#1c1c1c",red:"#d68686",brightRed:"#d68686",green:"#aed686",brightGreen:"#aed686",yellow:"#d7af87",brightYellow:"#e4c9af",blue:"#86aed6",brightBlue:"#86aed6",magenta:"#d6aed6",brightMagenta:"#d6aed6",cyan:"#8adbb4",brightCyan:"#b1e7dd",white:"#d0d0d0",brightWhite:"#efefef"},cr={foreground:"#000000",background:"#ffffff",cursor:"#7f7f7f",black:"#000000",brightBlack:"#666666",red:"#990000",brightRed:"#e50000",green:"#00a600",brightGreen:"#00d900",yellow:"#999900",brightYellow:"#e5e500",blue:"#0000b2",brightBlue:"#0000ff",magenta:"#b200b2",brightMagenta:"#e500e5",cyan:"#00a6b2",brightCyan:"#00e5e5",white:"#bfbfbf",brightWhite:"#e5e5e5"},lr={foreground:"#f8f8f8",background:"#1b1d1e",cursor:"#fc971f",black:"#1b1d1e",brightBlack:"#505354",red:"#f92672",brightRed:"#ff5995",green:"#4df840",brightGreen:"#b6e354",yellow:"#f4fd22",brightYellow:"#feed6c",blue:"#2757d6",brightBlue:"#3f78ff",magenta:"#8c54fe",brightMagenta:"#9e6ffe",cyan:"#38c8b5",brightCyan:"#23cfd5",white:"#ccccc6",brightWhite:"#f8f8f2"},vr={foreground:"#b5b5b5",background:"#1b1d1e",cursor:"#16b61b",black:"#1b1d1e",brightBlack:"#505354",red:"#269d1b",brightRed:"#8dff2a",green:"#13ce30",brightGreen:"#48ff77",yellow:"#63e457",brightYellow:"#3afe16",blue:"#2525f5",brightBlue:"#506b95",magenta:"#641f74",brightMagenta:"#72589d",cyan:"#378ca9",brightCyan:"#4085a6",white:"#d9d8d1",brightWhite:"#e5e6e1"},hr={foreground:"#4d4d4c",background:"#ffffff",cursor:"#4d4d4c",black:"#000000",brightBlack:"#000000",red:"#c82829",brightRed:"#c82829",green:"#718c00",brightGreen:"#718c00",yellow:"#eab700",brightYellow:"#eab700",blue:"#4271ae",brightBlue:"#4271ae",magenta:"#8959a8",brightMagenta:"#8959a8",cyan:"#3e999f",brightCyan:"#3e999f",white:"#ffffff",brightWhite:"#ffffff"},yr={foreground:"#c5c8c6",background:"#1d1f21",cursor:"#c5c8c6",black:"#000000",brightBlack:"#000000",red:"#cc6666",brightRed:"#cc6666",green:"#b5bd68",brightGreen:"#b5bd68",yellow:"#f0c674",brightYellow:"#f0c674",blue:"#81a2be",brightBlue:"#81a2be",magenta:"#b294bb",brightMagenta:"#b294bb",cyan:"#8abeb7",brightCyan:"#8abeb7",white:"#ffffff",brightWhite:"#ffffff"},Dr={foreground:"#ffffff",background:"#002451",cursor:"#ffffff",black:"#000000",brightBlack:"#000000",red:"#ff9da4",brightRed:"#ff9da4",green:"#d1f1a9",brightGreen:"#d1f1a9",yellow:"#ffeead",brightYellow:"#ffeead",blue:"#bbdaff",brightBlue:"#bbdaff",magenta:"#ebbbff",brightMagenta:"#ebbbff",cyan:"#99ffff",brightCyan:"#99ffff",white:"#ffffff",brightWhite:"#ffffff"},mr={foreground:"#eaeaea",background:"#000000",cursor:"#eaeaea",black:"#000000",brightBlack:"#000000",red:"#d54e53",brightRed:"#d54e53",green:"#b9ca4a",brightGreen:"#b9ca4a",yellow:"#e7c547",brightYellow:"#e7c547",blue:"#7aa6da",brightBlue:"#7aa6da",magenta:"#c397d8",brightMagenta:"#c397d8",cyan:"#70c0b1",brightCyan:"#70c0b1",white:"#ffffff",brightWhite:"#ffffff"},Sr={foreground:"#cccccc",background:"#2d2d2d",cursor:"#cccccc",black:"#000000",brightBlack:"#000000",red:"#f2777a",brightRed:"#f2777a",green:"#99cc99",brightGreen:"#99cc99",yellow:"#ffcc66",brightYellow:"#ffcc66",blue:"#6699cc",brightBlue:"#6699cc",magenta:"#cc99cc",brightMagenta:"#cc99cc",cyan:"#66cccc",brightCyan:"#66cccc",white:"#ffffff",brightWhite:"#ffffff"},Cr={foreground:"#31d07b",background:"#24364b",cursor:"#d5d5d5",black:"#2c3f58",brightBlack:"#336889",red:"#be2d26",brightRed:"#dd5944",green:"#1a9172",brightGreen:"#31d07b",yellow:"#db8e27",brightYellow:"#e7d84b",blue:"#325d96",brightBlue:"#34a6da",magenta:"#8a5edc",brightMagenta:"#ae6bdc",cyan:"#35a08f",brightCyan:"#42c3ae",white:"#23d183",brightWhite:"#d5d5d5"},wr={foreground:"#786b53",background:"#191919",cursor:"#fac814",black:"#321300",brightBlack:"#433626",red:"#b2270e",brightRed:"#ed5d20",green:"#44a900",brightGreen:"#55f238",yellow:"#aa820c",brightYellow:"#f2b732",blue:"#58859a",brightBlue:"#85cfed",magenta:"#97363d",brightMagenta:"#e14c5a",cyan:"#b25a1e",brightCyan:"#f07d14",white:"#786b53",brightWhite:"#ffc800"},j={foreground:"#eeeeec",background:"#300a24",cursor:"#bbbbbb",black:"#2e3436",brightBlack:"#555753",red:"#cc0000",brightRed:"#ef2929",green:"#4e9a06",brightGreen:"#8ae234",yellow:"#c4a000",brightYellow:"#fce94f",blue:"#3465a4",brightBlue:"#729fcf",magenta:"#75507b",brightMagenta:"#ad7fa8",cyan:"#06989a",brightCyan:"#34e2e2",white:"#d3d7cf",brightWhite:"#eeeeec"},U={foreground:"#ffffff",background:"#011116",cursor:"#4afcd6",black:"#022026",brightBlack:"#384451",red:"#b2302d",brightRed:"#ff4242",green:"#00a941",brightGreen:"#2aea5e",yellow:"#59819c",brightYellow:"#8ed4fd",blue:"#459a86",brightBlue:"#61d5ba",magenta:"#00599d",brightMagenta:"#1298ff",cyan:"#5d7e19",brightCyan:"#98d028",white:"#405555",brightWhite:"#58fbd6"},ce={foreground:"#877a9b",background:"#1b1b23",cursor:"#a063eb",black:"#000000",brightBlack:"#5d3225",red:"#b0425b",brightRed:"#ff6388",green:"#37a415",brightGreen:"#29e620",yellow:"#ad5c42",brightYellow:"#f08161",blue:"#564d9b",brightBlue:"#867aed",magenta:"#6c3ca1",brightMagenta:"#a05eee",cyan:"#808080",brightCyan:"#eaeaea",white:"#87799c",brightWhite:"#bfa3ff"},ge={foreground:"#dcdccc",background:"#25234f",cursor:"#ff5555",black:"#25234f",brightBlack:"#709080",red:"#705050",brightRed:"#dca3a3",green:"#60b48a",brightGreen:"#60b48a",yellow:"#dfaf8f",brightYellow:"#f0dfaf",blue:"#5555ff",brightBlue:"#5555ff",magenta:"#f08cc3",brightMagenta:"#ec93d3",cyan:"#8cd0d3",brightCyan:"#93e0e3",white:"#709080",brightWhite:"#ffffff"},Le={foreground:"#ffffff",background:"#000000",cursor:"#ffffff",black:"#878787",brightBlack:"#555555",red:"#ff6600",brightRed:"#ff0000",green:"#ccff04",brightGreen:"#00ff00",yellow:"#ffcc00",brightYellow:"#ffff00",blue:"#44b4cc",brightBlue:"#0000ff",magenta:"#9933cc",brightMagenta:"#ff00ff",cyan:"#44b4cc",brightCyan:"#00ffff",white:"#f5f5f5",brightWhite:"#e5e5e5"},be={foreground:"#708284",background:"#1c1d1f",cursor:"#708284",black:"#56595c",brightBlack:"#45484b",red:"#c94c22",brightRed:"#bd3613",green:"#85981c",brightGreen:"#738a04",yellow:"#b4881d",brightYellow:"#a57705",blue:"#2e8bce",brightBlue:"#2176c7",magenta:"#d13a82",brightMagenta:"#c61c6f",cyan:"#32a198",brightCyan:"#259286",white:"#c9c6bd",brightWhite:"#c9c6bd"},ae={foreground:"#536870",background:"#fcf4dc",cursor:"#536870",black:"#56595c",brightBlack:"#45484b",red:"#c94c22",brightRed:"#bd3613",green:"#85981c",brightGreen:"#738a04",yellow:"#b4881d",brightYellow:"#a57705",blue:"#2e8bce",brightBlue:"#2176c7",magenta:"#d13a82",brightMagenta:"#c61c6f",cyan:"#32a198",brightCyan:"#259286",white:"#d3d0c9",brightWhite:"#c9c6bd"},Ce={foreground:"#afdab6",background:"#404040",cursor:"#30ff24",black:"#000000",brightBlack:"#fefcfc",red:"#e24346",brightRed:"#e97071",green:"#39b13a",brightGreen:"#9cc090",yellow:"#dae145",brightYellow:"#ddda7a",blue:"#4261c5",brightBlue:"#7b91d6",magenta:"#f920fb",brightMagenta:"#f674ba",cyan:"#2abbd4",brightCyan:"#5ed1e5",white:"#d0b8a3",brightWhite:"#d8c8bb"},Ee={foreground:"#b3b3b3",background:"#000000",cursor:"#53ae71",black:"#000000",brightBlack:"#555555",red:"#cc5555",brightRed:"#ff5555",green:"#55cc55",brightGreen:"#55ff55",yellow:"#cdcd55",brightYellow:"#ffff55",blue:"#5555cc",brightBlue:"#5555ff",magenta:"#cc55cc",brightMagenta:"#ff55ff",cyan:"#7acaca",brightCyan:"#55ffff",white:"#cccccc",brightWhite:"#ffffff"},Ue={foreground:"#dafaff",background:"#1f1726",cursor:"#dd00ff",black:"#000507",brightBlack:"#009cc9",red:"#d94085",brightRed:"#da6bac",green:"#2ab250",brightGreen:"#f4dca5",yellow:"#ffd16f",brightYellow:"#eac066",blue:"#883cdc",brightBlue:"#308cba",magenta:"#ececec",brightMagenta:"#ae636b",cyan:"#c1b8b7",brightCyan:"#ff919d",white:"#fff8de",brightWhite:"#e4838d"},oe={foreground:"#dedacf",background:"#171717",cursor:"#bbbbbb",black:"#000000",brightBlack:"#313131",red:"#ff615a",brightRed:"#f58c80",green:"#b1e969",brightGreen:"#ddf88f",yellow:"#ebd99c",brightYellow:"#eee5b2",blue:"#5da9f6",brightBlue:"#a5c7ff",magenta:"#e86aff",brightMagenta:"#ddaaff",cyan:"#82fff7",brightCyan:"#b7fff9",white:"#dedacf",brightWhite:"#ffffff"},pe={foreground:"#999993",background:"#101010",cursor:"#9e9ecb",black:"#333333",brightBlack:"#3d3d3d",red:"#8c4665",brightRed:"#bf4d80",green:"#287373",brightGreen:"#53a6a6",yellow:"#7c7c99",brightYellow:"#9e9ecb",blue:"#395573",brightBlue:"#477ab3",magenta:"#5e468c",brightMagenta:"#7e62b3",cyan:"#31658c",brightCyan:"#6096bf",white:"#899ca1",brightWhite:"#c0c0c0"},Oe={foreground:"#dcdccc",background:"#3f3f3f",cursor:"#73635a",black:"#4d4d4d",brightBlack:"#709080",red:"#705050",brightRed:"#dca3a3",green:"#60b48a",brightGreen:"#c3bf9f",yellow:"#f0dfaf",brightYellow:"#e0cf9f",blue:"#506070",brightBlue:"#94bff3",magenta:"#dc8cc3",brightMagenta:"#ec93d3",cyan:"#8cd0d3",brightCyan:"#93e0e3",white:"#dcdccc",brightWhite:"#ffffff"},De={foreground:"#e6e1cf",background:"#0f1419",cursor:"#f29718",black:"#000000",brightBlack:"#323232",red:"#ff3333",brightRed:"#ff6565",green:"#b8cc52",brightGreen:"#eafe84",yellow:"#e7c547",brightYellow:"#fff779",blue:"#36a3d9",brightBlue:"#68d5ff",magenta:"#f07178",brightMagenta:"#ffa3aa",cyan:"#95e6cb",brightCyan:"#c7fffd",white:"#ffffff",brightWhite:"#ffffff"},Re={foreground:"#cdcdcd",background:"#000000",cursor:"#d0d0d0",black:"#000000",brightBlack:"#535353",red:"#d11600",brightRed:"#f4152c",green:"#37c32c",brightGreen:"#01ea10",yellow:"#e3c421",brightYellow:"#ffee1d",blue:"#5c6bfd",brightBlue:"#8cb0f8",magenta:"#dd5be5",brightMagenta:"#e056f5",cyan:"#6eb4f2",brightCyan:"#67ecff",white:"#e0e0e0",brightWhite:"#f4f4f4"},Me={foreground:"#ffffff",background:"#323232",cursor:"#d6d6d6",black:"#323232",brightBlack:"#535353",red:"#d25252",brightRed:"#f07070",green:"#7fe173",brightGreen:"#9dff91",yellow:"#ffc66d",brightYellow:"#ffe48b",blue:"#4099ff",brightBlue:"#5eb7f7",magenta:"#f680ff",brightMagenta:"#ff9dff",cyan:"#bed6ff",brightCyan:"#dcf4ff",white:"#eeeeec",brightWhite:"#ffffff"},de={Night_3024:H,AdventureTime:T,Afterglow:o,AlienBlood:y,Argonaut:l,Arthur:u,AtelierSulphurpool:d,Atom:p,Batman:v,Belafonte_Night:g,BirdsOfParadise:s,Blazer:a,Borland:_,Bright_Lights:h,Broadcast:r,Brogrammer:e,C64:t,Chalk:i,Chalkboard:n,Ciapre:f,Cobalt2:c,Cobalt_Neon:b,CrayonPonyFish:C,Dark_Pastel:m,Darkside:S,Desert:k,DimmedMonokai:A,DotGov:E,Dracula:B,Duotone_Dark:R,ENCOM:x,Earthsong:D,Elemental:W,Elementary:z,Espresso:Y,Espresso_Libre:N,Fideloper:V,FirefoxDev:K,Firewatch:O,FishTank:ee,Flat:Q,Flatland:ne,Floraverse:F,ForestBlue:re,FrontEndDelight:J,FunForrest:G,Galaxy:P,Github:I,Glacier:q,Grape:X,Grass:Z,Gruvbox_Dark:te,Hardcore:se,Harper:le,Highway:he,Hipster_Green:$,Homebrew:fe,Hurtado:_e,Hybrid:ke,IC_Green_PPL:We,IC_Orange_PPL:qt,IR_Black:Nt,Jackie_Brown:Gt,Japanesque:zt,Jellybeans:Yt,JetBrains_Darcula:Kt,Kibble:ze,Later_This_Evening:Ye,Lavandula:Ke,LiquidCarbon:Ve,LiquidCarbonTransparent:$e,LiquidCarbonTransparentInverse:Xe,Man_Page:Ze,Material:Je,MaterialDark:Qe,Mathias:et,Medallion:tt,Misterioso:rt,Molokai:it,MonaLisa:nt,Monokai_Soda:ot,Monokai_Vivid:st,N0tch2k:at,Neopolitan:ct,Neutron:lt,NightLion_v1:ht,NightLion_v2:ft,Novel:ut,Obsidian:dt,Ocean:_t,OceanicMaterial:gt,Ollie:pt,OneHalfDark:bt,OneHalfLight:vt,Pandora:yt,Paraiso_Dark:mt,Parasio_Dark:St,PaulMillr:Ct,PencilDark:wt,PencilLight:kt,Piatto_Light:Lt,Pnevma:Et,Pro:xt,Red_Alert:Rt,Red_Sands:Mt,Rippedcasts:Bt,Royal:At,Ryuuko:Ot,SeaShells:Dt,Seafoam_Pastel:Tt,Seti:Pt,Shaman:It,Slate:Ht,Smyck:Wt,SoftServer:Ft,Solarized_Darcula:jt,Solarized_Dark:Vt,Solarized_Dark_Patched:$t,Solarized_Dark_Higher_Contrast:Xt,Solarized_Light:Zt,SpaceGray:Jt,SpaceGray_Eighties:Qt,SpaceGray_Eighties_Dull:er,Spacedust:tr,Spiderman:rr,Spring:ir,Square:nr,Sundried:or,Symfonic:sr,Teerb:ar,Terminal_Basic:cr,Thayer_Bright:lr,The_Hulk:vr,Tomorrow:hr,Tomorrow_Night:yr,Tomorrow_Night_Blue:Dr,Tomorrow_Night_Bright:mr,Tomorrow_Night_Eighties:Sr,ToyChest:Cr,Treehouse:wr,Ubuntu:j,UnderTheSea:U,Urple:ce,Vaughn:ge,VibrantInk:Le,Violet_Dark:be,Violet_Light:ae,WarmNeon:Ce,Wez:Ee,WildCherry:Ue,Wombat:oe,Wryan:pe,Zenburn:Oe,ayu:De,deep:Re,idleToes:Me};w.AdventureTime=T,w.Afterglow=o,w.AlienBlood=y,w.Argonaut=l,w.Arthur=u,w.AtelierSulphurpool=d,w.Atom=p,w.Batman=v,w.Belafonte_Night=g,w.BirdsOfParadise=s,w.Blazer=a,w.Borland=_,w.Bright_Lights=h,w.Broadcast=r,w.Brogrammer=e,w.C64=t,w.Chalk=i,w.Chalkboard=n,w.Ciapre=f,w.Cobalt2=c,w.Cobalt_Neon=b,w.CrayonPonyFish=C,w.Dark_Pastel=m,w.Darkside=S,w.Desert=k,w.DimmedMonokai=A,w.DotGov=E,w.Dracula=B,w.Duotone_Dark=R,w.ENCOM=x,w.Earthsong=D,w.Elemental=W,w.Elementary=z,w.Espresso=Y,w.Espresso_Libre=N,w.Fideloper=V,w.FirefoxDev=K,w.Firewatch=O,w.FishTank=ee,w.Flat=Q,w.Flatland=ne,w.Floraverse=F,w.ForestBlue=re,w.FrontEndDelight=J,w.FunForrest=G,w.Galaxy=P,w.Github=I,w.Glacier=q,w.Grape=X,w.Grass=Z,w.Gruvbox_Dark=te,w.Hardcore=se,w.Harper=le,w.Highway=he,w.Hipster_Green=$,w.Homebrew=fe,w.Hurtado=_e,w.Hybrid=ke,w.IC_Green_PPL=We,w.IC_Orange_PPL=qt,w.IR_Black=Nt,w.Jackie_Brown=Gt,w.Japanesque=zt,w.Jellybeans=Yt,w.JetBrains_Darcula=Kt,w.Kibble=ze,w.Later_This_Evening=Ye,w.Lavandula=Ke,w.LiquidCarbon=Ve,w.LiquidCarbonTransparent=$e,w.LiquidCarbonTransparentInverse=Xe,w.Man_Page=Ze,w.Material=Je,w.MaterialDark=Qe,w.Mathias=et,w.Medallion=tt,w.Misterioso=rt,w.Molokai=it,w.MonaLisa=nt,w.Monokai_Soda=ot,w.Monokai_Vivid=st,w.N0tch2k=at,w.Neopolitan=ct,w.Neutron=lt,w.NightLion_v1=ht,w.NightLion_v2=ft,w.Night_3024=H,w.Novel=ut,w.Obsidian=dt,w.Ocean=_t,w.OceanicMaterial=gt,w.Ollie=pt,w.OneHalfDark=bt,w.OneHalfLight=vt,w.Pandora=yt,w.Paraiso_Dark=mt,w.Parasio_Dark=St,w.PaulMillr=Ct,w.PencilDark=wt,w.PencilLight=kt,w.Piatto_Light=Lt,w.Pnevma=Et,w.Pro=xt,w.Red_Alert=Rt,w.Red_Sands=Mt,w.Rippedcasts=Bt,w.Royal=At,w.Ryuuko=Ot,w.SeaShells=Dt,w.Seafoam_Pastel=Tt,w.Seti=Pt,w.Shaman=It,w.Slate=Ht,w.Smyck=Wt,w.SoftServer=Ft,w.Solarized_Darcula=jt,w.Solarized_Dark=Vt,w.Solarized_Dark_Higher_Contrast=Xt,w.Solarized_Dark_Patched=$t,w.Solarized_Light=Zt,w.SpaceGray=Jt,w.SpaceGray_Eighties=Qt,w.SpaceGray_Eighties_Dull=er,w.Spacedust=tr,w.Spiderman=rr,w.Spring=ir,w.Square=nr,w.Sundried=or,w.Symfonic=sr,w.Teerb=ar,w.Terminal_Basic=cr,w.Thayer_Bright=lr,w.The_Hulk=vr,w.Tomorrow=hr,w.Tomorrow_Night=yr,w.Tomorrow_Night_Blue=Dr,w.Tomorrow_Night_Bright=mr,w.Tomorrow_Night_Eighties=Sr,w.ToyChest=Cr,w.Treehouse=wr,w.Ubuntu=j,w.UnderTheSea=U,w.Urple=ce,w.Vaughn=ge,w.VibrantInk=Le,w.Violet_Dark=be,w.Violet_Light=ae,w.WarmNeon=Ce,w.Wez=Ee,w.WildCherry=Ue,w.Wombat=oe,w.Wryan=pe,w.Zenburn=Oe,w.ayu=De,w.deep=Re,w.default=de,w.idleToes=Me,Object.defineProperty(w,"__esModule",{value:!0})})})(jr,jr.exports);function Kr(L,M){M?(document.documentElement.classList.remove("light"),document.documentElement.classList.add("dark"),L.options.theme={...jr.exports.MaterialDark,selection:"#bbb",background:"#00000000"}):(document.documentElement.classList.remove("dark"),document.documentElement.classList.add("light"),L.options.theme={...jr.exports.Material,background:"#FFFFFF00",selection:"#666"})}const Ti="__rayon__storage_key_theme__",Kn=()=>{const L=localStorage.getItem(Ti);return $n(L)},Vn=L=>{localStorage.setItem(Ti,JSON.stringify(L))},$n=L=>{try{return JSON.parse(L)}catch{return null}},Pi=Symbol("store-raw"),Ur=Symbol("store-node"),Xn=Symbol("store-name");function Ii(L,M){let w=L[pr];if(!w){Object.defineProperty(L,pr,{value:w=new Proxy(L,Qn)});const H=Object.keys(L),T=Object.getOwnPropertyDescriptors(L);for(let o=0,y=H.length;o<y;o++){const l=H[o];if(T[l].get){const u=T[l].get.bind(w);Object.defineProperty(L,l,{get:u})}}}return w}function qr(L){let M;return L!=null&&typeof L=="object"&&(L[pr]||!(M=Object.getPrototypeOf(L))||M===Object.prototype||Array.isArray(L))}function Br(L,M=new Set){let w,H,T,o;if(w=L!=null&&L[Pi])return w;if(!qr(L)||M.has(L))return L;if(Array.isArray(L)){Object.isFrozen(L)?L=L.slice(0):M.add(L);for(let y=0,l=L.length;y<l;y++)T=L[y],(H=Br(T,M))!==T&&(L[y]=H)}else{Object.isFrozen(L)?L=Object.assign({},L):M.add(L);const y=Object.keys(L),l=Object.getOwnPropertyDescriptors(L);for(let u=0,d=y.length;u<d;u++)o=y[u],!l[o].get&&(T=L[o],(H=Br(T,M))!==T&&(L[o]=H))}return L}function si(L){let M=L[Ur];return M||Object.defineProperty(L,Ur,{value:M={}}),M}function Xr(L,M,w){return L[M]||(L[M]=Wi(w,!0))}function Zn(L,M){const w=Reflect.getOwnPropertyDescriptor(L,M);return!w||w.get||!w.configurable||M===pr||M===Ur||M===Xn||(delete w.value,delete w.writable,w.get=()=>L[pr][M]),w}function Hi(L){if(Ci()){const M=si(L);(M._||(M._=Wi()))()}}function Jn(L){return Hi(L),Reflect.ownKeys(L)}function Wi(L,M){const[w,H]=_r(L,M?{internal:!0}:{equals:!1,internal:!0});return w.$=H,w}const Qn={get(L,M,w){if(M===Pi)return L;if(M===pr)return w;if(M===Gi)return Hi(L);const H=si(L),T=H[M];let o=T?H[M]():L[M];if(M===Ur||M==="__proto__")return o;if(!T){const y=Object.getOwnPropertyDescriptor(L,M);Ci()&&(typeof o!="function"||L.hasOwnProperty(M))&&!(y&&y.get)&&(o=Xr(H,M,o)())}return qr(o)?Ii(o):o},set(){return!0},deleteProperty(){return!0},ownKeys:Jn,getOwnPropertyDescriptor:Zn};function Nr(L,M,w){if(L[M]===w)return;const H=L[M],T=L.length;w===void 0?delete L[M]:L[M]=w;let o=si(L),y;(y=Xr(o,M,H))&&y.$(()=>w),Array.isArray(L)&&L.length!==T&&(y=Xr(o,"length",T))&&y.$(L.length),(y=o._)&&y.$()}function Fi(L,M){const w=Object.keys(M);for(let H=0;H<w.length;H+=1){const T=w[H];Nr(L,T,M[T])}}function eo(L,M){if(typeof M=="function"&&(M=M(L)),M=Br(M),Array.isArray(M)){if(L===M)return;let w=0,H=M.length;for(;w<H;w++){const T=M[w];L[w]!==T&&Nr(L,w,T)}Nr(L,"length",H)}else Fi(L,M)}function Er(L,M,w=[]){let H,T=L;if(M.length>1){H=M.shift();const y=typeof H,l=Array.isArray(L);if(Array.isArray(H)){for(let u=0;u<H.length;u++)Er(L,[H[u]].concat(M),w);return}else if(l&&y==="function"){for(let u=0;u<L.length;u++)H(L[u],u)&&Er(L,[u].concat(M),w);return}else if(l&&y==="object"){const{from:u=0,to:d=L.length-1,by:p=1}=H;for(let v=u;v<=d;v+=p)Er(L,[v].concat(M),w);return}else if(M.length>1){Er(L[H],M,[H].concat(w));return}T=L[H],w=[H].concat(w)}let o=M[0];typeof o=="function"&&(o=o(T,w),o===T)||H===void 0&&o==null||(o=Br(o),H===void 0||qr(T)&&qr(o)&&!Array.isArray(o)?Fi(T,o):Nr(L,H,o))}function to(...[L,M]){const w=Br(L||{}),H=Array.isArray(w),T=Ii(w);function o(...y){mi(()=>{H&&y.length===1?eo(w,y[0]):Er(w,y)})}return[T,o]}class ro{constructor(){this.featureStore=to({searchBar:[!1,{}]}),this.getFeature=M=>this.featureStore[0][M],this.isFeatureEnabled=M=>this.getFeature(M)[0],this.enableFeature=(M,w)=>{const[H,T]=this.featureStore;T(M,([o,y])=>[!0,{...y,...w}])},this.disableFeature=M=>{const[w,H]=this.featureStore;H(M,([T,o])=>[!1,o])},this.toggleFeatureEnable=M=>{this.isFeatureEnabled(M)?this.disableFeature(M):this.enableFeature(M)}}getAllFeatures(){return Object.keys(this.featureStore[0])}}const Zr=new ro;function io(L){window.fit=()=>{Gr.fit()},window.term=L,window.terminal=L,window.send=w=>{const H={magic:"command",msg:w};window.webkit?.messageHandlers.callbackHandler.postMessage(H)};let M=null;window.setTheme=w=>{const H=document.createElement("style"),{fontFamily:T,fontSize:o,...y}=w;H.innerHTML=`
  .xterm-rows {
    
  }`,T&&(L.options.fontFamily=T),o&&(L.options.fontSize=o),document.head.appendChild(H),M&&M.remove(),M=H,Vn(w),L.refresh(0,L.rows-1)},window.manager=Zr}const no="0.2.2",Gr=new Ai.exports.FitAddon,ji=new Oi.exports.SearchAddon;oi.exports.Terminal.prototype.writeBase64=function(L){this.write(zn(L))};const Ne=(()=>{const L=Kn(),M=new oi.exports.Terminal({allowTransparency:!0,theme:{background:"transparent"},rendererType:"dom",fontFamily:L?.fontFamily||"monospace",fontSize:L?.fontSize||16});return M.loadAddon(Gr),M.loadAddon(ji),M.onTitleChange(w=>{const H={magic:"title",msg:w};window.webkit?.messageHandlers.callbackHandler.postMessage(H)}),M.onData(w=>{const H={magic:"data",msg:w};Di||M.write(w),window.webkit?.messageHandlers.callbackHandler.postMessage(H)}),Kr(M,window.matchMedia("(prefers-color-scheme: dark)").matches),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",w=>{w.matches?Kr(M,!0):Kr(M,!1)}),io(M),console.log(`%c Rayon Terminal v${no} %c https://innei.ren `,"color: #fff; margin: 1em 0; padding: 5px 0; background: #2ab;","margin: 1em 0; padding: 5px 0; background: #efefef;"),M})(),oo="_xterm_1dtpk_1",so="_focus_1dtpk_16",ao="_bar_1dtpk_24",co="_icon_1dtpk_31",lo="_enable_1dtpk_35";var gr={xterm:oo,"search-bar-wrapper":"_search-bar-wrapper_1dtpk_10",focus:so,bar:ao,icon:co,enable:lo};const ho=ni('<div id="xterm"></div>'),fo=()=>{let L;Ir(()=>{Ne.open(L),Gr.fit(),Ne.focus()});let M;return Ir(()=>{M=new ResizeObserver(Nn(()=>{Gr.fit();const w={cols:Ne.cols,rows:Ne.rows},H={magic:"size",msg:JSON.stringify(w)};console.log("resize",H),window.webkit?.messageHandlers.callbackHandler.postMessage(H)},100)),M.observe(L)}),Si(()=>{M.disconnect()}),(()=>{const w=ho.cloneNode(!0),H=L;return typeof H=="function"?H(w):L=w,je(()=>xi(w,gr.xterm)),w})()},uo=ni('<svg preserveAspectRatio="xMidYMid meet" viewBox="0 0 24 24" width="1.2em" height="1.2em"><path fill="currentColor" d="M20.06 18a3.99 3.99 0 0 1-.2-.89c-.67.7-1.48 1.05-2.41 1.05c-.83 0-1.52-.24-2.05-.71c-.53-.45-.8-1.06-.8-1.79c0-.88.33-1.56 1-2.05c.67-.49 1.61-.73 2.83-.73h1.4v-.64c0-.49-.15-.88-.45-1.17c-.3-.29-.75-.43-1.33-.43c-.52 0-.95.12-1.3.36c-.35.25-.52.54-.52.89h-1.46c0-.43.15-.84.45-1.24c.28-.4.71-.71 1.22-.94c.51-.21 1.06-.35 1.69-.35c.98 0 1.74.24 2.29.73s.84 1.16.86 2.02V16c0 .8.1 1.42.3 1.88V18h-1.52m-2.4-1.12c.45 0 .88-.11 1.29-.32c.4-.21.7-.49.88-.83v-1.57H18.7c-1.77 0-2.66.47-2.66 1.41c0 .43.15.73.46.96c.3.23.68.35 1.16.35m-12.2-3.17h4.07L7.5 8.29l-2.04 5.42M6.64 6h1.72l4.71 12h-1.93l-.97-2.57H4.82L3.86 18H1.93L6.64 6M2 20h11v2H2v-2Z"></path></svg>');var _o=(L={})=>(()=>{const M=uo.cloneNode(!0);return hn(M,L,!0,!0),M})();const go=ni('<div><input type="text" class="text-sm"><div class="ml-2 px-1 flex flex-shrink-0 items-center relative dark:text-light-300"><span class="flex cursor-pointer"></span></div></div>'),po=()=>{let L,M;const[w,H]=_r(!1),[T,o]=_r(!1),[y,l]=_r(!1),[u,d]=_r(!1),[p,v]=_r("");Ir(()=>{if(!Zr.isFeatureEnabled("searchBar"))return;const a=window.document.documentElement;a.onkeydown=g()});function g(){return a=>{(a.metaKey||a.ctrlKey)&&a.key==="f"&&(H(!0),requestAnimationFrame(()=>{M.focus()}),a.stopPropagation(),a.preventDefault()),a.key==="Escape"&&(T()||H(!1))}}Si(()=>{document.documentElement.onkeydown=null}),Yi(()=>{Zr.isFeatureEnabled("searchBar")?document.documentElement.onkeydown=g():(H(!1),l(!1),document.documentElement.onkeydown=null)});const s=a=>{ji.findNext(a??p(),{caseSensitive:u()})};return yi(()=>{p(),u(),s()}),(()=>{const a=go.cloneNode(!0),_=a.firstChild,h=_.nextSibling,r=h.firstChild,e=L;typeof e=="function"?e(a):L=a,_.$$input=i=>{const n=i.target.value;v(n)},_.addEventListener("compositionend",i=>{o(!1)}),_.addEventListener("compositionstart",i=>{o(!0)}),_.$$keydown=i=>{const n=i.target.value;i.key==="Enter"&&s(n)},_.addEventListener("blur",()=>{l(!1)}),_.addEventListener("focus",()=>{l(!0)});const t=M;return typeof t=="function"?t(_):M=_,r.$$click=()=>{d(!u()),M.focus()},Ri(r,Wr(_o,{})),je(i=>{const n={[gr["search-bar-wrapper"]]:!0,active:w(),[gr.focus]:y()},f={[gr.bar]:!0},c={[gr.icon]:!0,[gr.enable]:u()};return i._v$=Tr(a,n,i._v$),i._v$2=Tr(_,f,i._v$2),i._v$3=Tr(r,c,i._v$3),i},{_v$:void 0,_v$2:void 0,_v$3:void 0}),je(()=>_.value=p()),a})()};Ei(["keydown","input","click"]);const bo=()=>{Ir(()=>{Di||(Ne.write(`\x1B[31mHello world\x1B[0m
`),Ne.write(`\x1B[?1l\x1B>\x1B[?2004l\r\r
\x1B]2;ls --color=tty\x07\x1B]1;ls\x07`),Ne.write("fisher.fish  install.sh  \x1B[0m\x1B[01;34mmx\x1B[0m  \x1B[01;34mnode_modules\x1B[0m  package.json  package-lock.json"),Ne.write("\r\x1B[0m\x1B[27m\x1B[24m\x1B[J\x1B[01;32m\u279C  \x1B[36m~\x1B[00m "),document.body.classList.add("bg-light-50","dark:bg-dark-300"))})},vo=()=>(bo(),[Wr(fo,{}),Wr(po,{})]);on(()=>Wr(vo,{}),document.getElementById("root"));
