var g=Object.defineProperty,w=Object.defineProperties;var p=Object.getOwnPropertyDescriptors;var d=Object.getOwnPropertySymbols;var h=Object.prototype.hasOwnProperty,b=Object.prototype.propertyIsEnumerable;var m=(t,e,o)=>e in t?g(t,e,{enumerable:!0,configurable:!0,writable:!0,value:o}):t[e]=o,i=(t,e)=>{for(var o in e||(e={}))h.call(e,o)&&m(t,o,e[o]);if(d)for(var o of d(e))b.call(e,o)&&m(t,o,e[o]);return t},c=(t,e)=>w(t,p(e));import{x as u,a as f,b as k,d as y}from"./vendor.79a29ec7.js";const x=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))r(n);new MutationObserver(n=>{for(const s of n)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function o(n){const s={};return n.integrity&&(s.integrity=n.integrity),n.referrerpolicy&&(s.referrerPolicy=n.referrerpolicy),n.crossorigin==="use-credentials"?s.credentials="include":n.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(n){if(n.ep)return;n.ep=!0;const s=o(n);fetch(n.href,s)}};x();function l(t,e){e?t.options.theme=c(i({},u.exports.MaterialDark),{background:"#00000000"}):t.options.theme=c(i({},u.exports.Material),{background:"#FFFFFF00"})}function H(t){return new Uint8Array(atob(t).split("").map(M))}function M(t){return t.charCodeAt(0)}function T(){const t=document.getElementById("terminal"),e=new f.exports.Terminal({allowTransparency:!0,theme:{background:"transparent"},rendererType:"dom"}),o=new k.exports.FitAddon;return e.loadAddon(o),e.open(t),o.fit(),new ResizeObserver(y(()=>{var s;o.fit();const r={cols:e.cols,rows:e.rows},n={magic:"size",msg:JSON.stringify(r)};console.log("resize",n),(s=window.webkit)==null||s.messageHandlers.callbackHandler.postMessage(n)},100)).observe(t),e.focus(),e.onTitleChange(r=>{var s;const n={magic:"title",msg:r};(s=window.webkit)==null||s.messageHandlers.callbackHandler.postMessage(n)}),e.onData(r=>{var s;const n={magic:"data",msg:r};(s=window.webkit)==null||s.messageHandlers.callbackHandler.postMessage(n)}),e}f.exports.Terminal.prototype.writeBase64=function(t){this.write(H(t))};function A(){const t=T();window.fit=()=>{},window.term=t,window.terminal=t,window.send=e=>{var r;const o={magic:"command",msg:e};(r=window.webkit)==null||r.messageHandlers.callbackHandler.postMessage(o)},l(t,window.matchMedia("(prefers-color-scheme: dark)").matches),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",e=>{e.matches?l(t,!0):l(t,!1)}),setTimeout(function(){var o;const e={magic:"bell",msg:"null"};(o=window.webkit)==null||o.messageHandlers.callbackHandler.postMessage(e)},1e3)}A();
